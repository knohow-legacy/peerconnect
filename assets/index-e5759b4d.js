function di(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function A(){}const Qt=t=>t;function er(t){return t()}function _n(){return Object.create(null)}function ge(t){t.forEach(er)}function $e(t){return typeof t=="function"}function W(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let st;function vt(t,e){return st||(st=document.createElement("a")),st.href=e,t===st.href}function hi(t){return Object.keys(t).length===0}function Xt(t,...e){if(t==null)return A;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Be(t){let e;return Xt(t,n=>e=n)(),e}function _e(t,e,n){t.$$.on_destroy.push(Xt(e,n))}const tr=typeof window<"u";let $t=tr?()=>window.performance.now():()=>Date.now(),en=tr?t=>requestAnimationFrame(t):A;const Ie=new Set;function nr(t){Ie.forEach(e=>{e.c(t)||(Ie.delete(e),e.f())}),Ie.size!==0&&en(nr)}function tn(t){let e;return Ie.size===0&&en(nr),{promise:new Promise(n=>{Ie.add(e={c:t,f:n})}),abort(){Ie.delete(e)}}}function _(t,e){t.appendChild(e)}function rr(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function pi(t){const e=y("style");return mi(rr(t),e),e.sheet}function mi(t,e){return _(t.head||t,e),e.sheet}function E(t,e,n){t.insertBefore(e,n||null)}function P(t){t.parentNode&&t.parentNode.removeChild(t)}function et(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function y(t){return document.createElement(t)}function X(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function ee(t){return document.createTextNode(t)}function T(){return ee(" ")}function nn(){return ee("")}function te(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function h(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function gi(t){return Array.from(t.childNodes)}function ye(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function yn(t,e){t.value=e??""}function ve(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function de(t,e,n){t.classList[n?"add":"remove"](e)}function _i(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,r,e),i}const bt=new Map;let St=0;function yi(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Ci(t,e){const n={stylesheet:pi(e),rules:{}};return bt.set(t,n),n}function kt(t,e,n,r,i,s,o,c=0){const a=16.666/r;let l=`{
`;for(let C=0;C<=1;C+=a){const R=e+(n-e)*s(C);l+=C*100+`%{${o(R,1-R)}}
`}const u=l+`100% {${o(n,1-n)}}
}`,f=`__svelte_${yi(u)}_${c}`,d=rr(t),{stylesheet:g,rules:p}=bt.get(d)||Ci(d,t);p[f]||(p[f]=!0,g.insertRule(`@keyframes ${f} ${u}`,g.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${f} ${r}ms linear ${i}ms 1 both`,St+=1,f}function Tt(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),i=n.length-r.length;i&&(t.style.animation=r.join(", "),St-=i,St||vi())}function vi(){en(()=>{St||(bt.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&P(e)}),bt.clear())})}let Ye;function Ze(t){Ye=t}function ir(){if(!Ye)throw new Error("Function called outside component initialization");return Ye}function sr(t){ir().$$.on_mount.push(t)}function He(t){ir().$$.on_destroy.push(t)}const We=[],Qe=[],ct=[],Cn=[],bi=Promise.resolve();let Nt=!1;function Si(){Nt||(Nt=!0,bi.then(or))}function he(t){ct.push(t)}const wt=new Set;let ot=0;function or(){const t=Ye;do{for(;ot<We.length;){const e=We[ot];ot++,Ze(e),ki(e.$$)}for(Ze(null),We.length=0,ot=0;Qe.length;)Qe.pop()();for(let e=0;e<ct.length;e+=1){const n=ct[e];wt.has(n)||(wt.add(n),n())}ct.length=0}while(We.length);for(;Cn.length;)Cn.pop()();Nt=!1,wt.clear(),Ze(t)}function ki(t){if(t.fragment!==null){t.update(),ge(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(he)}}let Je;function rn(){return Je||(Je=Promise.resolve(),Je.then(()=>{Je=null})),Je}function Me(t,e,n){t.dispatchEvent(_i(`${e?"intro":"outro"}${n}`))}const lt=new Set;let ke;function se(){ke={r:0,c:[],p:ke}}function oe(){ke.r||ge(ke.c),ke=ke.p}function S(t,e){t&&t.i&&(lt.delete(t),t.i(e))}function k(t,e,n,r){if(t&&t.o){if(lt.has(t))return;lt.add(t),ke.c.push(()=>{lt.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const sn={duration:0};function Ve(t,e,n){const r={direction:"in"};let i=e(t,n,r),s=!1,o,c,a=0;function l(){o&&Tt(t,o)}function u(){const{delay:d=0,duration:g=300,easing:p=Qt,tick:m=A,css:C}=i||sn;C&&(o=kt(t,0,1,g,d,p,C,a++)),m(0,1);const R=$t()+d,b=R+g;c&&c.abort(),s=!0,he(()=>Me(t,!0,"start")),c=tn(D=>{if(s){if(D>=b)return m(1,0),Me(t,!0,"end"),l(),s=!1;if(D>=R){const x=p((D-R)/g);m(x,1-x)}}return s})}let f=!1;return{start(){f||(f=!0,Tt(t),$e(i)?(i=i(r),rn().then(u)):u())},invalidate(){f=!1},end(){s&&(l(),s=!1)}}}function qe(t,e,n){const r={direction:"out"};let i=e(t,n,r),s=!0,o;const c=ke;c.r+=1;function a(){const{delay:l=0,duration:u=300,easing:f=Qt,tick:d=A,css:g}=i||sn;g&&(o=kt(t,1,0,u,l,f,g));const p=$t()+l,m=p+u;he(()=>Me(t,!1,"start")),tn(C=>{if(s){if(C>=m)return d(0,1),Me(t,!1,"end"),--c.r||ge(c.c),!1;if(C>=p){const R=f((C-p)/u);d(1-R,R)}}return s})}return $e(i)?rn().then(()=>{i=i(r),a()}):a(),{end(l){l&&i.tick&&i.tick(1,0),s&&(o&&Tt(t,o),s=!1)}}}function De(t,e,n,r){const i={direction:"both"};let s=e(t,n,i),o=r?0:1,c=null,a=null,l=null;function u(){l&&Tt(t,l)}function f(g,p){const m=g.b-o;return p*=Math.abs(m),{a:o,b:g.b,d:m,duration:p,start:g.start,end:g.start+p,group:g.group}}function d(g){const{delay:p=0,duration:m=300,easing:C=Qt,tick:R=A,css:b}=s||sn,D={start:$t()+p,b:g};g||(D.group=ke,ke.r+=1),c||a?a=D:(b&&(u(),l=kt(t,o,g,m,p,C,b)),g&&R(0,1),c=f(D,m),he(()=>Me(t,g,"start")),tn(x=>{if(a&&x>a.start&&(c=f(a,m),a=null,Me(t,c.b,"start"),b&&(u(),l=kt(t,o,c.b,c.duration,0,C,s.css))),c){if(x>=c.end)R(o=c.b,1-o),Me(t,c.b,"end"),a||(c.b?u():--c.group.r||ge(c.group.c)),c=null;else if(x>=c.start){const B=x-c.start;o=c.a+c.d*C(B/c.duration),R(o,1-o)}}return!!(c||a)}))}return{run(g){$e(s)?rn().then(()=>{s=s(i),d(g)}):d(g)},end(){u(),c=a=null}}}function N(t){t&&t.c()}function j(t,e,n,r){const{fragment:i,after_update:s}=t.$$;i&&i.m(e,n),r||he(()=>{const o=t.$$.on_mount.map(er).filter($e);t.$$.on_destroy?t.$$.on_destroy.push(...o):ge(o),t.$$.on_mount=[]}),s.forEach(he)}function I(t,e){const n=t.$$;n.fragment!==null&&(ge(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ti(t,e){t.$$.dirty[0]===-1&&(We.push(t),Si(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Y(t,e,n,r,i,s,o,c=[-1]){const a=Ye;Ze(t);const l=t.$$={fragment:null,ctx:[],props:s,update:A,not_equal:i,bound:_n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:_n(),dirty:c,skip_bound:!1,root:e.target||a.$$.root};o&&o(l.root);let u=!1;if(l.ctx=n?n(t,e.props||{},(f,d,...g)=>{const p=g.length?g[0]:d;return l.ctx&&i(l.ctx[f],l.ctx[f]=p)&&(!l.skip_bound&&l.bound[f]&&l.bound[f](p),u&&Ti(t,f)),d}):[],l.update(),u=!0,ge(l.before_update),l.fragment=r?r(l.ctx):!1,e.target){if(e.hydrate){const f=gi(e.target);l.fragment&&l.fragment.l(f),f.forEach(P)}else l.fragment&&l.fragment.c();e.intro&&S(t.$$.fragment),j(t,e.target,e.anchor,e.customElement),or()}Ze(a)}class Q{$destroy(){I(this,1),this.$destroy=A}$on(e,n){if(!$e(n))return A;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!hi(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function ar(t){const e=t-1;return e*e*e+1}function me(t,{delay:e=0,duration:n=400,easing:r=ar,x:i=0,y:s=0,opacity:o=0}={}){const c=getComputedStyle(t),a=+c.opacity,l=c.transform==="none"?"":c.transform,u=a*(1-o);return{delay:e,duration:n,easing:r,css:(f,d)=>`
			transform: ${l} translate(${(1-f)*i}px, ${(1-f)*s}px);
			opacity: ${a-u*d}`}}function Fe(t,{delay:e=0,duration:n=400,easing:r=ar}={}){const i=getComputedStyle(t),s=+i.opacity,o=parseFloat(i.height),c=parseFloat(i.paddingTop),a=parseFloat(i.paddingBottom),l=parseFloat(i.marginTop),u=parseFloat(i.marginBottom),f=parseFloat(i.borderTopWidth),d=parseFloat(i.borderBottomWidth);return{delay:e,duration:n,easing:r,css:g=>`overflow: hidden;opacity: ${Math.min(g*20,1)*s};height: ${g*o}px;padding-top: ${g*c}px;padding-bottom: ${g*a}px;margin-top: ${g*l}px;margin-bottom: ${g*u}px;border-top-width: ${g*f}px;border-bottom-width: ${g*d}px;`}}function Ri(t){let e,n;return{c(){e=X("svg"),n=X("path"),h(n,"d","M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"),h(n,"fill",t[2]),h(e,"width",t[0]),h(e,"height",t[1]),h(e,"viewBox",t[3])},m(r,i){E(r,e,i),_(e,n)},p(r,[i]){i&4&&h(n,"fill",r[2]),i&1&&h(e,"width",r[0]),i&2&&h(e,"height",r[1]),i&8&&h(e,"viewBox",r[3])},i:A,o:A,d(r){r&&P(e)}}}function Pi(t,e,n){let{size:r="1em"}=e,{width:i=r}=e,{height:s=r}=e,{color:o="currentColor"}=e,{viewBox:c="0 0 24 24"}=e;return t.$$set=a=>{"size"in a&&n(4,r=a.size),"width"in a&&n(0,i=a.width),"height"in a&&n(1,s=a.height),"color"in a&&n(2,o=a.color),"viewBox"in a&&n(3,c=a.viewBox)},[i,s,o,c,r]}class Pe extends Q{constructor(e){super(),Y(this,e,Pi,Ri,W,{size:4,width:0,height:1,color:2,viewBox:3})}}function Ei(t){let e,n;return{c(){e=X("svg"),n=X("path"),h(n,"d","M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"),h(n,"fill",t[2]),h(e,"width",t[0]),h(e,"height",t[1]),h(e,"viewBox",t[3])},m(r,i){E(r,e,i),_(e,n)},p(r,[i]){i&4&&h(n,"fill",r[2]),i&1&&h(e,"width",r[0]),i&2&&h(e,"height",r[1]),i&8&&h(e,"viewBox",r[3])},i:A,o:A,d(r){r&&P(e)}}}function Oi(t,e,n){let{size:r="1em"}=e,{width:i=r}=e,{height:s=r}=e,{color:o="currentColor"}=e,{viewBox:c="0 0 24 24"}=e;return t.$$set=a=>{"size"in a&&n(4,r=a.size),"width"in a&&n(0,i=a.width),"height"in a&&n(1,s=a.height),"color"in a&&n(2,o=a.color),"viewBox"in a&&n(3,c=a.viewBox)},[i,s,o,c,r]}class Ai extends Q{constructor(e){super(),Y(this,e,Oi,Ei,W,{size:4,width:0,height:1,color:2,viewBox:3})}}function Di(t){let e,n;return{c(){e=X("svg"),n=X("path"),h(n,"d","M17,10.5V7A1,1 0 0,0 16,6H4A1,1 0 0,0 3,7V17A1,1 0 0,0 4,18H16A1,1 0 0,0 17,17V13.5L21,17.5V6.5L17,10.5Z"),h(n,"fill",t[2]),h(e,"width",t[0]),h(e,"height",t[1]),h(e,"viewBox",t[3])},m(r,i){E(r,e,i),_(e,n)},p(r,[i]){i&4&&h(n,"fill",r[2]),i&1&&h(e,"width",r[0]),i&2&&h(e,"height",r[1]),i&8&&h(e,"viewBox",r[3])},i:A,o:A,d(r){r&&P(e)}}}function xi(t,e,n){let{size:r="1em"}=e,{width:i=r}=e,{height:s=r}=e,{color:o="currentColor"}=e,{viewBox:c="0 0 24 24"}=e;return t.$$set=a=>{"size"in a&&n(4,r=a.size),"width"in a&&n(0,i=a.width),"height"in a&&n(1,s=a.height),"color"in a&&n(2,o=a.color),"viewBox"in a&&n(3,c=a.viewBox)},[i,s,o,c,r]}class on extends Q{constructor(e){super(),Y(this,e,xi,Di,W,{size:4,width:0,height:1,color:2,viewBox:3})}}function Mi(t){let e,n;return{c(){e=X("svg"),n=X("path"),h(n,"d","M3.27,2L2,3.27L4.73,6H4A1,1 0 0,0 3,7V17A1,1 0 0,0 4,18H16C16.2,18 16.39,17.92 16.54,17.82L19.73,21L21,19.73M21,6.5L17,10.5V7A1,1 0 0,0 16,6H9.82L21,17.18V6.5Z"),h(n,"fill",t[2]),h(e,"width",t[0]),h(e,"height",t[1]),h(e,"viewBox",t[3])},m(r,i){E(r,e,i),_(e,n)},p(r,[i]){i&4&&h(n,"fill",r[2]),i&1&&h(e,"width",r[0]),i&2&&h(e,"height",r[1]),i&8&&h(e,"viewBox",r[3])},i:A,o:A,d(r){r&&P(e)}}}function Li(t,e,n){let{size:r="1em"}=e,{width:i=r}=e,{height:s=r}=e,{color:o="currentColor"}=e,{viewBox:c="0 0 24 24"}=e;return t.$$set=a=>{"size"in a&&n(4,r=a.size),"width"in a&&n(0,i=a.width),"height"in a&&n(1,s=a.height),"color"in a&&n(2,o=a.color),"viewBox"in a&&n(3,c=a.viewBox)},[i,s,o,c,r]}class an extends Q{constructor(e){super(),Y(this,e,Li,Mi,W,{size:4,width:0,height:1,color:2,viewBox:3})}}function wi(t){let e,n,r,i,s,o,c,a,l,u,f,d,g,p,m;return{c(){e=y("div"),n=y("h3"),n.textContent="Here if you need them",r=T(),i=y("p"),i.innerHTML='<a href="https://sites.google.com/mrpk.org/musd-wellness-center/home?pli=1">MUSD Wellness Center</a>',s=T(),o=y("p"),o.innerHTML='NAMI Ventura County <a href="tel:8055006264">805-500-6264</a>',c=T(),a=y("p"),a.innerHTML='Trevor Lifeline (LGBTQ+ youth) <a href="tel:8664887386">1-866-488-7386</a>',l=T(),u=y("p"),u.innerHTML='National Suicide Prevention Lifeline: <a href="tel:8002738255">1-800-273-8255</a> or<br/><a href="sms:8059902972?&amp;body=HOME">text HOME to 741741</a>',f=T(),d=y("p"),d.innerHTML='CA Youth Crisis Hotline: <a href="tel:8008435200">1-800-843-5200</a>',g=T(),p=y("p"),p.textContent="For imminent danger, call 911",h(n,"class","svelte-1xzie1d"),h(i,"class","svelte-1xzie1d"),h(o,"class","svelte-1xzie1d"),h(a,"class","svelte-1xzie1d"),h(u,"class","svelte-1xzie1d"),h(d,"class","svelte-1xzie1d"),h(p,"class","svelte-1xzie1d"),h(e,"class","hotlines svelte-1xzie1d"),h(e,"style",m=t[0]?"bottom: 0;":"")},m(C,R){E(C,e,R),_(e,n),_(e,r),_(e,i),_(e,s),_(e,o),_(e,c),_(e,a),_(e,l),_(e,u),_(e,f),_(e,d),_(e,g),_(e,p)},p(C,[R]){R&1&&m!==(m=C[0]?"bottom: 0;":"")&&h(e,"style",m)},i:A,o:A,d(C){C&&P(e)}}}function Bi(t,e,n){let{alignBottom:r=!1}=e;return t.$$set=i=>{"alignBottom"in i&&n(0,r=i.alignBottom)},[r]}class cr extends Q{constructor(e){super(),Y(this,e,Bi,wi,W,{alignBottom:0})}}function vn(t){let e,n,r;return{c(){e=y("div"),e.innerHTML=`<h2 class="svelte-15h4rzh">Hmm... this is taking a while.</h2> 
        <p class="svelte-15h4rzh">Don&#39;t worry! Somone&#39;ll be with you in a moment.</p>`,h(e,"class","takingAWhile svelte-15h4rzh")},m(i,s){E(i,e,s),r=!0},i(i){r||(he(()=>{n||(n=De(e,Fe,{},!0)),n.run(1)}),r=!0)},o(i){n||(n=De(e,Fe,{},!1)),n.run(0),r=!1},d(i){i&&P(e),i&&n&&n.end()}}}function ji(t){let e,n,r,i,s=(t[0]/1e3).toFixed(1)+"",o,c,a,l,u,f,d,g,p=t[0]>6e4&&vn();return d=new cr({props:{alignBottom:!0}}),{c(){e=y("div"),n=y("h1"),n.textContent="Matching...",r=T(),i=y("span"),o=ee(s),c=ee("s elapsed"),a=T(),l=y("div"),l.innerHTML=`<div class="dot one svelte-15h4rzh"></div> 
        <div class="dot two svelte-15h4rzh"></div> 
        <div class="dot three svelte-15h4rzh"></div> 
        <div class="dot four svelte-15h4rzh"></div>`,u=T(),p&&p.c(),f=T(),N(d.$$.fragment),h(n,"class","svelte-15h4rzh"),h(i,"class","svelte-15h4rzh"),h(l,"class","circle svelte-15h4rzh"),h(e,"class","matchingAnim svelte-15h4rzh")},m(m,C){E(m,e,C),_(e,n),_(e,r),_(e,i),_(i,o),_(i,c),_(e,a),_(e,l),_(e,u),p&&p.m(e,null),_(e,f),j(d,e,null),g=!0},p(m,[C]){(!g||C&1)&&s!==(s=(m[0]/1e3).toFixed(1)+"")&&ye(o,s),m[0]>6e4?p?C&1&&S(p,1):(p=vn(),p.c(),S(p,1),p.m(e,f)):p&&(se(),k(p,1,1,()=>{p=null}),oe())},i(m){g||(S(p),S(d.$$.fragment,m),g=!0)},o(m){k(p),k(d.$$.fragment,m),g=!1},d(m){m&&P(e),p&&p.d(),I(d)}}}function Ii(t,e,n){let{startTime:r=Date.now()}=e,i=0,s=window.performance.now(),o;return function c(){o=requestAnimationFrame(c);const a=window.performance.now();n(0,i+=a-s),s=a}(),He(()=>{cancelAnimationFrame(o)}),t.$$set=c=>{"startTime"in c&&n(1,r=c.startTime)},[i,r]}class Ni extends Q{constructor(e){super(),Y(this,e,Ii,ji,W,{startTime:1})}}const je=[];function be(t,e=A){let n;const r=new Set;function i(c){if(W(t,c)&&(t=c,n)){const a=!je.length;for(const l of r)l[1](),je.push(l,t);if(a){for(let l=0;l<je.length;l+=2)je[l][0](je[l+1]);je.length=0}}}function s(c){i(c(t))}function o(c,a=A){const l=[c,a];return r.add(l),r.size===1&&(n=e(i)||A),c(t),()=>{r.delete(l),r.size===0&&(n(),n=null)}}return{set:i,update:s,subscribe:o}}let pe=be(null),Ne=be(null),cn=be("client"),bn=be([]),zt=be(t=>{}),Ft=be([]);function lr(t,e){return function(){return t.apply(e,arguments)}}const{toString:ur}=Object.prototype,{getPrototypeOf:ln}=Object,un=(t=>e=>{const n=ur.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Oe=t=>(t=t.toLowerCase(),e=>un(e)===t),Et=t=>e=>typeof e===t,{isArray:Ge}=Array,Xe=Et("undefined");function zi(t){return t!==null&&!Xe(t)&&t.constructor!==null&&!Xe(t.constructor)&&Le(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const fr=Oe("ArrayBuffer");function Fi(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&fr(t.buffer),e}const Ui=Et("string"),Le=Et("function"),dr=Et("number"),fn=t=>t!==null&&typeof t=="object",Hi=t=>t===!0||t===!1,ut=t=>{if(un(t)!=="object")return!1;const e=ln(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Vi=Oe("Date"),qi=Oe("File"),Gi=Oe("Blob"),Ji=Oe("FileList"),Ki=t=>fn(t)&&Le(t.pipe),Wi=t=>{const e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||ur.call(t)===e||Le(t.toString)&&t.toString()===e)},Zi=Oe("URLSearchParams"),Yi=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function tt(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Ge(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let c;for(r=0;r<o;r++)c=s[r],e.call(null,t[c],c,t)}}function hr(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const pr=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),mr=t=>!Xe(t)&&t!==pr;function Ut(){const{caseless:t}=mr(this)&&this||{},e={},n=(r,i)=>{const s=t&&hr(e,i)||i;ut(e[s])&&ut(r)?e[s]=Ut(e[s],r):ut(r)?e[s]=Ut({},r):Ge(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&tt(arguments[r],n);return e}const Qi=(t,e,n,{allOwnKeys:r}={})=>(tt(e,(i,s)=>{n&&Le(i)?t[s]=lr(i,n):t[s]=i},{allOwnKeys:r}),t),Xi=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),$i=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},es=(t,e,n,r)=>{let i,s,o;const c={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!c[o]&&(e[o]=t[o],c[o]=!0);t=n!==!1&&ln(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},ts=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},ns=t=>{if(!t)return null;if(Ge(t))return t;let e=t.length;if(!dr(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},rs=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&ln(Uint8Array)),is=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},ss=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},os=Oe("HTMLFormElement"),as=t=>t.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Sn=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),cs=Oe("RegExp"),gr=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};tt(n,(i,s)=>{e(i,s,t)!==!1&&(r[s]=i)}),Object.defineProperties(t,r)},ls=t=>{gr(t,(e,n)=>{if(Le(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Le(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},us=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Ge(t)?r(t):r(String(t).split(e)),n},fs=()=>{},ds=(t,e)=>(t=+t,Number.isFinite(t)?t:e),hs=t=>{const e=new Array(10),n=(r,i)=>{if(fn(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Ge(r)?[]:{};return tt(r,(o,c)=>{const a=n(o,i+1);!Xe(a)&&(s[c]=a)}),e[i]=void 0,s}}return r};return n(t,0)},v={isArray:Ge,isArrayBuffer:fr,isBuffer:zi,isFormData:Wi,isArrayBufferView:Fi,isString:Ui,isNumber:dr,isBoolean:Hi,isObject:fn,isPlainObject:ut,isUndefined:Xe,isDate:Vi,isFile:qi,isBlob:Gi,isRegExp:cs,isFunction:Le,isStream:Ki,isURLSearchParams:Zi,isTypedArray:rs,isFileList:Ji,forEach:tt,merge:Ut,extend:Qi,trim:Yi,stripBOM:Xi,inherits:$i,toFlatObject:es,kindOf:un,kindOfTest:Oe,endsWith:ts,toArray:ns,forEachEntry:is,matchAll:ss,isHTMLForm:os,hasOwnProperty:Sn,hasOwnProp:Sn,reduceDescriptors:gr,freezeMethods:ls,toObjectSet:us,toCamelCase:as,noop:fs,toFiniteNumber:ds,findKey:hr,global:pr,isContextDefined:mr,toJSONObject:hs};function J(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}v.inherits(J,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:v.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const _r=J.prototype,yr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{yr[t]={value:t}});Object.defineProperties(J,yr);Object.defineProperty(_r,"isAxiosError",{value:!0});J.from=(t,e,n,r,i,s)=>{const o=Object.create(_r);return v.toFlatObject(t,o,function(a){return a!==Error.prototype},c=>c!=="isAxiosError"),J.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};var ps=typeof self=="object"?self.FormData:window.FormData;const ms=ps;function Ht(t){return v.isPlainObject(t)||v.isArray(t)}function Cr(t){return v.endsWith(t,"[]")?t.slice(0,-2):t}function kn(t,e,n){return t?t.concat(e).map(function(i,s){return i=Cr(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function gs(t){return v.isArray(t)&&!t.some(Ht)}const _s=v.toFlatObject(v,{},null,function(e){return/^is[A-Z]/.test(e)});function ys(t){return t&&v.isFunction(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator]}function Ot(t,e,n){if(!v.isObject(t))throw new TypeError("target must be an object");e=e||new(ms||FormData),n=v.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,C){return!v.isUndefined(C[m])});const r=n.metaTokens,i=n.visitor||u,s=n.dots,o=n.indexes,a=(n.Blob||typeof Blob<"u"&&Blob)&&ys(e);if(!v.isFunction(i))throw new TypeError("visitor must be a function");function l(p){if(p===null)return"";if(v.isDate(p))return p.toISOString();if(!a&&v.isBlob(p))throw new J("Blob is not supported. Use a Buffer instead.");return v.isArrayBuffer(p)||v.isTypedArray(p)?a&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,C){let R=p;if(p&&!C&&typeof p=="object"){if(v.endsWith(m,"{}"))m=r?m:m.slice(0,-2),p=JSON.stringify(p);else if(v.isArray(p)&&gs(p)||v.isFileList(p)||v.endsWith(m,"[]")&&(R=v.toArray(p)))return m=Cr(m),R.forEach(function(D,x){!(v.isUndefined(D)||D===null)&&e.append(o===!0?kn([m],x,s):o===null?m:m+"[]",l(D))}),!1}return Ht(p)?!0:(e.append(kn(C,m,s),l(p)),!1)}const f=[],d=Object.assign(_s,{defaultVisitor:u,convertValue:l,isVisitable:Ht});function g(p,m){if(!v.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(p),v.forEach(p,function(R,b){(!(v.isUndefined(R)||R===null)&&i.call(e,R,v.isString(b)?b.trim():b,m,d))===!0&&g(R,m?m.concat(b):[b])}),f.pop()}}if(!v.isObject(t))throw new TypeError("data must be an object");return g(t),e}function Tn(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function dn(t,e){this._pairs=[],t&&Ot(t,this,e)}const vr=dn.prototype;vr.append=function(e,n){this._pairs.push([e,n])};vr.toString=function(e){const n=e?function(r){return e.call(this,r,Tn)}:Tn;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Cs(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function br(t,e,n){if(!e)return t;const r=n&&n.encode||Cs,i=n&&n.serialize;let s;if(i?s=i(e,n):s=v.isURLSearchParams(e)?e.toString():new dn(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class vs{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){v.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Rn=vs,Sr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},bs=typeof URLSearchParams<"u"?URLSearchParams:dn,Ss=FormData,ks=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Ts=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Te={isBrowser:!0,classes:{URLSearchParams:bs,FormData:Ss,Blob},isStandardBrowserEnv:ks,isStandardBrowserWebWorkerEnv:Ts,protocols:["http","https","file","blob","url","data"]};function Rs(t,e){return Ot(t,new Te.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Te.isNode&&v.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function Ps(t){return v.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Es(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function kr(t){function e(n,r,i,s){let o=n[s++];const c=Number.isFinite(+o),a=s>=n.length;return o=!o&&v.isArray(i)?i.length:o,a?(v.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!c):((!i[o]||!v.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&v.isArray(i[o])&&(i[o]=Es(i[o])),!c)}if(v.isFormData(t)&&v.isFunction(t.entries)){const n={};return v.forEachEntry(t,(r,i)=>{e(Ps(r),i,n,0)}),n}return null}const Os={"Content-Type":void 0};function As(t,e,n){if(v.isString(t))try{return(e||JSON.parse)(t),v.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const At={transitional:Sr,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=v.isObject(e);if(s&&v.isHTMLForm(e)&&(e=new FormData(e)),v.isFormData(e))return i&&i?JSON.stringify(kr(e)):e;if(v.isArrayBuffer(e)||v.isBuffer(e)||v.isStream(e)||v.isFile(e)||v.isBlob(e))return e;if(v.isArrayBufferView(e))return e.buffer;if(v.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Rs(e,this.formSerializer).toString();if((c=v.isFileList(e))||r.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return Ot(c?{"files[]":e}:e,a&&new a,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),As(e)):e}],transformResponse:[function(e){const n=this.transitional||At.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&v.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(c){if(o)throw c.name==="SyntaxError"?J.from(c,J.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Te.classes.FormData,Blob:Te.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};v.forEach(["delete","get","head"],function(e){At.headers[e]={}});v.forEach(["post","put","patch"],function(e){At.headers[e]=v.merge(Os)});const hn=At,Ds=v.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xs=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&Ds[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Pn=Symbol("internals");function Ke(t){return t&&String(t).trim().toLowerCase()}function ft(t){return t===!1||t==null?t:v.isArray(t)?t.map(ft):String(t)}function Ms(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}function Ls(t){return/^[-_a-zA-Z]+$/.test(t.trim())}function En(t,e,n,r){if(v.isFunction(r))return r.call(this,e,n);if(v.isString(e)){if(v.isString(r))return e.indexOf(r)!==-1;if(v.isRegExp(r))return r.test(e)}}function ws(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Bs(t,e){const n=v.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Dt{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(c,a,l){const u=Ke(a);if(!u)throw new Error("header name must be a non-empty string");const f=v.findKey(i,u);(!f||i[f]===void 0||l===!0||l===void 0&&i[f]!==!1)&&(i[f||a]=ft(c))}const o=(c,a)=>v.forEach(c,(l,u)=>s(l,u,a));return v.isPlainObject(e)||e instanceof this.constructor?o(e,n):v.isString(e)&&(e=e.trim())&&!Ls(e)?o(xs(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=Ke(e),e){const r=v.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return Ms(i);if(v.isFunction(n))return n.call(this,i,r);if(v.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ke(e),e){const r=v.findKey(this,e);return!!(r&&(!n||En(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Ke(o),o){const c=v.findKey(r,o);c&&(!n||En(r,r[c],c,n))&&(delete r[c],i=!0)}}return v.isArray(e)?e.forEach(s):s(e),i}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(e){const n=this,r={};return v.forEach(this,(i,s)=>{const o=v.findKey(r,s);if(o){n[o]=ft(i),delete n[s];return}const c=e?ws(s):String(s).trim();c!==s&&delete n[s],n[c]=ft(i),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return v.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&v.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Pn]=this[Pn]={accessors:{}}).accessors,i=this.prototype;function s(o){const c=Ke(o);r[c]||(Bs(i,o),r[c]=!0)}return v.isArray(e)?e.forEach(s):s(e),this}}Dt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);v.freezeMethods(Dt.prototype);v.freezeMethods(Dt);const Ee=Dt;function Bt(t,e){const n=this||hn,r=e||n,i=Ee.from(r.headers);let s=r.data;return v.forEach(t,function(c){s=c.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function Tr(t){return!!(t&&t.__CANCEL__)}function nt(t,e,n){J.call(this,t??"canceled",J.ERR_CANCELED,e,n),this.name="CanceledError"}v.inherits(nt,J,{__CANCEL__:!0});const js=null;function Is(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new J("Request failed with status code "+n.status,[J.ERR_BAD_REQUEST,J.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Ns=Te.isStandardBrowserEnv?function(){return{write:function(n,r,i,s,o,c){const a=[];a.push(n+"="+encodeURIComponent(r)),v.isNumber(i)&&a.push("expires="+new Date(i).toGMTString()),v.isString(s)&&a.push("path="+s),v.isString(o)&&a.push("domain="+o),c===!0&&a.push("secure"),document.cookie=a.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function zs(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Fs(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function Rr(t,e){return t&&!zs(e)?Fs(t,e):e}const Us=Te.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const c=v.isString(o)?i(o):o;return c.protocol===r.protocol&&c.host===r.host}}():function(){return function(){return!0}}();function Hs(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Vs(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(a){const l=Date.now(),u=r[s];o||(o=l),n[i]=a,r[i]=l;let f=s,d=0;for(;f!==i;)d+=n[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),l-o<e)return;const g=u&&l-u;return g?Math.round(d*1e3/g):void 0}}function On(t,e){let n=0;const r=Vs(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,c=s-n,a=r(c),l=s<=o;n=s;const u={loaded:s,total:o,progress:o?s/o:void 0,bytes:c,rate:a||void 0,estimated:a&&o&&l?(o-s)/a:void 0,event:i};u[e?"download":"upload"]=!0,t(u)}}const qs=typeof XMLHttpRequest<"u",Gs=qs&&function(t){return new Promise(function(n,r){let i=t.data;const s=Ee.from(t.headers).normalize(),o=t.responseType;let c;function a(){t.cancelToken&&t.cancelToken.unsubscribe(c),t.signal&&t.signal.removeEventListener("abort",c)}v.isFormData(i)&&(Te.isStandardBrowserEnv||Te.isStandardBrowserWebWorkerEnv)&&s.setContentType(!1);let l=new XMLHttpRequest;if(t.auth){const g=t.auth.username||"",p=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(g+":"+p))}const u=Rr(t.baseURL,t.url);l.open(t.method.toUpperCase(),br(u,t.params,t.paramsSerializer),!0),l.timeout=t.timeout;function f(){if(!l)return;const g=Ee.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),m={data:!o||o==="text"||o==="json"?l.responseText:l.response,status:l.status,statusText:l.statusText,headers:g,config:t,request:l};Is(function(R){n(R),a()},function(R){r(R),a()},m),l=null}if("onloadend"in l?l.onloadend=f:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(f)},l.onabort=function(){l&&(r(new J("Request aborted",J.ECONNABORTED,t,l)),l=null)},l.onerror=function(){r(new J("Network Error",J.ERR_NETWORK,t,l)),l=null},l.ontimeout=function(){let p=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const m=t.transitional||Sr;t.timeoutErrorMessage&&(p=t.timeoutErrorMessage),r(new J(p,m.clarifyTimeoutError?J.ETIMEDOUT:J.ECONNABORTED,t,l)),l=null},Te.isStandardBrowserEnv){const g=(t.withCredentials||Us(u))&&t.xsrfCookieName&&Ns.read(t.xsrfCookieName);g&&s.set(t.xsrfHeaderName,g)}i===void 0&&s.setContentType(null),"setRequestHeader"in l&&v.forEach(s.toJSON(),function(p,m){l.setRequestHeader(m,p)}),v.isUndefined(t.withCredentials)||(l.withCredentials=!!t.withCredentials),o&&o!=="json"&&(l.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&l.addEventListener("progress",On(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",On(t.onUploadProgress)),(t.cancelToken||t.signal)&&(c=g=>{l&&(r(!g||g.type?new nt(null,t,l):g),l.abort(),l=null)},t.cancelToken&&t.cancelToken.subscribe(c),t.signal&&(t.signal.aborted?c():t.signal.addEventListener("abort",c)));const d=Hs(u);if(d&&Te.protocols.indexOf(d)===-1){r(new J("Unsupported protocol "+d+":",J.ERR_BAD_REQUEST,t));return}l.send(i||null)})},dt={http:js,xhr:Gs};v.forEach(dt,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Js={getAdapter:t=>{t=v.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let i=0;i<e&&(n=t[i],!(r=v.isString(n)?dt[n.toLowerCase()]:n));i++);if(!r)throw r===!1?new J(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(v.hasOwnProp(dt,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!v.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:dt};function jt(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new nt(null,t)}function An(t){return jt(t),t.headers=Ee.from(t.headers),t.data=Bt.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Js.getAdapter(t.adapter||hn.adapter)(t).then(function(r){return jt(t),r.data=Bt.call(t,t.transformResponse,r),r.headers=Ee.from(r.headers),r},function(r){return Tr(r)||(jt(t),r&&r.response&&(r.response.data=Bt.call(t,t.transformResponse,r.response),r.response.headers=Ee.from(r.response.headers))),Promise.reject(r)})}const Dn=t=>t instanceof Ee?t.toJSON():t;function Ue(t,e){e=e||{};const n={};function r(l,u,f){return v.isPlainObject(l)&&v.isPlainObject(u)?v.merge.call({caseless:f},l,u):v.isPlainObject(u)?v.merge({},u):v.isArray(u)?u.slice():u}function i(l,u,f){if(v.isUndefined(u)){if(!v.isUndefined(l))return r(void 0,l,f)}else return r(l,u,f)}function s(l,u){if(!v.isUndefined(u))return r(void 0,u)}function o(l,u){if(v.isUndefined(u)){if(!v.isUndefined(l))return r(void 0,l)}else return r(void 0,u)}function c(l,u,f){if(f in e)return r(l,u);if(f in t)return r(void 0,l)}const a={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(l,u)=>i(Dn(l),Dn(u),!0)};return v.forEach(Object.keys(t).concat(Object.keys(e)),function(u){const f=a[u]||i,d=f(t[u],e[u],u);v.isUndefined(d)&&f!==c||(n[u]=d)}),n}const Pr="1.2.2",pn={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{pn[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const xn={};pn.transitional=function(e,n,r){function i(s,o){return"[Axios v"+Pr+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,c)=>{if(e===!1)throw new J(i(o," has been removed"+(n?" in "+n:"")),J.ERR_DEPRECATED);return n&&!xn[o]&&(xn[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,c):!0}};function Ks(t,e,n){if(typeof t!="object")throw new J("options must be an object",J.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const c=t[s],a=c===void 0||o(c,s,t);if(a!==!0)throw new J("option "+s+" must be "+a,J.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new J("Unknown option "+s,J.ERR_BAD_OPTION)}}const Vt={assertOptions:Ks,validators:pn},Ae=Vt.validators;class Rt{constructor(e){this.defaults=e,this.interceptors={request:new Rn,response:new Rn}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ue(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Vt.assertOptions(r,{silentJSONParsing:Ae.transitional(Ae.boolean),forcedJSONParsing:Ae.transitional(Ae.boolean),clarifyTimeoutError:Ae.transitional(Ae.boolean)},!1),i!==void 0&&Vt.assertOptions(i,{encode:Ae.function,serialize:Ae.function},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o;o=s&&v.merge(s.common,s[n.method]),o&&v.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),n.headers=Ee.concat(o,s);const c=[];let a=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(a=a&&m.synchronous,c.unshift(m.fulfilled,m.rejected))});const l=[];this.interceptors.response.forEach(function(m){l.push(m.fulfilled,m.rejected)});let u,f=0,d;if(!a){const p=[An.bind(this),void 0];for(p.unshift.apply(p,c),p.push.apply(p,l),d=p.length,u=Promise.resolve(n);f<d;)u=u.then(p[f++],p[f++]);return u}d=c.length;let g=n;for(f=0;f<d;){const p=c[f++],m=c[f++];try{g=p(g)}catch(C){m.call(this,C);break}}try{u=An.call(this,g)}catch(p){return Promise.reject(p)}for(f=0,d=l.length;f<d;)u=u.then(l[f++],l[f++]);return u}getUri(e){e=Ue(this.defaults,e);const n=Rr(e.baseURL,e.url);return br(n,e.params,e.paramsSerializer)}}v.forEach(["delete","get","head","options"],function(e){Rt.prototype[e]=function(n,r){return this.request(Ue(r||{},{method:e,url:n,data:(r||{}).data}))}});v.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,c){return this.request(Ue(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Rt.prototype[e]=n(),Rt.prototype[e+"Form"]=n(!0)});const ht=Rt;class mn{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(c=>{r.subscribe(c),s=c}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,c){r.reason||(r.reason=new nt(s,o,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new mn(function(i){e=i}),cancel:e}}}const Ws=mn;function Zs(t){return function(n){return t.apply(null,n)}}function Ys(t){return v.isObject(t)&&t.isAxiosError===!0}const qt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qt).forEach(([t,e])=>{qt[e]=t});const Qs=qt;function Er(t){const e=new ht(t),n=lr(ht.prototype.request,e);return v.extend(n,ht.prototype,e,{allOwnKeys:!0}),v.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return Er(Ue(t,i))},n}const ce=Er(hn);ce.Axios=ht;ce.CanceledError=nt;ce.CancelToken=Ws;ce.isCancel=Tr;ce.VERSION=Pr;ce.toFormData=Ot;ce.AxiosError=J;ce.Cancel=ce.CanceledError;ce.all=function(e){return Promise.all(e)};ce.spread=Zs;ce.isAxiosError=Ys;ce.mergeConfig=Ue;ce.AxiosHeaders=Ee;ce.formToJSON=t=>kr(v.isHTMLForm(t)?new FormData(t):t);ce.HttpStatusCode=Qs;ce.default=ce;const It=ce,Se="https://peerconnect-backend.azurewebsites.net/api",Xs="wss://peerconnect-backend.azurewebsites.net";class $s{constructor(){}async POST(e,n=null,r={}){let i={Accept:"application/json",...r},s=await It.post(e,n,{headers:i});if(s.status!==200)throw new Error(s.data.error);return s.data}async PATCH(e,n=null,r={}){let i={Accept:"application/json",...r},s=await It.patch(e,n,{headers:i});if(s.status!==200)throw new Error(s.data.error);return s.data}async GET(e,n={}){let r={Accept:"application/json",...n},i=await It.get(e,{headers:r});if(i.status!==200)throw new Error(i.data.error);return i.data}async login(e,n,r,i){let s=await this.POST(`${Se}/google-sign-in`,{userID:e,name:n,pfp:r,email:i});return{...s.user,token:s.token}}async clientLogin(){return await this.POST(`${Se}/sign-in`)}async getUser(e){return await this.GET(`${Se}/fetch-user-by-id/${e}`)}async checkCallQueue(){let e=Be(pe);if(!e)return null;let n=await this.POST(`${Se}/ping-queue`,{id:e.id}).catch(()=>null);if(!n)return!1;if(n.hasBeenChosen)return n.hasBeenChosenBy}async joinCallQueue(e,n){let r=Be(pe);if(!r)return null;await this.POST(`${Se}/join-queue`,{attributes:e,id:r.id});let i=setInterval(async()=>{let s=await this.checkCallQueue();s===!1?await this.POST(`${Se}/join-queue`,{attributes:e,id:r.id}):s&&(clearInterval(i),n(s))},5e3);return i}async leaveCallQueue(){let e=Be(pe);e&&await this.POST(`${Se}/leave-queue`,{id:e.id})}async fetchClientList(){let e=Be(pe);return!e||!e.token?[]:await this.GET(`${Se}/fetch-queue`,{Authorization:`Bearer ${e.token}`})}async acceptCall(e){let n=Be(pe);if(!(!n||!n.token))return await this.POST(`${Se}/accept-user`,{id:e},{Authorization:`Bearer ${n.token}`})}async updateAttributes(e){let n=Be(pe);if(!(!n||!n.token))return await this.PATCH(`${Se}/patch-attributes`,{attributes:e},{Authorization:`Bearer ${n.token}`})}}const Ce=new $s;function eo(t){let e,n;return{c(){e=X("svg"),n=X("path"),h(n,"d","M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"),h(n,"fill",t[2]),h(e,"width",t[0]),h(e,"height",t[1]),h(e,"viewBox",t[3])},m(r,i){E(r,e,i),_(e,n)},p(r,[i]){i&4&&h(n,"fill",r[2]),i&1&&h(e,"width",r[0]),i&2&&h(e,"height",r[1]),i&8&&h(e,"viewBox",r[3])},i:A,o:A,d(r){r&&P(e)}}}function to(t,e,n){let{size:r="1em"}=e,{width:i=r}=e,{height:s=r}=e,{color:o="currentColor"}=e,{viewBox:c="0 0 24 24"}=e;return t.$$set=a=>{"size"in a&&n(4,r=a.size),"width"in a&&n(0,i=a.width),"height"in a&&n(1,s=a.height),"color"in a&&n(2,o=a.color),"viewBox"in a&&n(3,c=a.viewBox)},[i,s,o,c,r]}class no extends Q{constructor(e){super(),Y(this,e,to,eo,W,{size:4,width:0,height:1,color:2,viewBox:3})}}function ro(t){let e,n;return{c(){e=X("svg"),n=X("path"),h(n,"d","M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7Z"),h(n,"fill",t[2]),h(e,"width",t[0]),h(e,"height",t[1]),h(e,"viewBox",t[3])},m(r,i){E(r,e,i),_(e,n)},p(r,[i]){i&4&&h(n,"fill",r[2]),i&1&&h(e,"width",r[0]),i&2&&h(e,"height",r[1]),i&8&&h(e,"viewBox",r[3])},i:A,o:A,d(r){r&&P(e)}}}function io(t,e,n){let{size:r="1em"}=e,{width:i=r}=e,{height:s=r}=e,{color:o="currentColor"}=e,{viewBox:c="0 0 24 24"}=e;return t.$$set=a=>{"size"in a&&n(4,r=a.size),"width"in a&&n(0,i=a.width),"height"in a&&n(1,s=a.height),"color"in a&&n(2,o=a.color),"viewBox"in a&&n(3,c=a.viewBox)},[i,s,o,c,r]}class so extends Q{constructor(e){super(),Y(this,e,io,ro,W,{size:4,width:0,height:1,color:2,viewBox:3})}}function oo(t){let e,n;return{c(){e=X("svg"),n=X("path"),h(n,"d","M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"),h(n,"fill",t[2]),h(e,"width",t[0]),h(e,"height",t[1]),h(e,"viewBox",t[3])},m(r,i){E(r,e,i),_(e,n)},p(r,[i]){i&4&&h(n,"fill",r[2]),i&1&&h(e,"width",r[0]),i&2&&h(e,"height",r[1]),i&8&&h(e,"viewBox",r[3])},i:A,o:A,d(r){r&&P(e)}}}function ao(t,e,n){let{size:r="1em"}=e,{width:i=r}=e,{height:s=r}=e,{color:o="currentColor"}=e,{viewBox:c="0 0 24 24"}=e;return t.$$set=a=>{"size"in a&&n(4,r=a.size),"width"in a&&n(0,i=a.width),"height"in a&&n(1,s=a.height),"color"in a&&n(2,o=a.color),"viewBox"in a&&n(3,c=a.viewBox)},[i,s,o,c,r]}class co extends Q{constructor(e){super(),Y(this,e,ao,oo,W,{size:4,width:0,height:1,color:2,viewBox:3})}}function lo(t){let e,n,r,i;const s=[ho,fo],o=[];function c(a,l){return a[2]?0:1}return n=c(t),r=o[n]=s[n](t),{c(){e=y("span"),r.c(),h(e,"class","svelte-9rwt4e")},m(a,l){E(a,e,l),o[n].m(e,null),i=!0},p(a,l){let u=n;n=c(a),n!==u&&(se(),k(o[u],1,1,()=>{o[u]=null}),oe(),r=o[n],r||(r=o[n]=s[n](a),r.c()),S(r,1),r.m(e,null))},i(a){i||(S(r),i=!0)},o(a){k(r),i=!1},d(a){a&&P(e),o[n].d()}}}function uo(t){let e,n,r;return n=new no({}),{c(){e=y("span"),N(n.$$.fragment),h(e,"class","svelte-9rwt4e")},m(i,s){E(i,e,s),j(n,e,null),r=!0},p:A,i(i){r||(S(n.$$.fragment,i),r=!0)},o(i){k(n.$$.fragment,i),r=!1},d(i){i&&P(e),I(n)}}}function fo(t){let e,n;return e=new co({}),{c(){N(e.$$.fragment)},m(r,i){j(e,r,i),n=!0},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){I(e,r)}}}function ho(t){let e,n;return e=new so({}),{c(){N(e.$$.fragment)},m(r,i){j(e,r,i),n=!0},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){I(e,r)}}}function po(t){let e,n,r,i,s,o,c,a;const l=[uo,lo],u=[];function f(d,g){return d[1]&&d[2]?0:d[1]?-1:1}return~(n=f(t))&&(r=u[n]=l[n](t)),{c(){e=y("button"),r&&r.c(),i=T(),s=ee(t[0]),h(e,"class","filter svelte-9rwt4e"),de(e,"selected",t[2])},m(d,g){E(d,e,g),~n&&u[n].m(e,null),_(e,i),_(e,s),o=!0,c||(a=te(e,"click",t[3]),c=!0)},p(d,[g]){let p=n;n=f(d),n===p?~n&&u[n].p(d,g):(r&&(se(),k(u[p],1,1,()=>{u[p]=null}),oe()),~n?(r=u[n],r?r.p(d,g):(r=u[n]=l[n](d),r.c()),S(r,1),r.m(e,i)):r=null),(!o||g&1)&&ye(s,d[0]),(!o||g&4)&&de(e,"selected",d[2])},i(d){o||(S(r),o=!0)},o(d){k(r),o=!1},d(d){d&&P(e),~n&&u[n].d(),c=!1,a()}}}function mo(t,e,n){let{name:r}=e,{category:i}=e,{filterStore:s}=e,{multiselect:o}=e,c=!1,a={name:r,category:i};function l(){c?s.update(f=>{let d=f.find(p=>p.name===r&&p.category===i),g=f.indexOf(d);return g>-1&&f.splice(g,1),f}):s.update(f=>(o||(f=f.filter(d=>d.category!==a.category)),f.push(a),f))}let u=s.subscribe(f=>{n(2,c=f.some(d=>d.name===a.name&&d.category===a.category))});return He(()=>{u()}),t.$$set=f=>{"name"in f&&n(0,r=f.name),"category"in f&&n(4,i=f.category),"filterStore"in f&&n(5,s=f.filterStore),"multiselect"in f&&n(1,o=f.multiselect)},[r,o,c,l,i,s]}class go extends Q{constructor(e){super(),Y(this,e,mo,po,W,{name:0,category:4,filterStore:5,multiselect:1})}}function Mn(t,e,n){const r=t.slice();return r[3]=e[n],r}function Ln(t,e,n){const r=t.slice();return r[6]=e[n],r}function _o(t){let e,n=t[3].displayName+"",r,i,s=t[1]&&!t[3].multiselect?"(select one)":"",o;return{c(){e=y("h4"),r=ee(n),i=T(),o=ee(s)},m(c,a){E(c,e,a),_(e,r),_(e,i),_(e,o)},p(c,a){a&2&&s!==(s=c[1]&&!c[3].multiselect?"(select one)":"")&&ye(o,s)},d(c){c&&P(e)}}}function wn(t){let e,n;return e=new go({props:{multiselect:t[1]?t[3].multiselect:!0,category:t[3].name,name:t[6],filterStore:t[0]}}),{c(){N(e.$$.fragment)},m(r,i){j(e,r,i),n=!0},p(r,i){const s={};i&2&&(s.multiselect=r[1]?r[3].multiselect:!0),i&1&&(s.filterStore=r[0]),e.$set(s)},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){I(e,r)}}}function Bn(t){let e,n,r,i,s=t[3].displayName&&_o(t),o=t[3].options,c=[];for(let l=0;l<o.length;l+=1)c[l]=wn(Ln(t,o,l));const a=l=>k(c[l],1,1,()=>{c[l]=null});return{c(){s&&s.c(),e=T(),n=y("div");for(let l=0;l<c.length;l+=1)c[l].c();r=T(),h(n,"class","filterList svelte-1dhpnx5")},m(l,u){s&&s.m(l,u),E(l,e,u),E(l,n,u);for(let f=0;f<c.length;f+=1)c[f].m(n,null);_(n,r),i=!0},p(l,u){if(l[3].displayName&&s.p(l,u),u&7){o=l[3].options;let f;for(f=0;f<o.length;f+=1){const d=Ln(l,o,f);c[f]?(c[f].p(d,u),S(c[f],1)):(c[f]=wn(d),c[f].c(),S(c[f],1),c[f].m(n,r))}for(se(),f=o.length;f<c.length;f+=1)a(f);oe()}},i(l){if(!i){for(let u=0;u<o.length;u+=1)S(c[u]);i=!0}},o(l){c=c.filter(Boolean);for(let u=0;u<c.length;u+=1)k(c[u]);i=!1},d(l){s&&s.d(l),l&&P(e),l&&P(n),et(c,l)}}}function yo(t){let e,n,r,i,s=t[2],o=[];for(let a=0;a<s.length;a+=1)o[a]=Bn(Mn(t,s,a));const c=a=>k(o[a],1,1,()=>{o[a]=null});return{c(){e=y("div"),n=y("h3"),n.textContent="Select all that apply",r=T();for(let a=0;a<o.length;a+=1)o[a].c()},m(a,l){E(a,e,l),_(e,n),_(e,r);for(let u=0;u<o.length;u+=1)o[u].m(e,null);i=!0},p(a,[l]){if(l&7){s=a[2];let u;for(u=0;u<s.length;u+=1){const f=Mn(a,s,u);o[u]?(o[u].p(f,l),S(o[u],1)):(o[u]=Bn(f),o[u].c(),S(o[u],1),o[u].m(e,null))}for(se(),u=s.length;u<o.length;u+=1)c(u);oe()}},i(a){if(!i){for(let l=0;l<s.length;l+=1)S(o[l]);i=!0}},o(a){o=o.filter(Boolean);for(let l=0;l<o.length;l+=1)k(o[l]);i=!1},d(a){a&&P(e),et(o,a)}}}function Co(t,e,n){let r=[{displayName:null,name:"general",multiselect:!0,options:["Here to talk","Certified mentor"]},{name:"grade",displayName:"Grade",multiselect:!1,options:["9th","10th","11th","12th","Other"]},{name:"gender",displayName:"Gender",multiselect:!1,options:["Male","Female","Non-Binary","Other"]},{name:"interests",displayName:"Interests and Expertise",multiselect:!0,options:[" Sports"," Music"," Drama"," Tech"," Art"," Career"," College Prep"]},{name:"academics",displayName:"Academics",multiselect:!0,options:[" Math"," Science"," English"," History"]}],{filterStore:i=be([])}=e,{isMentor:s=!1}=e;return t.$$set=o=>{"filterStore"in o&&n(0,i=o.filterStore),"isMentor"in o&&n(1,s=o.isMentor)},[i,s,r]}class Or extends Q{constructor(e){super(),Y(this,e,Co,yo,W,{filterStore:0,isMentor:1})}}function jn(t){let e,n,r,i,s,o,c;return n=new Ai({}),{c(){e=y("button"),N(n.$$.fragment),r=ee(`
        BACK`),h(e,"class","backBtn svelte-k11isd")},m(a,l){E(a,e,l),j(n,e,null),_(e,r),s=!0,o||(c=te(e,"click",t[5]),o=!0)},p:A,i(a){s||(S(n.$$.fragment,a),a&&he(()=>{i||(i=De(e,me,{x:200,duration:200},!0)),i.run(1)}),s=!0)},o(a){k(n.$$.fragment,a),a&&(i||(i=De(e,me,{x:200,duration:200},!1)),i.run(0)),s=!1},d(a){a&&P(e),I(n),a&&i&&i.end(),o=!1,c()}}}function vo(t){let e,n,r,i,s;return n=new cr({}),{c(){e=y("main"),N(n.$$.fragment),h(e,"class","step hotlines svelte-k11isd")},m(o,c){E(o,e,c),j(n,e,null),s=!0},p:A,i(o){s||(S(n.$$.fragment,o),o&&he(()=>{i&&i.end(1),r=Ve(e,me,{x:200,duration:200}),r.start()}),s=!0)},o(o){k(n.$$.fragment,o),r&&r.invalidate(),o&&(i=qe(e,me,{x:-200,duration:200})),s=!1},d(o){o&&P(e),I(n),o&&i&&i.end()}}}function bo(t){let e,n,r,i,s,o,c,a,l,u,f,d,g,p,m,C,R,b,D,x,B,G,K,U,M,H,z,ie,F,ne,le,fe;return f=new Pe({}),D=new Pe({}),z=new Pe({}),{c(){e=y("main"),n=y("h1"),n.textContent="What do you want to do?",r=T(),i=y("div"),s=y("button"),o=y("h2"),o.textContent="I want to talk to somebody.",c=T(),a=y("p"),a.textContent="You'll be matched with someone who's ready to listen.",l=T(),u=y("span"),N(f.$$.fragment),d=T(),g=y("button"),p=y("h2"),p.textContent="I need advice.",m=T(),C=y("p"),C.textContent="Just want to ask a question? You'll be matched with someone knowledgable.",R=T(),b=y("span"),N(D.$$.fragment),x=T(),B=y("button"),G=y("h2"),G.textContent="It's urgent.",K=T(),U=y("p"),U.textContent="Hotlines are available 24/7-- there's always someone available for you!",M=T(),H=y("span"),N(z.$$.fragment),h(n,"class","svelte-k11isd"),h(o,"class","svelte-k11isd"),h(a,"class","svelte-k11isd"),h(u,"class","arrow svelte-k11isd"),h(s,"class","option svelte-k11isd"),h(p,"class","svelte-k11isd"),h(C,"class","svelte-k11isd"),h(b,"class","arrow svelte-k11isd"),h(g,"class","option svelte-k11isd"),ve(G,"color","red"),h(G,"class","svelte-k11isd"),h(U,"class","svelte-k11isd"),h(H,"class","arrow svelte-k11isd"),h(B,"class","option svelte-k11isd"),h(i,"class","options svelte-k11isd"),h(e,"class","step step2 svelte-k11isd")},m(re,L){E(re,e,L),_(e,n),_(e,r),_(e,i),_(i,s),_(s,o),_(s,c),_(s,a),_(s,l),_(s,u),j(f,u,null),_(i,d),_(i,g),_(g,p),_(g,m),_(g,C),_(g,R),_(g,b),j(D,b,null),_(i,x),_(i,B),_(B,G),_(B,K),_(B,U),_(B,M),_(B,H),j(z,H,null),ne=!0,le||(fe=[te(s,"click",t[8]),te(g,"click",t[9]),te(B,"click",t[10])],le=!0)},p:A,i(re){ne||(S(f.$$.fragment,re),S(D.$$.fragment,re),S(z.$$.fragment,re),re&&he(()=>{F&&F.end(1),ie=Ve(e,me,{x:200,duration:200}),ie.start()}),ne=!0)},o(re){k(f.$$.fragment,re),k(D.$$.fragment,re),k(z.$$.fragment,re),ie&&ie.invalidate(),re&&(F=qe(e,me,{x:-200,duration:200})),ne=!1},d(re){re&&P(e),I(f),I(D),I(z),re&&F&&F.end(),le=!1,ge(fe)}}}function So(t){let e,n,r,i,s,o,c,a,l,u,f,d,g,p,m,C,R,b,D,x,B,G;return f=new Pe({}),D=new Pe({}),{c(){e=y("main"),n=y("h1"),n.textContent="Welcome!",r=T(),i=y("div"),s=y("button"),o=y("h2"),o.textContent="I need help.",c=T(),a=y("p"),a.textContent="Match yourself with someone to get advice, or just someone to talk to.",l=T(),u=y("span"),N(f.$$.fragment),d=T(),g=y("button"),p=y("h2"),p.textContent="I want to help.",m=T(),C=y("p"),C.textContent="Want to become a peer advisor and help those who need it?",R=T(),b=y("span"),N(D.$$.fragment),h(n,"class","svelte-k11isd"),h(o,"class","svelte-k11isd"),h(a,"class","svelte-k11isd"),h(u,"class","arrow svelte-k11isd"),h(s,"class","option svelte-k11isd"),h(p,"class","svelte-k11isd"),h(C,"class","svelte-k11isd"),h(b,"class","arrow svelte-k11isd"),h(g,"class","option svelte-k11isd"),h(i,"class","options svelte-k11isd"),h(e,"class","step step1 svelte-k11isd")},m(K,U){E(K,e,U),_(e,n),_(e,r),_(e,i),_(i,s),_(s,o),_(s,c),_(s,a),_(s,l),_(s,u),j(f,u,null),_(i,d),_(i,g),_(g,p),_(g,m),_(g,C),_(g,R),_(g,b),j(D,b,null),x=!0,B||(G=[te(s,"click",t[6]),te(g,"click",t[7])],B=!0)},p:A,i(K){x||(S(f.$$.fragment,K),S(D.$$.fragment,K),x=!0)},o(K){k(f.$$.fragment,K),k(D.$$.fragment,K),x=!1},d(K){K&&P(e),I(f),I(D),B=!1,ge(G)}}}function ko(t){let e,n,r,i,s;return n=new Ni({}),{c(){e=y("main"),N(n.$$.fragment),h(e,"class","step matching svelte-k11isd"),ve(e,"display",t[0]!==4?"none":"")},m(o,c){E(o,e,c),j(n,e,null),s=!0},p(o,c){c&1&&ve(e,"display",o[0]!==4?"none":"")},i(o){s||(S(n.$$.fragment,o),o&&he(()=>{i&&i.end(1),r=Ve(e,me,{x:200,duration:200}),r.start()}),s=!0)},o(o){k(n.$$.fragment,o),r&&r.invalidate(),o&&(i=qe(e,me,{x:-200,duration:200})),s=!1},d(o){o&&P(e),I(n),o&&i&&i.end()}}}function To(t){let e,n,r,i,s,o,c,a,l,u,f,d,g,p,m,C,R,b,D,x,B,G,K,U,M,H,z,ie;return c=new on({}),d=new Pe({}),C=new an({}),K=new Pe({}),{c(){e=y("main"),n=y("h1"),n.textContent="Camera OK?",r=T(),i=y("div"),s=y("button"),o=y("span"),N(c.$$.fragment),a=T(),l=y("h2"),l.textContent="Camera OK.",u=T(),f=y("span"),N(d.$$.fragment),g=T(),p=y("button"),m=y("span"),N(C.$$.fragment),R=T(),b=y("h2"),b.textContent="Camera NOT OK.",D=T(),x=y("p"),x.innerHTML="Don&#39;t feel comfortable with a camera? No problem.<br/>You&#39;ll still have the option to enable it later.",B=T(),G=y("span"),N(K.$$.fragment),h(n,"class","svelte-k11isd"),h(o,"class","icon svelte-k11isd"),h(l,"class","svelte-k11isd"),h(f,"class","arrow svelte-k11isd"),h(s,"class","option svelte-k11isd"),h(m,"class","icon svelte-k11isd"),h(b,"class","svelte-k11isd"),h(x,"class","svelte-k11isd"),h(G,"class","arrow svelte-k11isd"),h(p,"class","option svelte-k11isd"),h(i,"class","options svelte-k11isd"),h(e,"class","step step3 svelte-k11isd")},m(F,ne){E(F,e,ne),_(e,n),_(e,r),_(e,i),_(i,s),_(s,o),j(c,o,null),_(s,a),_(s,l),_(s,u),_(s,f),j(d,f,null),_(i,g),_(i,p),_(p,m),j(C,m,null),_(p,R),_(p,b),_(p,D),_(p,x),_(p,B),_(p,G),j(K,G,null),H=!0,z||(ie=[te(s,"click",t[12]),te(p,"click",t[13])],z=!0)},p:A,i(F){H||(S(c.$$.fragment,F),S(d.$$.fragment,F),S(C.$$.fragment,F),S(K.$$.fragment,F),F&&he(()=>{M&&M.end(1),U=Ve(e,me,{x:200,duration:200}),U.start()}),H=!0)},o(F){k(c.$$.fragment,F),k(d.$$.fragment,F),k(C.$$.fragment,F),k(K.$$.fragment,F),U&&U.invalidate(),F&&(M=qe(e,me,{x:-200,duration:200})),H=!1},d(F){F&&P(e),I(c),I(d),I(C),I(K),F&&M&&M.end(),z=!1,ge(ie)}}}function Ro(t){let e,n,r,i,s,o,c,a,l,u,f,d,g,p;return r=new Or({props:{filterStore:t[1]}}),l=new Pe({}),{c(){e=y("main"),n=y("div"),N(r.$$.fragment),i=T(),s=y("button"),o=y("h2"),o.textContent="Next",c=T(),a=y("span"),N(l.$$.fragment),h(o,"class","svelte-k11isd"),h(a,"class","arrow svelte-k11isd"),h(s,"class","option svelte-k11isd"),h(n,"class","options svelte-k11isd"),h(e,"class","step filters svelte-k11isd")},m(m,C){E(m,e,C),_(e,n),j(r,n,null),_(n,i),_(n,s),_(s,o),_(s,c),_(s,a),j(l,a,null),d=!0,g||(p=te(s,"click",t[11]),g=!0)},p:A,i(m){d||(S(r.$$.fragment,m),S(l.$$.fragment,m),m&&he(()=>{f&&f.end(1),u=Ve(e,me,{x:200,duration:200}),u.start()}),d=!0)},o(m){k(r.$$.fragment,m),k(l.$$.fragment,m),u&&u.invalidate(),m&&(f=qe(e,me,{x:-200,duration:200})),d=!1},d(m){m&&P(e),I(r),I(l),m&&f&&f.end(),g=!1,p()}}}function Po(t){let e,n,r,i,s,o,c,a,l=t[0]!==1&&jn(t);const u=[So,bo,vo],f=[];function d(C,R){return C[0]===1?0:C[0]===2?1:C[0]===2.2?2:-1}~(r=d(t))&&(i=f[r]=u[r](t));const g=[Ro,To,ko],p=[];function m(C,R){return C[0]===2.4?0:C[0]===3?1:C[0]===4?2:-1}return~(o=m(t))&&(c=p[o]=g[o](t)),{c(){e=y("div"),l&&l.c(),n=T(),i&&i.c(),s=T(),c&&c.c(),h(e,"class","steps svelte-k11isd")},m(C,R){E(C,e,R),l&&l.m(e,null),_(e,n),~r&&f[r].m(e,null),_(e,s),~o&&p[o].m(e,null),a=!0},p(C,[R]){C[0]!==1?l?(l.p(C,R),R&1&&S(l,1)):(l=jn(C),l.c(),S(l,1),l.m(e,n)):l&&(se(),k(l,1,1,()=>{l=null}),oe());let b=r;r=d(C),r===b?~r&&f[r].p(C,R):(i&&(se(),k(f[b],1,1,()=>{f[b]=null}),oe()),~r?(i=f[r],i?i.p(C,R):(i=f[r]=u[r](C),i.c()),S(i,1),i.m(e,s)):i=null);let D=o;o=m(C),o===D?~o&&p[o].p(C,R):(c&&(se(),k(p[D],1,1,()=>{p[D]=null}),oe()),~o?(c=p[o],c?c.p(C,R):(c=p[o]=g[o](C),c.c()),S(c,1),c.m(e,null)):c=null)},i(C){a||(S(l),S(i),S(c),a=!0)},o(C){k(l),k(i),k(c),a=!1},d(C){C&&P(e),l&&l.d(),~r&&f[r].d(),~o&&p[o].d()}}}function Eo(t,e,n){let r,i=1,s,o=be([]);_e(t,o,D=>n(16,r=D));function c(D){n(0,i=2)}function a(D){n(0,i=4)}async function l(){let D=await Ce.clientLogin();pe.set(D),n(4,s=await Ce.joinCallQueue(r,async x=>{console.log("Found one!");let B=await Ce.getUser(x);Ne.set(B)}))}const u=()=>{n(0,i=Math.ceil(i-1))},f=()=>c(),d=()=>cn.set("advisor"),g=()=>{o.set([{name:"Here to talk",category:"general"}]),n(0,i=3)},p=()=>{n(0,i=2.4)},m=()=>{n(0,i=2.2)},C=()=>n(0,i=3),R=()=>a(),b=()=>a();return t.$$.update=()=>{t.$$.dirty&17&&(i===4&&!s?l():i!==4&&s&&(clearInterval(s),n(4,s=null),Ce.leaveCallQueue()))},[i,o,c,a,s,u,f,d,g,p,m,C,R,b]}class Oo extends Q{constructor(e){super(),Y(this,e,Eo,Po,W,{})}}function Ao(t){let e,n,r,i;return{c(){e=y("header"),n=y("h2"),n.textContent="PeerConnect",h(n,"class","svelte-yh2q5s"),h(e,"class","svelte-yh2q5s")},m(s,o){E(s,e,o),_(e,n),r||(i=te(n,"click",t[0]),r=!0)},p:A,i:A,o:A,d(s){s&&P(e),r=!1,i()}}}function Do(t){return[()=>cn.set("client")]}class xo extends Q{constructor(e){super(),Y(this,e,Do,Ao,W,{})}}let Ar=!0,Dr=!0;function pt(t,e,n){const r=t.match(e);return r&&r.length>=n&&parseInt(r[n],10)}function we(t,e,n){if(!t.RTCPeerConnection)return;const r=t.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(o,c){if(o!==e)return i.apply(this,arguments);const a=l=>{const u=n(l);u&&(c.handleEvent?c.handleEvent(u):c(u))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(c,a),i.apply(this,[o,a])};const s=r.removeEventListener;r.removeEventListener=function(o,c){if(o!==e||!this._eventMap||!this._eventMap[e])return s.apply(this,arguments);if(!this._eventMap[e].has(c))return s.apply(this,arguments);const a=this._eventMap[e].get(c);return this._eventMap[e].delete(c),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,s.apply(this,[o,a])},Object.defineProperty(r,"on"+e,{get(){return this["_on"+e]},set(o){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),o&&this.addEventListener(e,this["_on"+e]=o)},enumerable:!0,configurable:!0})}function Mo(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(Ar=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function Lo(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(Dr=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function xr(){if(typeof window=="object"){if(Ar)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function gn(t,e){Dr&&console.warn(t+" is deprecated, please use "+e+" instead.")}function wo(t){const e={browser:null,version:null};if(typeof t>"u"||!t.navigator)return e.browser="Not a browser.",e;const{navigator:n}=t;if(n.mozGetUserMedia)e.browser="firefox",e.version=pt(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=pt(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=pt(n.userAgent,/AppleWebKit\/(\d+)\./,1),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype;else return e.browser="Not a supported browser.",e;return e}function In(t){return Object.prototype.toString.call(t)==="[object Object]"}function Mr(t){return In(t)?Object.keys(t).reduce(function(e,n){const r=In(t[n]),i=r?Mr(t[n]):t[n],s=r&&!Object.keys(i).length;return i===void 0||s?e:Object.assign(e,{[n]:i})},{}):t}function Gt(t,e,n){!e||n.has(e.id)||(n.set(e.id,e),Object.keys(e).forEach(r=>{r.endsWith("Id")?Gt(t,t.get(e[r]),n):r.endsWith("Ids")&&e[r].forEach(i=>{Gt(t,t.get(i),n)})}))}function Nn(t,e,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(e===null)return i;const s=[];return t.forEach(o=>{o.type==="track"&&o.trackIdentifier===e.id&&s.push(o)}),s.forEach(o=>{t.forEach(c=>{c.type===r&&c.trackId===o.id&&Gt(t,c,i)})}),i}const zn=xr;function Lr(t,e){const n=t&&t.navigator;if(!n.mediaDevices)return;const r=function(c){if(typeof c!="object"||c.mandatory||c.optional)return c;const a={};return Object.keys(c).forEach(l=>{if(l==="require"||l==="advanced"||l==="mediaSource")return;const u=typeof c[l]=="object"?c[l]:{ideal:c[l]};u.exact!==void 0&&typeof u.exact=="number"&&(u.min=u.max=u.exact);const f=function(d,g){return d?d+g.charAt(0).toUpperCase()+g.slice(1):g==="deviceId"?"sourceId":g};if(u.ideal!==void 0){a.optional=a.optional||[];let d={};typeof u.ideal=="number"?(d[f("min",l)]=u.ideal,a.optional.push(d),d={},d[f("max",l)]=u.ideal,a.optional.push(d)):(d[f("",l)]=u.ideal,a.optional.push(d))}u.exact!==void 0&&typeof u.exact!="number"?(a.mandatory=a.mandatory||{},a.mandatory[f("",l)]=u.exact):["min","max"].forEach(d=>{u[d]!==void 0&&(a.mandatory=a.mandatory||{},a.mandatory[f(d,l)]=u[d])})}),c.advanced&&(a.optional=(a.optional||[]).concat(c.advanced)),a},i=function(c,a){if(e.version>=61)return a(c);if(c=JSON.parse(JSON.stringify(c)),c&&typeof c.audio=="object"){const l=function(u,f,d){f in u&&!(d in u)&&(u[d]=u[f],delete u[f])};c=JSON.parse(JSON.stringify(c)),l(c.audio,"autoGainControl","googAutoGainControl"),l(c.audio,"noiseSuppression","googNoiseSuppression"),c.audio=r(c.audio)}if(c&&typeof c.video=="object"){let l=c.video.facingMode;l=l&&(typeof l=="object"?l:{ideal:l});const u=e.version<66;if(l&&(l.exact==="user"||l.exact==="environment"||l.ideal==="user"||l.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!u)){delete c.video.facingMode;let f;if(l.exact==="environment"||l.ideal==="environment"?f=["back","rear"]:(l.exact==="user"||l.ideal==="user")&&(f=["front"]),f)return n.mediaDevices.enumerateDevices().then(d=>{d=d.filter(p=>p.kind==="videoinput");let g=d.find(p=>f.some(m=>p.label.toLowerCase().includes(m)));return!g&&d.length&&f.includes("back")&&(g=d[d.length-1]),g&&(c.video.deviceId=l.exact?{exact:g.deviceId}:{ideal:g.deviceId}),c.video=r(c.video),zn("chrome: "+JSON.stringify(c)),a(c)})}c.video=r(c.video)}return zn("chrome: "+JSON.stringify(c)),a(c)},s=function(c){return e.version>=64?c:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[c.name]||c.name,message:c.message,constraint:c.constraint||c.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},o=function(c,a,l){i(c,u=>{n.webkitGetUserMedia(u,a,f=>{l&&l(s(f))})})};if(n.getUserMedia=o.bind(n),n.mediaDevices.getUserMedia){const c=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(a){return i(a,l=>c(l).then(u=>{if(l.audio&&!u.getAudioTracks().length||l.video&&!u.getVideoTracks().length)throw u.getTracks().forEach(f=>{f.stop()}),new DOMException("","NotFoundError");return u},u=>Promise.reject(s(u))))}}}function Bo(t,e){if(!(t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices)&&t.navigator.mediaDevices){if(typeof e!="function"){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}t.navigator.mediaDevices.getDisplayMedia=function(r){return e(r).then(i=>{const s=r.video&&r.video.width,o=r.video&&r.video.height,c=r.video&&r.video.frameRate;return r.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:i,maxFrameRate:c||3}},s&&(r.video.mandatory.maxWidth=s),o&&(r.video.mandatory.maxHeight=o),t.navigator.mediaDevices.getUserMedia(r)})}}}function wr(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function Br(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",i=>{let s;t.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(c=>c.track&&c.track.id===i.track.id):s={track:i.track};const o=new Event("track");o.track=i.track,o.receiver=s,o.transceiver={receiver:s},o.streams=[r.stream],this.dispatchEvent(o)}),r.stream.getTracks().forEach(i=>{let s;t.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(c=>c.track&&c.track.id===i.id):s={track:i};const o=new Event("track");o.track=i,o.receiver=s,o.transceiver={receiver:s},o.streams=[r.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else we(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function jr(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(i,s){return{track:s,get dtmf(){return this._dtmf===void 0&&(s.kind==="audio"?this._dtmf=i.createDTMFSender(s):this._dtmf=null),this._dtmf},_pc:i}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(c,a){let l=i.apply(this,arguments);return l||(l=e(this,c),this._senders.push(l)),l};const s=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(c){s.apply(this,arguments);const a=this._senders.indexOf(c);a!==-1&&this._senders.splice(a,1)}}const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(s){this._senders=this._senders||[],n.apply(this,[s]),s.getTracks().forEach(o=>{this._senders.push(e(this,o))})};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(s){this._senders=this._senders||[],r.apply(this,[s]),s.getTracks().forEach(o=>{const c=this._senders.find(a=>a.track===o);c&&this._senders.splice(this._senders.indexOf(c),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const r=e.apply(this,[]);return r.forEach(i=>i._pc=this),r},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function Ir(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[r,i,s]=arguments;if(arguments.length>0&&typeof r=="function")return e.apply(this,arguments);if(e.length===0&&(arguments.length===0||typeof r!="function"))return e.apply(this,[]);const o=function(a){const l={};return a.result().forEach(f=>{const d={id:f.id,timestamp:f.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[f.type]||f.type};f.names().forEach(g=>{d[g]=f.stat(g)}),l[d.id]=d}),l},c=function(a){return new Map(Object.keys(a).map(l=>[l,a[l]]))};if(arguments.length>=2){const a=function(l){i(c(o(l)))};return e.apply(this,[a,r])}return new Promise((a,l)=>{e.apply(this,[function(u){a(c(o(u)))},l])}).then(i,s)}}function Nr(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const n=t.RTCPeerConnection.prototype.getSenders;n&&(t.RTCPeerConnection.prototype.getSenders=function(){const s=n.apply(this,[]);return s.forEach(o=>o._pc=this),s});const r=t.RTCPeerConnection.prototype.addTrack;r&&(t.RTCPeerConnection.prototype.addTrack=function(){const s=r.apply(this,arguments);return s._pc=this,s}),t.RTCRtpSender.prototype.getStats=function(){const s=this;return this._pc.getStats().then(o=>Nn(o,s.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const n=t.RTCPeerConnection.prototype.getReceivers;n&&(t.RTCPeerConnection.prototype.getReceivers=function(){const i=n.apply(this,[]);return i.forEach(s=>s._pc=this),i}),we(t,"track",r=>(r.receiver._pc=r.srcElement,r)),t.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(s=>Nn(s,i.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const r=arguments[0];let i,s,o;return this.getSenders().forEach(c=>{c.track===r&&(i?o=!0:i=c)}),this.getReceivers().forEach(c=>(c.track===r&&(s?o=!0:s=c),c.track===r)),o||i&&s?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():s?s.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function zr(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(o,c){if(!c)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const a=e.apply(this,arguments);return this._shimmedLocalStreams[c.id]?this._shimmedLocalStreams[c.id].indexOf(a)===-1&&this._shimmedLocalStreams[c.id].push(a):this._shimmedLocalStreams[c.id]=[c,a],a};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(l=>{if(this.getSenders().find(f=>f.track===l))throw new DOMException("Track already exists.","InvalidAccessError")});const c=this.getSenders();n.apply(this,arguments);const a=this.getSenders().filter(l=>c.indexOf(l)===-1);this._shimmedLocalStreams[o.id]=[o].concat(a)};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],r.apply(this,arguments)};const i=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(c=>{const a=this._shimmedLocalStreams[c].indexOf(o);a!==-1&&this._shimmedLocalStreams[c].splice(a,1),this._shimmedLocalStreams[c].length===1&&delete this._shimmedLocalStreams[c]}),i.apply(this,arguments)}}function Fr(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return zr(t);const n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const u=n.apply(this);return this._reverseStreams=this._reverseStreams||{},u.map(f=>this._reverseStreams[f.id])};const r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(u){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},u.getTracks().forEach(f=>{if(this.getSenders().find(g=>g.track===f))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[u.id]){const f=new t.MediaStream(u.getTracks());this._streams[u.id]=f,this._reverseStreams[f.id]=u,u=f}r.apply(this,[u])};const i=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(u){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[u.id]||u]),delete this._reverseStreams[this._streams[u.id]?this._streams[u.id].id:u.id],delete this._streams[u.id]},t.RTCPeerConnection.prototype.addTrack=function(u,f){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const d=[].slice.call(arguments,1);if(d.length!==1||!d[0].getTracks().find(m=>m===u))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(m=>m.track===u))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const p=this._streams[f.id];if(p)p.addTrack(u),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const m=new t.MediaStream([u]);this._streams[f.id]=m,this._reverseStreams[m.id]=f,this.addStream(m)}return this.getSenders().find(m=>m.track===u)};function s(l,u){let f=u.sdp;return Object.keys(l._reverseStreams||[]).forEach(d=>{const g=l._reverseStreams[d],p=l._streams[g.id];f=f.replace(new RegExp(p.id,"g"),g.id)}),new RTCSessionDescription({type:u.type,sdp:f})}function o(l,u){let f=u.sdp;return Object.keys(l._reverseStreams||[]).forEach(d=>{const g=l._reverseStreams[d],p=l._streams[g.id];f=f.replace(new RegExp(g.id,"g"),p.id)}),new RTCSessionDescription({type:u.type,sdp:f})}["createOffer","createAnswer"].forEach(function(l){const u=t.RTCPeerConnection.prototype[l],f={[l](){const d=arguments;return arguments.length&&typeof arguments[0]=="function"?u.apply(this,[p=>{const m=s(this,p);d[0].apply(null,[m])},p=>{d[1]&&d[1].apply(null,p)},arguments[2]]):u.apply(this,arguments).then(p=>s(this,p))}};t.RTCPeerConnection.prototype[l]=f[l]});const c=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?c.apply(this,arguments):(arguments[0]=o(this,arguments[0]),c.apply(this,arguments))};const a=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const l=a.get.apply(this);return l.type===""?l:s(this,l)}}),t.RTCPeerConnection.prototype.removeTrack=function(u){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!u._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(u._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let d;Object.keys(this._streams).forEach(g=>{this._streams[g].getTracks().find(m=>u.track===m)&&(d=this._streams[g])}),d&&(d.getTracks().length===1?this.removeStream(this._reverseStreams[d.id]):d.removeTrack(u.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Jt(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=t.RTCPeerConnection.prototype[n],i={[n](){return arguments[0]=new(n==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};t.RTCPeerConnection.prototype[n]=i[n]})}function Ur(t,e){we(t,"negotiationneeded",n=>{const r=n.target;if(!((e.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}const Fn=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:Ur,shimAddTrackRemoveTrack:Fr,shimAddTrackRemoveTrackWithNative:zr,shimGetDisplayMedia:Bo,shimGetSendersWithDtmf:jr,shimGetStats:Ir,shimGetUserMedia:Lr,shimMediaStream:wr,shimOnTrack:Br,shimPeerConnection:Jt,shimSenderReceiverGetStats:Nr},Symbol.toStringTag,{value:"Module"}));function Hr(t,e){const n=t&&t.navigator,r=t&&t.MediaStreamTrack;if(n.getUserMedia=function(i,s,o){gn("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(i).then(s,o)},!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const i=function(o,c,a){c in o&&!(a in o)&&(o[a]=o[c],delete o[c])},s=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(o){return typeof o=="object"&&typeof o.audio=="object"&&(o=JSON.parse(JSON.stringify(o)),i(o.audio,"autoGainControl","mozAutoGainControl"),i(o.audio,"noiseSuppression","mozNoiseSuppression")),s(o)},r&&r.prototype.getSettings){const o=r.prototype.getSettings;r.prototype.getSettings=function(){const c=o.apply(this,arguments);return i(c,"mozAutoGainControl","autoGainControl"),i(c,"mozNoiseSuppression","noiseSuppression"),c}}if(r&&r.prototype.applyConstraints){const o=r.prototype.applyConstraints;r.prototype.applyConstraints=function(c){return this.kind==="audio"&&typeof c=="object"&&(c=JSON.parse(JSON.stringify(c)),i(c,"autoGainControl","mozAutoGainControl"),i(c,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[c])}}}}function jo(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return r.video===!0?r.video={mediaSource:e}:r.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(r)})}function Vr(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Kt(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const s=t.RTCPeerConnection.prototype[i],o={[i](){return arguments[0]=new(i==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};t.RTCPeerConnection.prototype[i]=o[i]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[s,o,c]=arguments;return r.apply(this,[s||null]).then(a=>{if(e.version<53&&!o)try{a.forEach(l=>{l.type=n[l.type]||l.type})}catch(l){if(l.name!=="TypeError")throw l;a.forEach((u,f)=>{a.set(f,Object.assign({},u,{type:n[u.type]||u.type}))})}return a}).then(o,c)}}function qr(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const i=e.apply(this,[]);return i.forEach(s=>s._pc=this),i});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const i=n.apply(this,arguments);return i._pc=this,i}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Gr(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const r=e.apply(this,[]);return r.forEach(i=>i._pc=this),r}),we(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Jr(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){gn("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function Kr(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function Wr(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const i=r.length>0;i&&r.forEach(o=>{if("rid"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const s=e.apply(this,arguments);if(i){const{sender:o}=s,c=o.getParameters();(!("encodings"in c)||c.encodings.length===1&&Object.keys(c.encodings[0]).length===0)&&(c.encodings=r,o.sendEncodings=r,this.setParametersPromises.push(o.setParameters(c).then(()=>{delete o.sendEncodings}).catch(()=>{delete o.sendEncodings})))}return s})}function Zr(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const r=e.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function Yr(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function Qr(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const Un=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:Wr,shimCreateAnswer:Qr,shimCreateOffer:Yr,shimGetDisplayMedia:jo,shimGetParameters:Zr,shimGetUserMedia:Hr,shimOnTrack:Vr,shimPeerConnection:Kt,shimRTCDataChannel:Kr,shimReceiverGetStats:Gr,shimRemoveStream:Jr,shimSenderGetStats:qr},Symbol.toStringTag,{value:"Module"}));function Xr(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(i=>e.call(this,i,r)),r.getVideoTracks().forEach(i=>e.call(this,i,r))},t.RTCPeerConnection.prototype.addTrack=function(r,...i){return i&&i.forEach(s=>{this._localStreams?this._localStreams.includes(s)||this._localStreams.push(s):this._localStreams=[s]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const i=n.getTracks();this.getSenders().forEach(s=>{i.includes(s.track)&&this.removeTrack(s)})})}}function $r(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const s=new Event("addstream");s.stream=i,this.dispatchEvent(s)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(s=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(s)>=0)return;r._remoteStreams.push(s);const o=new Event("addstream");o.stream=s,r.dispatchEvent(o)})}),e.apply(r,arguments)}}}function ei(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,n=e.createOffer,r=e.createAnswer,i=e.setLocalDescription,s=e.setRemoteDescription,o=e.addIceCandidate;e.createOffer=function(l,u){const f=arguments.length>=2?arguments[2]:arguments[0],d=n.apply(this,[f]);return u?(d.then(l,u),Promise.resolve()):d},e.createAnswer=function(l,u){const f=arguments.length>=2?arguments[2]:arguments[0],d=r.apply(this,[f]);return u?(d.then(l,u),Promise.resolve()):d};let c=function(a,l,u){const f=i.apply(this,[a]);return u?(f.then(l,u),Promise.resolve()):f};e.setLocalDescription=c,c=function(a,l,u){const f=s.apply(this,[a]);return u?(f.then(l,u),Promise.resolve()):f},e.setRemoteDescription=c,c=function(a,l,u){const f=o.apply(this,[a]);return u?(f.then(l,u),Promise.resolve()):f},e.addIceCandidate=c}function ti(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const n=e.mediaDevices,r=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=i=>r(ni(i))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=function(r,i,s){e.mediaDevices.getUserMedia(r).then(i,s)}.bind(e))}function ni(t){return t&&t.video!==void 0?Object.assign({},t,{video:Mr(t.video)}):t}function ri(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(r,i){if(r&&r.iceServers){const s=[];for(let o=0;o<r.iceServers.length;o++){let c=r.iceServers[o];!c.hasOwnProperty("urls")&&c.hasOwnProperty("url")?(gn("RTCIceServer.url","RTCIceServer.urls"),c=JSON.parse(JSON.stringify(c)),c.urls=c.url,delete c.url,s.push(c)):s.push(r.iceServers[o])}r.iceServers=s}return new e(r,i)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function ii(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function si(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const i=this.getTransceivers().find(o=>o.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const s=this.getTransceivers().find(o=>o.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):r.offerToReceiveVideo===!0&&!s&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function oi(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}const Hn=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:oi,shimCallbacksAPI:ei,shimConstraints:ni,shimCreateOfferLegacy:si,shimGetUserMedia:ti,shimLocalStreamsAPI:Xr,shimRTCIceServerUrls:ri,shimRemoteStreamsAPI:$r,shimTrackEventTransceiver:ii},Symbol.toStringTag,{value:"Module"}));var Pt={},Io={get exports(){return Pt},set exports(t){Pt=t}};(function(t){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)},e.localCName=e.generateIdentifier(),e.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},e.splitSections=function(n){return n.split(`
m=`).map((i,s)=>(s>0?"m="+i:i).trim()+`\r
`)},e.getDescription=function(n){const r=e.splitSections(n);return r&&r[0]},e.getMediaSections=function(n){const r=e.splitSections(n);return r.shift(),r},e.matchPrefix=function(n,r){return e.splitLines(n).filter(i=>i.indexOf(r)===0)},e.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const i={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let s=8;s<r.length;s+=2)switch(r[s]){case"raddr":i.relatedAddress=r[s+1];break;case"rport":i.relatedPort=parseInt(r[s+1],10);break;case"tcptype":i.tcpType=r[s+1];break;case"ufrag":i.ufrag=r[s+1],i.usernameFragment=r[s+1];break;default:i[r[s]]===void 0&&(i[r[s]]=r[s+1]);break}return i},e.writeCandidate=function(n){const r=[];r.push(n.foundation);const i=n.component;i==="rtp"?r.push(1):i==="rtcp"?r.push(2):r.push(i),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const s=n.type;return r.push("typ"),r.push(s),s!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},e.parseIceOptions=function(n){return n.substr(14).split(" ")},e.parseRtpMap=function(n){let r=n.substr(9).split(" ");const i={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),i.name=r[0],i.clockRate=parseInt(r[1],10),i.channels=r.length===3?parseInt(r[2],10):1,i.numChannels=i.channels,i},e.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const i=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(i!==1?"/"+i:"")+`\r
`},e.parseExtmap=function(n){const r=n.substr(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1]}},e.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+`\r
`},e.parseFmtp=function(n){const r={};let i;const s=n.substr(n.indexOf(" ")+1).split(";");for(let o=0;o<s.length;o++)i=s[o].trim().split("="),r[i[0].trim()]=i[1];return r},e.writeFmtp=function(n){let r="",i=n.payloadType;if(n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const s=[];Object.keys(n.parameters).forEach(o=>{n.parameters[o]!==void 0?s.push(o+"="+n.parameters[o]):s.push(o)}),r+="a=fmtp:"+i+" "+s.join(";")+`\r
`}return r},e.parseRtcpFb=function(n){const r=n.substr(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},e.writeRtcpFb=function(n){let r="",i=n.payloadType;return n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(s=>{r+="a=rtcp-fb:"+i+" "+s.type+(s.parameter&&s.parameter.length?" "+s.parameter:"")+`\r
`}),r},e.parseSsrcMedia=function(n){const r=n.indexOf(" "),i={ssrc:parseInt(n.substr(7,r-7),10)},s=n.indexOf(":",r);return s>-1?(i.attribute=n.substr(r+1,s-r-1),i.value=n.substr(s+1)):i.attribute=n.substr(r+1),i},e.parseSsrcGroup=function(n){const r=n.substr(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(i=>parseInt(i,10))}},e.getMid=function(n){const r=e.matchPrefix(n,"a=mid:")[0];if(r)return r.substr(6)},e.parseFingerprint=function(n){const r=n.substr(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},e.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:e.matchPrefix(n+r,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(n,r){let i="a=setup:"+r+`\r
`;return n.fingerprints.forEach(s=>{i+="a=fingerprint:"+s.algorithm+" "+s.value+`\r
`}),i},e.parseCryptoLine=function(n){const r=n.substr(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},e.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?e.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substr(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},e.getCryptoParameters=function(n,r){return e.matchPrefix(n+r,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(n,r){const i=e.matchPrefix(n+r,"a=ice-ufrag:")[0],s=e.matchPrefix(n+r,"a=ice-pwd:")[0];return i&&s?{usernameFragment:i.substr(12),password:s.substr(10)}:null},e.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},e.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},s=e.splitLines(n)[0].split(" ");for(let o=3;o<s.length;o++){const c=s[o],a=e.matchPrefix(n,"a=rtpmap:"+c+" ")[0];if(a){const l=e.parseRtpMap(a),u=e.matchPrefix(n,"a=fmtp:"+c+" ");switch(l.parameters=u.length?e.parseFmtp(u[0]):{},l.rtcpFeedback=e.matchPrefix(n,"a=rtcp-fb:"+c+" ").map(e.parseRtcpFb),r.codecs.push(l),l.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(l.name.toUpperCase());break}}}return e.matchPrefix(n,"a=extmap:").forEach(o=>{r.headerExtensions.push(e.parseExtmap(o))}),r},e.writeRtpDescription=function(n,r){let i="";i+="m="+n+" ",i+=r.codecs.length>0?"9":"0",i+=" UDP/TLS/RTP/SAVPF ",i+=r.codecs.map(o=>o.preferredPayloadType!==void 0?o.preferredPayloadType:o.payloadType).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(o=>{i+=e.writeRtpMap(o),i+=e.writeFmtp(o),i+=e.writeRtcpFb(o)});let s=0;return r.codecs.forEach(o=>{o.maxptime>s&&(s=o.maxptime)}),s>0&&(i+="a=maxptime:"+s+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(o=>{i+=e.writeExtmap(o)}),i},e.parseRtpEncodingParameters=function(n){const r=[],i=e.parseRtpParameters(n),s=i.fecMechanisms.indexOf("RED")!==-1,o=i.fecMechanisms.indexOf("ULPFEC")!==-1,c=e.matchPrefix(n,"a=ssrc:").map(d=>e.parseSsrcMedia(d)).filter(d=>d.attribute==="cname"),a=c.length>0&&c[0].ssrc;let l;const u=e.matchPrefix(n,"a=ssrc-group:FID").map(d=>d.substr(17).split(" ").map(p=>parseInt(p,10)));u.length>0&&u[0].length>1&&u[0][0]===a&&(l=u[0][1]),i.codecs.forEach(d=>{if(d.name.toUpperCase()==="RTX"&&d.parameters.apt){let g={ssrc:a,codecPayloadType:parseInt(d.parameters.apt,10)};a&&l&&(g.rtx={ssrc:l}),r.push(g),s&&(g=JSON.parse(JSON.stringify(g)),g.fec={ssrc:a,mechanism:o?"red+ulpfec":"red"},r.push(g))}}),r.length===0&&a&&r.push({ssrc:a});let f=e.matchPrefix(n,"b=");return f.length&&(f[0].indexOf("b=TIAS:")===0?f=parseInt(f[0].substr(7),10):f[0].indexOf("b=AS:")===0?f=parseInt(f[0].substr(5),10)*1e3*.95-50*40*8:f=void 0,r.forEach(d=>{d.maxBitrate=f})),r},e.parseRtcpParameters=function(n){const r={},i=e.matchPrefix(n,"a=ssrc:").map(c=>e.parseSsrcMedia(c)).filter(c=>c.attribute==="cname")[0];i&&(r.cname=i.value,r.ssrc=i.ssrc);const s=e.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=s.length>0,r.compound=s.length===0;const o=e.matchPrefix(n,"a=rtcp-mux");return r.mux=o.length>0,r},e.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},e.parseMsid=function(n){let r;const i=e.matchPrefix(n,"a=msid:");if(i.length===1)return r=i[0].substr(7).split(" "),{stream:r[0],track:r[1]};const s=e.matchPrefix(n,"a=ssrc:").map(o=>e.parseSsrcMedia(o)).filter(o=>o.attribute==="msid");if(s.length>0)return r=s[0].value.split(" "),{stream:r[0],track:r[1]}},e.parseSctpDescription=function(n){const r=e.parseMLine(n),i=e.matchPrefix(n,"a=max-message-size:");let s;i.length>0&&(s=parseInt(i[0].substr(19),10)),isNaN(s)&&(s=65536);const o=e.matchPrefix(n,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substr(12),10),protocol:r.fmt,maxMessageSize:s};const c=e.matchPrefix(n,"a=sctpmap:");if(c.length>0){const a=c[0].substr(10).split(" ");return{port:parseInt(a[0],10),protocol:a[1],maxMessageSize:s}}},e.writeSctpDescription=function(n,r){let i=[];return n.protocol!=="DTLS/SCTP"?i=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:i=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&i.push("a=max-message-size:"+r.maxMessageSize+`\r
`),i.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,21)},e.writeSessionBoilerplate=function(n,r,i){let s;const o=r!==void 0?r:2;return n?s=n:s=e.generateSessionId(),`v=0\r
o=`+(i||"thisisadapterortc")+" "+s+" "+o+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(n,r){const i=e.splitLines(n);for(let s=0;s<i.length;s++)switch(i[s]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[s].substr(2)}return r?e.getDirection(r):"sendrecv"},e.getKind=function(n){return e.splitLines(n)[0].split(" ")[0].substr(2)},e.isRejected=function(n){return n.split(" ",2)[1]==="0"},e.parseMLine=function(n){const i=e.splitLines(n)[0].substr(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},e.parseOLine=function(n){const i=e.matchPrefix(n,"o=")[0].substr(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},e.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=e.splitLines(n);for(let i=0;i<r.length;i++)if(r[i].length<2||r[i].charAt(1)!=="=")return!1;return!0},t.exports=e})(Io);const ze=Pt,No=di({__proto__:null,default:ze},[Pt]);function mt(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substr(2)),r.candidate&&r.candidate.length){const i=new e(r),s=ze.parseCandidate(r.candidate),o=Object.assign(i,s);return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new e(r)},t.RTCIceCandidate.prototype=e.prototype,we(t,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new t.RTCIceCandidate(n.candidate),writable:"false"}),n))}function Wt(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||we(t,"icecandidate",e=>{if(e.candidate){const n=ze.parseCandidate(e.candidate.candidate);n.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return e})}function gt(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(c){if(!c||!c.sdp)return!1;const a=ze.splitSections(c.sdp);return a.shift(),a.some(l=>{const u=ze.parseMLine(l);return u&&u.kind==="application"&&u.protocol.indexOf("SCTP")!==-1})},r=function(c){const a=c.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(a===null||a.length<2)return-1;const l=parseInt(a[1],10);return l!==l?-1:l},i=function(c){let a=65536;return e.browser==="firefox"&&(e.version<57?c===-1?a=16384:a=2147483637:e.version<60?a=e.version===57?65535:65536:a=2147483637),a},s=function(c,a){let l=65536;e.browser==="firefox"&&e.version===57&&(l=65535);const u=ze.matchPrefix(c.sdp,"a=max-message-size:");return u.length>0?l=parseInt(u[0].substr(19),10):e.browser==="firefox"&&a!==-1&&(l=2147483637),l},o=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:a}=this.getConfiguration();a==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const a=r(arguments[0]),l=i(a),u=s(arguments[0],a);let f;l===0&&u===0?f=Number.POSITIVE_INFINITY:l===0||u===0?f=Math.max(l,u):f=Math.min(l,u);const d={};Object.defineProperty(d,"maxMessageSize",{get(){return f}}),this._sctp=d}return o.apply(this,arguments)}}function _t(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(r,i){const s=r.send;r.send=function(){const c=arguments[0],a=c.length||c.size||c.byteLength;if(r.readyState==="open"&&i.sctp&&a>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return s.apply(r,arguments)}}const n=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const i=n.apply(this,arguments);return e(i,this),i},we(t,"datachannel",r=>(e(r.channel,r.target),r))}function Zt(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=e[n];e[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const s=i.target;if(s._lastConnectionState!==s.connectionState){s._lastConnectionState=s.connectionState;const o=new Event("connectionstatechange",i);s.dispatchEvent(o)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function Yt(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e.version>=605)return;const n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const s=i.sdp.split(`
`).filter(o=>o.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&i instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:i.type,sdp:s}):i.sdp=s}return n.apply(this,arguments)}}function yt(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Ct(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let i=arguments[0]||{};if(typeof i!="object"||i.type&&i.sdp)return n.apply(this,arguments);if(i={type:i.type,sdp:i.sdp},!i.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":i.type="offer";break;default:i.type="answer";break}return i.sdp||i.type!=="offer"&&i.type!=="answer"?n.apply(this,[i]):(i.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(o=>n.apply(this,[o]))})}const zo=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Yt,shimAddIceCandidateNullOrEmpty:yt,shimConnectionState:Zt,shimMaxMessageSize:gt,shimParameterlessSetLocalDescription:Ct,shimRTCIceCandidate:mt,shimRTCIceCandidateRelayProtocol:Wt,shimSendThrowTypeError:_t},Symbol.toStringTag,{value:"Module"}));function Fo({window:t}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=xr,r=wo(t),i={browserDetails:r,commonShim:zo,extractVersion:pt,disableLog:Mo,disableWarnings:Lo,sdp:No};switch(r.browser){case"chrome":if(!Fn||!Jt||!e.shimChrome)return n("Chrome shim is not included in this adapter release."),i;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),i;n("adapter.js shimming chrome."),i.browserShim=Fn,yt(t,r),Ct(t),Lr(t,r),wr(t),Jt(t,r),Br(t),Fr(t,r),jr(t),Ir(t),Nr(t),Ur(t,r),mt(t),Wt(t),Zt(t),gt(t,r),_t(t),Yt(t,r);break;case"firefox":if(!Un||!Kt||!e.shimFirefox)return n("Firefox shim is not included in this adapter release."),i;n("adapter.js shimming firefox."),i.browserShim=Un,yt(t,r),Ct(t),Hr(t,r),Kt(t,r),Vr(t),Jr(t),qr(t),Gr(t),Kr(t),Wr(t),Zr(t),Yr(t),Qr(t),mt(t),Zt(t),gt(t,r),_t(t);break;case"safari":if(!Hn||!e.shimSafari)return n("Safari shim is not included in this adapter release."),i;n("adapter.js shimming safari."),i.browserShim=Hn,yt(t,r),Ct(t),ri(t),si(t),ei(t),Xr(t),$r(t),ii(t),ti(t),oi(t),mt(t),Wt(t),gt(t,r),_t(t),Yt(t,r);break;default:n("Unsupported browser!");break}return i}Fo({window:typeof window>"u"?void 0:window});const Uo=""+new URL("call-f22f1bb3.svg",import.meta.url).href;function Ho(t){let e,n,r,i,s,o,c,a,l,u;return{c(){e=y("p"),e.textContent="Sit tight! We're connecting you...",n=T(),r=y("img"),s=T(),o=y("div"),c=T(),a=y("div"),l=T(),u=y("div"),h(e,"class","callText svelte-10490zr"),vt(r.src,i=Uo)||h(r,"src",i),h(r,"class","calling svelte-10490zr"),h(r,"width","20%"),h(r,"height","20%"),h(o,"class","callDot one svelte-10490zr"),h(a,"class","callDot two svelte-10490zr"),h(u,"class","callDot three svelte-10490zr")},m(f,d){E(f,e,d),E(f,n,d),E(f,r,d),E(f,s,d),E(f,o,d),E(f,c,d),E(f,a,d),E(f,l,d),E(f,u,d)},p:A,i:A,o:A,d(f){f&&P(e),f&&P(n),f&&P(r),f&&P(s),f&&P(o),f&&P(c),f&&P(a),f&&P(l),f&&P(u)}}}class Vo extends Q{constructor(e){super(),Y(this,e,null,Ho,W,{})}}function qo(t){let e,n;return{c(){e=X("svg"),n=X("path"),h(n,"d","M2,21L23,12L2,3V10L17,12L2,14V21Z"),h(n,"fill",t[2]),h(e,"width",t[0]),h(e,"height",t[1]),h(e,"viewBox",t[3])},m(r,i){E(r,e,i),_(e,n)},p(r,[i]){i&4&&h(n,"fill",r[2]),i&1&&h(e,"width",r[0]),i&2&&h(e,"height",r[1]),i&8&&h(e,"viewBox",r[3])},i:A,o:A,d(r){r&&P(e)}}}function Go(t,e,n){let{size:r="1em"}=e,{width:i=r}=e,{height:s=r}=e,{color:o="currentColor"}=e,{viewBox:c="0 0 24 24"}=e;return t.$$set=a=>{"size"in a&&n(4,r=a.size),"width"in a&&n(0,i=a.width),"height"in a&&n(1,s=a.height),"color"in a&&n(2,o=a.color),"viewBox"in a&&n(3,c=a.viewBox)},[i,s,o,c,r]}class Jo extends Q{constructor(e){super(),Y(this,e,Go,qo,W,{size:4,width:0,height:1,color:2,viewBox:3})}}function Ko(t){let e,n;return{c(){e=X("svg"),n=X("path"),h(n,"d","M12,2A3,3 0 0,1 15,5V11A3,3 0 0,1 12,14A3,3 0 0,1 9,11V5A3,3 0 0,1 12,2M19,11C19,14.53 16.39,17.44 13,17.93V21H11V17.93C7.61,17.44 5,14.53 5,11H7A5,5 0 0,0 12,16A5,5 0 0,0 17,11H19Z"),h(n,"fill",t[2]),h(e,"width",t[0]),h(e,"height",t[1]),h(e,"viewBox",t[3])},m(r,i){E(r,e,i),_(e,n)},p(r,[i]){i&4&&h(n,"fill",r[2]),i&1&&h(e,"width",r[0]),i&2&&h(e,"height",r[1]),i&8&&h(e,"viewBox",r[3])},i:A,o:A,d(r){r&&P(e)}}}function Wo(t,e,n){let{size:r="1em"}=e,{width:i=r}=e,{height:s=r}=e,{color:o="currentColor"}=e,{viewBox:c="0 0 24 24"}=e;return t.$$set=a=>{"size"in a&&n(4,r=a.size),"width"in a&&n(0,i=a.width),"height"in a&&n(1,s=a.height),"color"in a&&n(2,o=a.color),"viewBox"in a&&n(3,c=a.viewBox)},[i,s,o,c,r]}class ai extends Q{constructor(e){super(),Y(this,e,Wo,Ko,W,{size:4,width:0,height:1,color:2,viewBox:3})}}function Zo(t){let e,n;return{c(){e=X("svg"),n=X("path"),h(n,"d","M19,11C19,12.19 18.66,13.3 18.1,14.28L16.87,13.05C17.14,12.43 17.3,11.74 17.3,11H19M15,11.16L9,5.18V5A3,3 0 0,1 12,2A3,3 0 0,1 15,5V11L15,11.16M4.27,3L21,19.73L19.73,21L15.54,16.81C14.77,17.27 13.91,17.58 13,17.72V21H11V17.72C7.72,17.23 5,14.41 5,11H6.7C6.7,14 9.24,16.1 12,16.1C12.81,16.1 13.6,15.91 14.31,15.58L12.65,13.92L12,14A3,3 0 0,1 9,11V10.28L3,4.27L4.27,3Z"),h(n,"fill",t[2]),h(e,"width",t[0]),h(e,"height",t[1]),h(e,"viewBox",t[3])},m(r,i){E(r,e,i),_(e,n)},p(r,[i]){i&4&&h(n,"fill",r[2]),i&1&&h(e,"width",r[0]),i&2&&h(e,"height",r[1]),i&8&&h(e,"viewBox",r[3])},i:A,o:A,d(r){r&&P(e)}}}function Yo(t,e,n){let{size:r="1em"}=e,{width:i=r}=e,{height:s=r}=e,{color:o="currentColor"}=e,{viewBox:c="0 0 24 24"}=e;return t.$$set=a=>{"size"in a&&n(4,r=a.size),"width"in a&&n(0,i=a.width),"height"in a&&n(1,s=a.height),"color"in a&&n(2,o=a.color),"viewBox"in a&&n(3,c=a.viewBox)},[i,s,o,c,r]}class ci extends Q{constructor(e){super(),Y(this,e,Yo,Zo,W,{size:4,width:0,height:1,color:2,viewBox:3})}}function Qo(t){let e,n;return{c(){e=X("svg"),n=X("path"),h(n,"d","M12,9C10.4,9 8.85,9.25 7.4,9.72V12.82C7.4,13.22 7.17,13.56 6.84,13.72C5.86,14.21 4.97,14.84 4.17,15.57C4,15.75 3.75,15.86 3.5,15.86C3.2,15.86 2.95,15.74 2.77,15.56L0.29,13.08C0.11,12.9 0,12.65 0,12.38C0,12.1 0.11,11.85 0.29,11.67C3.34,8.77 7.46,7 12,7C16.54,7 20.66,8.77 23.71,11.67C23.89,11.85 24,12.1 24,12.38C24,12.65 23.89,12.9 23.71,13.08L21.23,15.56C21.05,15.74 20.8,15.86 20.5,15.86C20.25,15.86 20,15.75 19.82,15.57C19.03,14.84 18.14,14.21 17.16,13.72C16.83,13.56 16.6,13.22 16.6,12.82V9.72C15.15,9.25 13.6,9 12,9Z"),h(n,"fill",t[2]),h(e,"width",t[0]),h(e,"height",t[1]),h(e,"viewBox",t[3])},m(r,i){E(r,e,i),_(e,n)},p(r,[i]){i&4&&h(n,"fill",r[2]),i&1&&h(e,"width",r[0]),i&2&&h(e,"height",r[1]),i&8&&h(e,"viewBox",r[3])},i:A,o:A,d(r){r&&P(e)}}}function Xo(t,e,n){let{size:r="1em"}=e,{width:i=r}=e,{height:s=r}=e,{color:o="currentColor"}=e,{viewBox:c="0 0 24 24"}=e;return t.$$set=a=>{"size"in a&&n(4,r=a.size),"width"in a&&n(0,i=a.width),"height"in a&&n(1,s=a.height),"color"in a&&n(2,o=a.color),"viewBox"in a&&n(3,c=a.viewBox)},[i,s,o,c,r]}class li extends Q{constructor(e){super(),Y(this,e,Xo,Qo,W,{size:4,width:0,height:1,color:2,viewBox:3})}}function Vn(t,e,n){const r=t.slice();return r[9]=e[n],r}function qn(t){let e,n,r=t[9].time.toLocaleTimeString()+"",i,s,o=t[9].author+"",c,a,l=t[9].text+"",u;return{c(){e=y("div"),n=y("span"),i=ee(r),s=T(),c=ee(o),a=ee(": "),u=ee(l),h(n,"class","svelte-1ene7l7"),h(e,"class","svelte-1ene7l7"),ve(e,"color",t[9].author===t[2].name||t[9].author==="You"?"#777":"black")},m(f,d){E(f,e,d),_(e,n),_(n,i),_(e,s),_(e,c),_(e,a),_(e,u)},p(f,d){d&8&&r!==(r=f[9].time.toLocaleTimeString()+"")&&ye(i,r),d&8&&o!==(o=f[9].author+"")&&ye(c,o),d&8&&l!==(l=f[9].text+"")&&ye(u,l),d&12&&ve(e,"color",f[9].author===f[2].name||f[9].author==="You"?"#777":"black")},d(f){f&&P(e)}}}function Gn(t){let e;return{c(){e=y("div"),e.textContent="No messages yet",ve(e,"text-align","center"),ve(e,"color","#aaa")},m(n,r){E(n,e,r)},d(n){n&&P(e)}}}function $o(t){let e,n,r,i,s,o,c,a,l,u,f,d,g,p,m=t[3],C=[];for(let b=0;b<m.length;b+=1)C[b]=qn(Vn(t,m,b));let R=t[3].length===0&&Gn();return f=new Jo({}),{c(){e=y("aside"),n=y("h2"),n.textContent="Chat",r=T(),i=y("div");for(let b=0;b<C.length;b+=1)C[b].c();s=T(),R&&R.c(),o=T(),c=y("div"),a=y("input"),l=T(),u=y("button"),N(f.$$.fragment),h(n,"class","svelte-1ene7l7"),h(i,"class","chatScrollable svelte-1ene7l7"),h(a,"placeholder","Send a message..."),h(a,"type","text"),h(a,"class","svelte-1ene7l7"),h(c,"class","chatInputBox svelte-1ene7l7"),h(e,"class","chat svelte-1ene7l7")},m(b,D){E(b,e,D),_(e,n),_(e,r),_(e,i);for(let x=0;x<C.length;x+=1)C[x].m(i,null);_(i,s),R&&R.m(i,null),_(e,o),_(e,c),_(c,a),yn(a,t[0]),_(c,l),_(c,u),j(f,u,null),d=!0,g||(p=[te(a,"keyup",t[4]),te(a,"input",t[5]),te(u,"click",t[6])],g=!0)},p(b,[D]){if(D&12){m=b[3];let x;for(x=0;x<m.length;x+=1){const B=Vn(b,m,x);C[x]?C[x].p(B,D):(C[x]=qn(B),C[x].c(),C[x].m(i,s))}for(;x<C.length;x+=1)C[x].d(1);C.length=m.length}b[3].length===0?R||(R=Gn(),R.c(),R.m(i,null)):R&&(R.d(1),R=null),D&1&&a.value!==b[0]&&yn(a,b[0])},i(b){d||(S(f.$$.fragment,b),d=!0)},o(b){k(f.$$.fragment,b),d=!1},d(b){b&&P(e),et(C,b),R&&R.d(),I(f),g=!1,ge(p)}}}function ea(t,e,n){let r,i,s;_e(t,zt,d=>n(1,r=d)),_e(t,pe,d=>n(2,i=d)),_e(t,Ft,d=>n(3,s=d));let o,a=be(i.attributes).subscribe(d=>{pe.update(g=>(g.attributes=d,g)),Ce.updateAttributes(d)});function l(d){d.key==="Enter"&&(r(o),n(0,o=""))}He(()=>{a()});function u(){o=this.value,n(0,o)}return[o,r,i,s,l,u,()=>{r(o),n(0,o="")}]}class ui extends Q{constructor(e){super(),Y(this,e,ea,$o,W,{})}}function Jn(t){let e,n=t[0].name+"",r;return{c(){e=y("span"),r=ee(n),h(e,"class","svelte-1scgluo")},m(i,s){E(i,e,s),_(e,r)},p(i,s){s[0]&1&&n!==(n=i[0].name+"")&&ye(r,n)},d(i){i&&P(e)}}}function ta(t){let e,n;return e=new Vo({}),{c(){N(e.$$.fragment)},m(r,i){j(e,r,i),n=!0},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){I(e,r)}}}function na(t){let e;return{c(){e=y("span"),e.textContent="Video Disabled",h(e,"class","videoDisabled svelte-1scgluo")},m(n,r){E(n,e,r)},i:A,o:A,d(n){n&&P(e)}}}function Kn(t){let e,n=t[1].name+"",r;return{c(){e=y("span"),r=ee(n),h(e,"class","svelte-1scgluo")},m(i,s){E(i,e,s),_(e,r)},p(i,s){s[0]&2&&n!==(n=i[1].name+"")&&ye(r,n)},d(i){i&&P(e)}}}function ra(t){let e,n;return e=new an({}),{c(){N(e.$$.fragment)},m(r,i){j(e,r,i),n=!0},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){I(e,r)}}}function ia(t){let e,n;return e=new on({}),{c(){N(e.$$.fragment)},m(r,i){j(e,r,i),n=!0},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){I(e,r)}}}function sa(t){let e,n;return e=new ci({}),{c(){N(e.$$.fragment)},m(r,i){j(e,r,i),n=!0},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){I(e,r)}}}function oa(t){let e,n;return e=new ai({}),{c(){N(e.$$.fragment)},m(r,i){j(e,r,i),n=!0},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){I(e,r)}}}function aa(t){let e,n,r,i,s=!t[0].name.includes("default-name-"),o,c,a,l,u,f,d,g,p,m,C,R,b,D,x,B,G,K,U,M,H,z,ie,F,ne,le,fe,re,L=s&&Jn(t);const $=[na,ta],ue=[];function Z(w,ae){return w[6]?0:1}u=Z(t),f=ue[u]=$[u](t);let q=t[1].name&&Kn(t);R=new ui({});const xe=[ia,ra],Re=[];function rt(w,ae){return w[3]?0:1}B=rt(t),G=Re[B]=xe[B](t),M=new li({});const it=[oa,sa],O=[];function V(w,ae){return w[4]?0:1}return F=V(t),ne=O[F]=it[F](t),{c(){e=y("main"),n=y("div"),r=y("span"),r.textContent="Video Disabled",i=T(),L&&L.c(),o=T(),c=y("video"),a=T(),l=y("div"),f.c(),d=T(),q&&q.c(),g=T(),p=y("video"),m=T(),C=y("span"),N(R.$$.fragment),b=T(),D=y("div"),x=y("button"),G.c(),K=T(),U=y("button"),N(M.$$.fragment),z=T(),ie=y("button"),ne.c(),h(r,"class","videoDisabled svelte-1scgluo"),c.autoplay=!0,c.muted=!0,h(c,"class","svelte-1scgluo"),h(n,"class","window myWindow svelte-1scgluo"),p.autoplay=!0,h(p,"class","svelte-1scgluo"),h(l,"class","window theirWindow svelte-1scgluo"),h(C,"class","chatContainer svelte-1scgluo"),h(x,"class","callBtn"),de(x,"off",!t[3]),h(U,"class","callBtn"),ve(U,"background-color","red"),ve(U,"color","white"),U.disabled=H=!t[5],h(ie,"class","callBtn"),de(ie,"off",!t[4]),h(D,"class","videoActions svelte-1scgluo"),de(D,"off",!t[3]),h(e,"class","videoCall svelte-1scgluo"),de(e,"miniPlayer",t[2])},m(w,ae){E(w,e,ae),_(e,n),_(n,r),_(n,i),L&&L.m(n,null),_(n,o),_(n,c),t[12](c),_(e,a),_(e,l),ue[u].m(l,null),_(l,d),q&&q.m(l,null),_(l,g),_(l,p),t[13](p),_(e,m),_(e,C),j(R,C,null),_(e,b),_(e,D),_(D,x),Re[B].m(x,null),_(D,K),_(D,U),j(M,U,null),_(D,z),_(D,ie),O[F].m(ie,null),le=!0,fe||(re=[te(x,"click",t[14]),te(U,"click",t[9]),te(ie,"click",t[15])],fe=!0)},p(w,ae){ae[0]&1&&(s=!w[0].name.includes("default-name-")),s?L?L.p(w,ae):(L=Jn(w),L.c(),L.m(n,o)):L&&(L.d(1),L=null);let xt=u;u=Z(w),u!==xt&&(se(),k(ue[xt],1,1,()=>{ue[xt]=null}),oe(),f=ue[u],f||(f=ue[u]=$[u](w),f.c()),S(f,1),f.m(l,d)),w[1].name?q?q.p(w,ae):(q=Kn(w),q.c(),q.m(l,g)):q&&(q.d(1),q=null);let Mt=B;B=rt(w),B!==Mt&&(se(),k(Re[Mt],1,1,()=>{Re[Mt]=null}),oe(),G=Re[B],G||(G=Re[B]=xe[B](w),G.c()),S(G,1),G.m(x,null)),(!le||ae[0]&8)&&de(x,"off",!w[3]),(!le||ae[0]&32&&H!==(H=!w[5]))&&(U.disabled=H);let Lt=F;F=V(w),F!==Lt&&(se(),k(O[Lt],1,1,()=>{O[Lt]=null}),oe(),ne=O[F],ne||(ne=O[F]=it[F](w),ne.c()),S(ne,1),ne.m(ie,null)),(!le||ae[0]&16)&&de(ie,"off",!w[4]),(!le||ae[0]&8)&&de(D,"off",!w[3]),(!le||ae[0]&4)&&de(e,"miniPlayer",w[2])},i(w){le||(S(f),S(R.$$.fragment,w),S(G),S(M.$$.fragment,w),S(ne),le=!0)},o(w){k(f),k(R.$$.fragment,w),k(G),k(M.$$.fragment,w),k(ne),le=!1},d(w){w&&P(e),L&&L.d(),t[12](null),ue[u].d(),q&&q.d(),t[13](null),I(R),Re[B].d(),I(M),O[F].d(),fe=!1,ge(re)}}}function ca(t){}async function at(t,e){if(!t&&!e)return null;let n={audio:t,video:e?{aspectRatio:{ideal:.5625,max:1}}:!1};return await navigator.mediaDevices.getUserMedia(n)}function la(t,e,n){let{userData:r}=e,{targetData:i}=e,{defaults:s={video:!0,audio:!0}}=e,{onHangup:o}=e,{forceMiniPlayer:c=!1}=e,a=!1,l=s.video,u=s.audio,f,d,g=r.id,p=i.id,m=null;function C(O){var V=JSON.stringify(O);d.send(V)}function R(){C({name:r.id,date:Date.now(),id:f,type:"username"})}sr(()=>{b(),setTimeout(()=>{m||z()},3e4)}),He(()=>{m&&m.close(),d&&d.close()});function b(){d=new WebSocket(Xs,"json"),d.onopen=function(O){n(5,a=!0),zt.set(D),at(u,l).then(V=>n(7,Z.srcObject=V,Z))},d.onerror=function(O){console.dir(O)},d.onmessage=function(O){let V=JSON.parse(O.data),w={time:new Date(V.date),author:"",text:""};switch(V.type){case"id":f=V.id,R();break;case"username":break;case"message":w.author=V.name===r.id?r.name.includes("default-name-")?"You":r.name:i.name||"Them",w.text=V.text;break;case"rejectusername":g=V.name,w.text="Your username has been set to "+g+"because the name you chose is in use.";break;case"userlist":H(V);break;case"video-offer":le(V);break;case"video-answer":fe(V);break;case"new-ice-candidate":re(V);break;case"hang-up":ie();break;default:console.error("Unknown message received.",V)}w.text.length&&Ft.update(ae=>[...ae,w])}}function D(O){var V={text:O,type:"message",id:f,date:Date.now()};C(V)}async function x(){n(6,m=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"}]})),n(6,m.onicecandidate=K,m),n(6,m.oniceconnectionstatechange=U,m),n(6,m.onicegatheringstatechange=ca,m),n(6,m.onsignalingstatechange=M,m),n(6,m.onnegotiationneeded=B,m),n(6,m.ontrack=G,m)}async function B(){try{const O=await m.createOffer();if(m.signalingState!="stable")return;await m.setLocalDescription(O),C({name:g,target:p,type:"video-offer",sdp:m.localDescription})}catch(O){reportError(O)}}function G(O){try{q&&n(8,q.srcObject=O.streams[0].active?O.streams[0]:null,q)}catch{console.warn("Can't set video right now...")}n(5,a=!0)}function K(O){O.candidate&&C({type:"new-ice-candidate",target:p,candidate:O.candidate})}function U(O){switch(m.iceConnectionState){case"failed":case"closed":case"disconnected":z();break}}function M(O){switch(m.signalingState){case"closed":z();break}}function H(O){O.users.includes(p)&&ne(p)}function z(){m&&(n(6,m.ontrack=null,m),n(6,m.onnicecandidate=null,m),n(6,m.oniceconnectionstatechange=null,m),n(6,m.onsignalingstatechange=null,m),n(6,m.onicegatheringstatechange=null,m),n(6,m.onnotificationneeded=null,m),m.getTransceivers().forEach(O=>O.stop()),m.close(),n(6,m=null)),Z.srcObject&&(Z.srcObject.getTracks().forEach(O=>{O.stop()}),n(7,Z.srcObject=null,Z)),o(),n(5,a=!1),p=null,zt.set(O=>{}),Ft.set([])}function ie(O){z()}function F(){C({name:g,target:p,type:"hang-up"}),z()}async function ne(O){if(m)m.close(),n(6,m=null);else{var V=O;if(V===g){alert("I'm afraid I can't let you talk to yourself. That would be weird.");return}if(p=V,x(),console.log(m),Z)try{n(7,Z.srcObject=await at(u,l),Z),Z.srcObject.getTracks().forEach(w=>m.addTransceiver(w,{streams:[Z.srcObject]}))}catch(w){L(w);return}}}async function le(O){p=O.name,m||x();var V=new RTCSessionDescription(O.sdp);if(m.signalingState!="stable"){await Promise.all([m.setLocalDescription({type:"rollback"}),m.setRemoteDescription(V)]);return}else await m.setRemoteDescription(V);if(!Z.srcObject){let w=await at(u,l);Z&&n(7,Z.srcObject=w,Z);try{w&&w.getTracks().forEach(ae=>m.addTransceiver(ae,{streams:[w]}))}catch(ae){L(ae)}}await m.setLocalDescription(await m.createAnswer()),C({name:g,target:p,type:"video-answer",sdp:m.localDescription})}async function fe(O){var V=new RTCSessionDescription(O.sdp);await m.setRemoteDescription(V).catch(reportError)}async function re(O){var V=new RTCIceCandidate(O.candidate);try{await m.addIceCandidate(V)}catch(w){reportError(w)}}function L(O){switch(O.name){case"NotFoundError":alert("Unable to open your call because no camera and/or microphonewere found.");break;case"SecurityError":case"PermissionDeniedError":break;default:throw O}console.log(O),z()}function $(){at(u,l).then(O=>{console.log(m.getTransceivers()),m.getTransceivers().forEach(V=>{V.mid!==null&&V.sender.track&&(V.sender.track.stop(),V.stop())}),n(7,Z.srcObject=O,Z),O&&O.getTracks().forEach(V=>{V.enabled=!0,m.addTransceiver(V,{streams:[O]})})}).catch(L)}const ue=()=>Z&&m;let Z,q;function xe(O){Qe[O?"unshift":"push"](()=>{Z=O,n(7,Z),n(3,l),n(4,u)})}function Re(O){Qe[O?"unshift":"push"](()=>{q=O,n(8,q)})}const rt=()=>n(3,l=!l),it=()=>n(4,u=!u);return t.$$set=O=>{"userData"in O&&n(0,r=O.userData),"targetData"in O&&n(1,i=O.targetData),"defaults"in O&&n(10,s=O.defaults),"onHangup"in O&&n(11,o=O.onHangup),"forceMiniPlayer"in O&&n(2,c=O.forceMiniPlayer)},t.$$.update=()=>{t.$$.dirty[0]&24&&ue()&&(l||n(7,Z.srcObject=null,Z),$())},[r,i,c,l,u,a,m,Z,q,F,s,o,xe,Re,rt,it]}class fi extends Q{constructor(e){super(),Y(this,e,la,aa,W,{userData:0,targetData:1,defaults:10,onHangup:11,forceMiniPlayer:2},null,[-1,-1])}}function ua(t){let e,n;return{c(){e=X("svg"),n=X("path"),h(n,"d","M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z"),h(n,"fill",t[2]),h(e,"width",t[0]),h(e,"height",t[1]),h(e,"viewBox",t[3])},m(r,i){E(r,e,i),_(e,n)},p(r,[i]){i&4&&h(n,"fill",r[2]),i&1&&h(e,"width",r[0]),i&2&&h(e,"height",r[1]),i&8&&h(e,"viewBox",r[3])},i:A,o:A,d(r){r&&P(e)}}}function fa(t,e,n){let{size:r="1em"}=e,{width:i=r}=e,{height:s=r}=e,{color:o="currentColor"}=e,{viewBox:c="0 0 24 24"}=e;return t.$$set=a=>{"size"in a&&n(4,r=a.size),"width"in a&&n(0,i=a.width),"height"in a&&n(1,s=a.height),"color"in a&&n(2,o=a.color),"viewBox"in a&&n(3,c=a.viewBox)},[i,s,o,c,r]}class da extends Q{constructor(e){super(),Y(this,e,fa,ua,W,{size:4,width:0,height:1,color:2,viewBox:3})}}function ha(t){let e,n;return{c(){e=X("svg"),n=X("path"),h(n,"d","M18.73,18C15.4,21.69 9.71,22 6,18.64C2.33,15.31 2.04,9.62 5.37,5.93C6.9,4.25 9,3.2 11.27,3C7.96,6.7 8.27,12.39 12,15.71C13.63,17.19 15.78,18 18,18C18.25,18 18.5,18 18.73,18Z"),h(n,"fill",t[2]),h(e,"width",t[0]),h(e,"height",t[1]),h(e,"viewBox",t[3])},m(r,i){E(r,e,i),_(e,n)},p(r,[i]){i&4&&h(n,"fill",r[2]),i&1&&h(e,"width",r[0]),i&2&&h(e,"height",r[1]),i&8&&h(e,"viewBox",r[3])},i:A,o:A,d(r){r&&P(e)}}}function pa(t,e,n){let{size:r="1em"}=e,{width:i=r}=e,{height:s=r}=e,{color:o="currentColor"}=e,{viewBox:c="0 0 24 24"}=e;return t.$$set=a=>{"size"in a&&n(4,r=a.size),"width"in a&&n(0,i=a.width),"height"in a&&n(1,s=a.height),"color"in a&&n(2,o=a.color),"viewBox"in a&&n(3,c=a.viewBox)},[i,s,o,c,r]}class ma extends Q{constructor(e){super(),Y(this,e,pa,ha,W,{size:4,width:0,height:1,color:2,viewBox:3})}}function ga(t){let e,n,r,i,s,o,c,a;return c=new ma({}),{c(){e=y("div"),n=y("h2"),n.textContent="No clients",r=T(),i=y("p"),i.textContent="When someone calls, they'll show up here.",s=T(),o=y("span"),N(c.$$.fragment),h(n,"class","svelte-712ti"),h(i,"class","svelte-712ti"),h(o,"class","svelte-712ti"),h(e,"class","noClients svelte-712ti")},m(l,u){E(l,e,u),_(e,n),_(e,r),_(e,i),_(e,s),_(e,o),j(c,o,null),a=!0},p:A,i(l){a||(S(c.$$.fragment,l),a=!0)},o(l){k(c.$$.fragment,l),a=!1},d(l){l&&P(e),I(c)}}}class _a extends Q{constructor(e){super(),Y(this,e,null,ga,W,{})}}function ya(t){let e,n;return{c(){e=X("svg"),n=X("path"),h(n,"d","M6.62,10.79C8.06,13.62 10.38,15.94 13.21,17.38L15.41,15.18C15.69,14.9 16.08,14.82 16.43,14.93C17.55,15.3 18.75,15.5 20,15.5A1,1 0 0,1 21,16.5V20A1,1 0 0,1 20,21A17,17 0 0,1 3,4A1,1 0 0,1 4,3H7.5A1,1 0 0,1 8.5,4C8.5,5.25 8.7,6.45 9.07,7.57C9.18,7.92 9.1,8.31 8.82,8.59L6.62,10.79Z"),h(n,"fill",t[2]),h(e,"width",t[0]),h(e,"height",t[1]),h(e,"viewBox",t[3])},m(r,i){E(r,e,i),_(e,n)},p(r,[i]){i&4&&h(n,"fill",r[2]),i&1&&h(e,"width",r[0]),i&2&&h(e,"height",r[1]),i&8&&h(e,"viewBox",r[3])},i:A,o:A,d(r){r&&P(e)}}}function Ca(t,e,n){let{size:r="1em"}=e,{width:i=r}=e,{height:s=r}=e,{color:o="currentColor"}=e,{viewBox:c="0 0 24 24"}=e;return t.$$set=a=>{"size"in a&&n(4,r=a.size),"width"in a&&n(0,i=a.width),"height"in a&&n(1,s=a.height),"color"in a&&n(2,o=a.color),"viewBox"in a&&n(3,c=a.viewBox)},[i,s,o,c,r]}class va extends Q{constructor(e){super(),Y(this,e,Ca,ya,W,{size:4,width:0,height:1,color:2,viewBox:3})}}function Wn(t,e,n){const r=t.slice();return r[9]=e[n],r}function ba(t){let e=Math.round(t[0].similarity/t[0].similarityMax*100)+"",n,r,i=t[0].similarity+"",s,o,c=t[0].similarityMax+"",a,l;return{c(){n=ee(e),r=ee("% match ("),s=ee(i),o=ee("/"),a=ee(c),l=ee(" traits in common)")},m(u,f){E(u,n,f),E(u,r,f),E(u,s,f),E(u,o,f),E(u,a,f),E(u,l,f)},p(u,f){f&1&&e!==(e=Math.round(u[0].similarity/u[0].similarityMax*100)+"")&&ye(n,e),f&1&&i!==(i=u[0].similarity+"")&&ye(s,i),f&1&&c!==(c=u[0].similarityMax+"")&&ye(a,c)},d(u){u&&P(n),u&&P(r),u&&P(s),u&&P(o),u&&P(a),u&&P(l)}}}function Sa(t){let e;return{c(){e=ee("Unsure of match")},m(n,r){E(n,e,r)},p:A,d(n){n&&P(e)}}}function Zn(t){let e,n,r,i=t[0].attributes,s=[];for(let o=0;o<i.length;o+=1)s[o]=Yn(Wn(t,i,o));return{c(){e=y("div");for(let o=0;o<s.length;o+=1)s[o].c();h(e,"class","attributes svelte-15u3r62")},m(o,c){E(o,e,c);for(let a=0;a<s.length;a+=1)s[a].m(e,null);r=!0},p(o,c){if(c&17){i=o[0].attributes;let a;for(a=0;a<i.length;a+=1){const l=Wn(o,i,a);s[a]?s[a].p(l,c):(s[a]=Yn(l),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=i.length}},i(o){r||(he(()=>{n||(n=De(e,Fe,{duration:200},!0)),n.run(1)}),r=!0)},o(o){n||(n=De(e,Fe,{duration:200},!1)),n.run(0),r=!1},d(o){o&&P(e),et(s,o),o&&n&&n.end()}}}function ka(t){let e,n=t[9].name+"",r,i;function s(...o){return t[8](t[9],...o)}return{c(){e=y("div"),r=ee(n),i=T(),h(e,"class","attribute svelte-15u3r62"),de(e,"shared",t[4].attributes.some(s))},m(o,c){E(o,e,c),_(e,r),_(e,i)},p(o,c){t=o,c&1&&n!==(n=t[9].name+"")&&ye(r,n),c&17&&de(e,"shared",t[4].attributes.some(s))},d(o){o&&P(e)}}}function Ta(t){let e;return{c(){e=y("div"),e.textContent=`Needs to talk
            `,h(e,"class","attribute svelte-15u3r62"),ve(e,"color","var(--danger)")},m(n,r){E(n,e,r)},p:A,d(n){n&&P(e)}}}function Yn(t){let e;function n(s,o){return s[9].name==="Here to talk"?Ta:ka}let r=n(t),i=r(t);return{c(){i.c(),e=nn()},m(s,o){i.m(s,o),E(s,e,o)},p(s,o){r===(r=n(s))&&i?i.p(s,o):(i.d(1),i=r(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){i.d(s),s&&P(e)}}}function Ra(t){let e,n,r,i,s,o,c,a,l,u,f,d,g,p,m,C,R,b,D,x,B;i=new Pe({});function G(H,z){return H[0].similarityMax===0?Sa:ba}let K=G(t),U=K(t);g=new va({}),C=new li({});let M=t[3]&&Zn(t);return{c(){e=y("div"),n=y("div"),r=y("span"),N(i.$$.fragment),s=T(),o=y("h3"),c=ee(`Client
            `),a=y("br"),l=T(),u=y("span"),U.c(),f=T(),d=y("button"),N(g.$$.fragment),p=T(),m=y("button"),N(C.$$.fragment),R=T(),M&&M.c(),h(r,"class","icon svelte-15u3r62"),ve(r,"transform",t[3]?"rotate(90deg)":""),h(u,"class","svelte-15u3r62"),h(o,"class","svelte-15u3r62"),h(d,"class","acceptCall svelte-15u3r62"),h(m,"class","dismissCall svelte-15u3r62"),h(n,"class","header svelte-15u3r62"),h(e,"class","client svelte-15u3r62")},m(H,z){E(H,e,z),_(e,n),_(n,r),j(i,r,null),_(n,s),_(n,o),_(o,c),_(o,a),_(o,l),_(o,u),U.m(u,null),_(n,f),_(n,d),j(g,d,null),_(n,p),_(n,m),j(C,m,null),_(e,R),M&&M.m(e,null),D=!0,x||(B=[te(d,"click",t[5]),te(m,"click",t[6]),te(n,"click",t[7])],x=!0)},p(H,[z]){z&8&&ve(r,"transform",H[3]?"rotate(90deg)":""),K===(K=G(H))&&U?U.p(H,z):(U.d(1),U=K(H),U&&(U.c(),U.m(u,null))),H[3]?M?(M.p(H,z),z&8&&S(M,1)):(M=Zn(H),M.c(),S(M,1),M.m(e,null)):M&&(se(),k(M,1,1,()=>{M=null}),oe())},i(H){D||(S(i.$$.fragment,H),S(g.$$.fragment,H),S(C.$$.fragment,H),S(M),he(()=>{b||(b=De(e,Fe,{duration:200},!0)),b.run(1)}),D=!0)},o(H){k(i.$$.fragment,H),k(g.$$.fragment,H),k(C.$$.fragment,H),k(M),b||(b=De(e,Fe,{duration:200},!1)),b.run(0),D=!1},d(H){H&&P(e),I(i),U.d(),I(g),I(C),M&&M.d(),H&&b&&b.end(),x=!1,ge(B)}}}function Pa(t,e,n){let r;_e(t,pe,d=>n(4,r=d));let{client:i}=e,{onCalling:s}=e,{dismissCall:o}=e,c=!1;const a=()=>{s(i.id),o(i.id)},l=()=>o(i.id),u=()=>n(3,c=!c),f=(d,g)=>g.name===d.name&&g.category===d.category;return t.$$set=d=>{"client"in d&&n(0,i=d.client),"onCalling"in d&&n(1,s=d.onCalling),"dismissCall"in d&&n(2,o=d.dismissCall)},[i,s,o,c,r,a,l,u,f]}class Ea extends Q{constructor(e){super(),Y(this,e,Pa,Ra,W,{client:0,onCalling:1,dismissCall:2})}}function Qn(t,e,n){const r=t.slice();return r[13]=e[n],r}function Xn(t){let e,n;return e=new Ea({props:{client:t[13],onCalling:t[0],dismissCall:t[8]}}),{c(){N(e.$$.fragment)},m(r,i){j(e,r,i),n=!0},p(r,i){const s={};i&20&&(s.client=r[13]),i&1&&(s.onCalling=r[0]),e.$set(s)},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){I(e,r)}}}function $n(t){let e,n;return e=new _a({}),{c(){N(e.$$.fragment)},m(r,i){j(e,r,i),n=!0},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){I(e,r)}}}function Oa(t){let e,n;return e=new an({}),{c(){N(e.$$.fragment)},m(r,i){j(e,r,i),n=!0},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){I(e,r)}}}function Aa(t){let e,n;return e=new on({}),{c(){N(e.$$.fragment)},m(r,i){j(e,r,i),n=!0},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){I(e,r)}}}function Da(t){let e,n;return e=new ci({}),{c(){N(e.$$.fragment)},m(r,i){j(e,r,i),n=!0},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){I(e,r)}}}function xa(t){let e,n;return e=new ai({}),{c(){N(e.$$.fragment)},m(r,i){j(e,r,i),n=!0},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){I(e,r)}}}function Ma(t){let e,n,r,i,s,o,c,a,l,u,f,d,g,p,m,C,R,b=t[3]?"Refresh":"Refreshed",D,x,B,G,K,U=t[2].filter(t[9]),M=[];for(let L=0;L<U.length;L+=1)M[L]=Xn(Qn(t,U,L));const H=L=>k(M[L],1,1,()=>{M[L]=null});let z=t[2].length==0&&$n();const ie=[Aa,Oa],F=[];function ne(L,$){return L[5].video?0:1}a=ne(t),l=F[a]=ie[a](t);const le=[xa,Da],fe=[];function re(L,$){return L[5].audio?0:1}return d=re(t),g=fe[d]=le[d](t),C=new da({}),{c(){e=y("div"),n=y("h2"),n.textContent=`On call since ${t[6].toLocaleTimeString()}`,r=T(),i=y("div");for(let L=0;L<M.length;L+=1)M[L].c();s=T(),z&&z.c(),o=T(),c=y("button"),l.c(),u=T(),f=y("button"),g.c(),p=T(),m=y("button"),N(C.$$.fragment),R=T(),D=ee(b),h(c,"class","callBtn video svelte-18xq4bf"),de(c,"off",!t[5].video),h(f,"class","callBtn audio svelte-18xq4bf"),de(f,"off",!t[5].audio),h(m,"class","refreshList svelte-18xq4bf"),m.disabled=x=!t[3],h(i,"class","clientList svelte-18xq4bf"),h(e,"class","callScreen svelte-18xq4bf")},m(L,$){E(L,e,$),_(e,n),_(e,r),_(e,i);for(let ue=0;ue<M.length;ue+=1)M[ue].m(i,null);_(i,s),z&&z.m(i,null),_(i,o),_(i,c),F[a].m(c,null),_(i,u),_(i,f),fe[d].m(f,null),_(i,p),_(i,m),j(C,m,null),_(m,R),_(m,D),B=!0,G||(K=[te(c,"click",t[10]),te(f,"click",t[11]),te(m,"click",t[7])],G=!0)},p(L,[$]){if($&277){U=L[2].filter(L[9]);let q;for(q=0;q<U.length;q+=1){const xe=Qn(L,U,q);M[q]?(M[q].p(xe,$),S(M[q],1)):(M[q]=Xn(xe),M[q].c(),S(M[q],1),M[q].m(i,s))}for(se(),q=U.length;q<M.length;q+=1)H(q);oe()}L[2].length==0?z?$&4&&S(z,1):(z=$n(),z.c(),S(z,1),z.m(i,o)):z&&(se(),k(z,1,1,()=>{z=null}),oe());let ue=a;a=ne(L),a!==ue&&(se(),k(F[ue],1,1,()=>{F[ue]=null}),oe(),l=F[a],l||(l=F[a]=ie[a](L),l.c()),S(l,1),l.m(c,null)),(!B||$&32)&&de(c,"off",!L[5].video);let Z=d;d=re(L),d!==Z&&(se(),k(fe[Z],1,1,()=>{fe[Z]=null}),oe(),g=fe[d],g||(g=fe[d]=le[d](L),g.c()),S(g,1),g.m(f,null)),(!B||$&32)&&de(f,"off",!L[5].audio),(!B||$&8)&&b!==(b=L[3]?"Refresh":"Refreshed")&&ye(D,b),(!B||$&8&&x!==(x=!L[3]))&&(m.disabled=x)},i(L){if(!B){for(let $=0;$<U.length;$+=1)S(M[$]);S(z),S(l),S(g),S(C.$$.fragment,L),B=!0}},o(L){M=M.filter(Boolean);for(let $=0;$<M.length;$+=1)k(M[$]);k(z),k(l),k(g),k(C.$$.fragment,L),B=!1},d(L){L&&P(e),et(M,L),z&&z.d(),F[a].d(),fe[d].d(),I(C),G=!1,ge(K)}}}function La(t,e,n){let r,i,s=A,o=()=>(s(),s=Xt(a,b=>n(5,i=b)),a);_e(t,bn,b=>n(4,r=b)),t.$$.on_destroy.push(()=>s());let{onCalling:c=b=>{}}=e,{callDefaultsStore:a}=e;o();let l=[],u,f=new Date,d=!0;sr(()=>{u=setInterval(async()=>{n(2,l=await Ce.fetchClientList())},1e4),Ce.fetchClientList().then(b=>n(2,l=b))});function g(){clearInterval(u),n(3,d=!1),Ce.fetchClientList().then(b=>n(2,l=b)),setTimeout(()=>{n(3,d=!0),setInterval(async()=>{n(2,l=await Ce.fetchClientList())},1e4)},5e3)}He(()=>{clearInterval(u)});function p(b){bn.update(D=>[...D,b])}const m=b=>!r.includes(b.id),C=()=>a.update(b=>({...b,video:!b.video})),R=()=>a.update(b=>({...b,audio:!b.audio}));return t.$$set=b=>{"onCalling"in b&&n(0,c=b.onCalling),"callDefaultsStore"in b&&o(n(1,a=b.callDefaultsStore))},[c,a,l,d,r,i,f,g,p,m,C,R]}class wa extends Q{constructor(e){super(),Y(this,e,La,Ma,W,{onCalling:0,callDefaultsStore:1})}}function Ba(t){let e,n,r,i,s,o,c,a,l,u,f,d;return f=new Or({props:{filterStore:t[1],isMentor:!0}}),{c(){e=y("aside"),n=y("h2"),n.textContent="Edit your profile",r=T(),i=y("div"),s=y("img"),c=T(),a=y("input"),u=T(),N(f.$$.fragment),vt(s.src,o=t[0].pfp)||h(s,"src",o),h(s,"alt","Profile"),h(a,"type","text"),a.value=l=t[0].name,h(a,"maxlength","32"),h(a,"class","svelte-l6t3sw"),h(i,"class","userInfo svelte-l6t3sw"),h(e,"class","editProfile svelte-l6t3sw")},m(g,p){E(g,e,p),_(e,n),_(e,r),_(e,i),_(i,s),_(i,c),_(i,a),_(e,u),j(f,e,null),d=!0},p(g,[p]){(!d||p&1&&!vt(s.src,o=g[0].pfp))&&h(s,"src",o),(!d||p&1&&l!==(l=g[0].name)&&a.value!==l)&&(a.value=l)},i(g){d||(S(f.$$.fragment,g),d=!0)},o(g){k(f.$$.fragment,g),d=!1},d(g){g&&P(e),I(f)}}}function ja(t,e,n){let r;_e(t,pe,o=>n(0,r=o));let i=be(r.attributes),s=i.subscribe(o=>{pe.update(c=>(c.attributes=o,c)),Ce.updateAttributes(o)});return He(()=>{s()}),[r,i]}class Ia extends Q{constructor(e){super(),Y(this,e,ja,Ba,W,{})}}function Na(t){let e;return{c(){e=y("aside"),e.innerHTML=`<h2>Peerconnect Handbook</h2> 
    <p>Welcome to Peerconnect! The goal as an Advisor is to assist students whom you believe you can truly help. Below are a few use cases for the platform, and how you can help students!</p> 
    <p>## Tutoring</p> 
    <p>If you intend to tutor other students using this platform, choose your &quot;Subjects&quot; to cover the subjects you wish to tutor in.</p> 
    <p>## Chatting</p> 
    <p>If you intend to just chat with people using this platform, please choose the &quot;Just Chatting&quot; interest in your attributes. Feel free to also select some of your hobbies so you can be matched up with people with those same hobbies.</p> 
    <p>## Support / Mental Health Help</p> 
    <p>Please remember that unless you are a proper mental health professional, you should refer peers to the appropriate hotlines/helplines.</p> 
    <p>Please remember to use this platform in good faith and to be respectful to everyone! With your help, Peerconnect can be a thriving community for thousands!</p> 
    <p></p>`,h(e,"class","guidebook svelte-mw8y1j")},m(n,r){E(n,e,r)},p:A,i:A,o:A,d(n){n&&P(e)}}}class za extends Q{constructor(e){super(),Y(this,e,null,Na,W,{})}}function Fa(t){let e;return{c(){e=y("main"),e.textContent="Log in with your Google account to continue.",h(e,"class","login")},m(n,r){E(n,e,r)},p:A,i:A,o:A,d(n){n&&P(e)}}}function Ua(t){let e,n,r,i,s,o;const c=[Va,Ha],a=[];function l(u,f){return u[0]?0:1}return n=l(t),r=a[n]=c[n](t),s=new za({}),{c(){e=y("main"),r.c(),i=T(),N(s.$$.fragment),h(e,"class","advisorDashboard svelte-1iq5wwl")},m(u,f){E(u,e,f),a[n].m(e,null),_(e,i),j(s,e,null),o=!0},p(u,f){let d=n;n=l(u),n===d?a[n].p(u,f):(se(),k(a[d],1,1,()=>{a[d]=null}),oe(),r=a[n],r?r.p(u,f):(r=a[n]=c[n](u),r.c()),S(r,1),r.m(e,i))},i(u){o||(S(r),S(s.$$.fragment,u),o=!0)},o(u){k(r),k(s.$$.fragment,u),o=!1},d(u){u&&P(e),a[n].d(),I(s)}}}function Ha(t){let e,n,r,i;return e=new Ia({}),r=new wa({props:{onCalling:t[5],callDefaultsStore:t[4]}}),{c(){N(e.$$.fragment),n=T(),N(r.$$.fragment)},m(s,o){j(e,s,o),E(s,n,o),j(r,s,o),i=!0},p:A,i(s){i||(S(e.$$.fragment,s),S(r.$$.fragment,s),i=!0)},o(s){k(e.$$.fragment,s),k(r.$$.fragment,s),i=!1},d(s){I(e,s),s&&P(n),I(r,s)}}}function Va(t){let e,n,r,i;return e=new ui({}),r=new fi({props:{userData:t[1],targetData:t[2],forceMiniPlayer:!0,onHangup:t[6],defaults:t[3]}}),{c(){N(e.$$.fragment),n=T(),N(r.$$.fragment)},m(s,o){j(e,s,o),E(s,n,o),j(r,s,o),i=!0},p(s,o){const c={};o&2&&(c.userData=s[1]),o&4&&(c.targetData=s[2]),o&1&&(c.onHangup=s[6]),o&8&&(c.defaults=s[3]),r.$set(c)},i(s){i||(S(e.$$.fragment,s),S(r.$$.fragment,s),i=!0)},o(s){k(e.$$.fragment,s),k(r.$$.fragment,s),i=!1},d(s){I(e,s),s&&P(n),I(r,s)}}}function qa(t){let e,n,r,i;const s=[Ua,Fa],o=[];function c(a,l){return a[1]?0:1}return e=c(t),n=o[e]=s[e](t),{c(){n.c(),r=nn()},m(a,l){o[e].m(a,l),E(a,r,l),i=!0},p(a,[l]){let u=e;e=c(a),e===u?o[e].p(a,l):(se(),k(o[u],1,1,()=>{o[u]=null}),oe(),n=o[e],n?n.p(a,l):(n=o[e]=s[e](a),n.c()),S(n,1),n.m(r.parentNode,r))},i(a){i||(S(n),i=!0)},o(a){k(n),i=!1},d(a){o[e].d(a),a&&P(r)}}}function Ga(t,e,n){let r,i,s;_e(t,pe,u=>n(1,r=u)),_e(t,Ne,u=>n(2,i=u));let o=!1,c=be({video:!0,audio:!0});_e(t,c,u=>n(3,s=u));async function a(u){await Ce.acceptCall(u),Ne.set({id:u}),n(0,o=!0)}return[o,r,i,s,c,a,()=>{n(0,o=!1),Ne.set(null)}]}class Ja extends Q{constructor(e){super(),Y(this,e,Ga,qa,W,{})}}function Ka(t){let e,n,r,i,s,o,c;return{c(){e=y("div"),n=y("p"),n.textContent="Sign in with Google to continue.",r=T(),i=y("div"),h(i,"class","g_id_signin svelte-xly9v9"),h(i,"data-type","standard"),h(i,"data-size","large"),h(i,"data-theme","outline"),h(i,"data-text","sign_in_with"),h(i,"data-shape","rectangular"),h(i,"data-logo_alignment","left"),h(e,"class","googleSignIn svelte-xly9v9")},m(a,l){E(a,e,l),_(e,n),_(e,r),_(e,i),t[6](i),c=!0},p:A,i(a){c||(he(()=>{o&&o.end(1),s=Ve(e,me,{x:200,duration:200}),s.start()}),c=!0)},o(a){s&&s.invalidate(),o=qe(e,me,{x:-200,duration:200}),c=!1},d(a){a&&P(e),t[6](null),a&&o&&o.end()}}}function Wa(t){let e,n;return e=new Ja({}),{c(){N(e.$$.fragment)},m(r,i){j(e,r,i),n=!0},p:A,i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){I(e,r)}}}function Za(t){let e,n,r,i;const s=[Qa,Ya],o=[];function c(a,l){return a[3]?1:0}return e=c(t),n=o[e]=s[e](t),{c(){n.c(),r=nn()},m(a,l){o[e].m(a,l),E(a,r,l),i=!0},p(a,l){let u=e;e=c(a),e===u?o[e].p(a,l):(se(),k(o[u],1,1,()=>{o[u]=null}),oe(),n=o[e],n?n.p(a,l):(n=o[e]=s[e](a),n.c()),S(n,1),n.m(r.parentNode,r))},i(a){i||(S(n),i=!0)},o(a){k(n),i=!1},d(a){o[e].d(a),a&&P(r)}}}function Ya(t){let e,n;return e=new fi({props:{userData:t[0],targetData:t[3],onHangup:t[5],defaults:t[4]}}),{c(){N(e.$$.fragment)},m(r,i){j(e,r,i),n=!0},p(r,i){const s={};i&1&&(s.userData=r[0]),i&8&&(s.targetData=r[3]),e.$set(s)},i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){I(e,r)}}}function Qa(t){let e,n;return e=new Oo({}),{c(){N(e.$$.fragment)},m(r,i){j(e,r,i),n=!0},p:A,i(r){n||(S(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){I(e,r)}}}function Xa(t){let e,n,r,i,s,o,c,a,l,u;i=new xo({});const f=[Za,Wa,Ka],d=[];function g(p,m){return p[1]==="client"?0:p[1]==="advisor"&&p[0]&&p[0].isAdvisor?1:p[1]==="advisor"?2:-1}return~(o=g(t))&&(c=d[o]=f[o](t)),{c(){e=y("script"),r=T(),N(i.$$.fragment),s=T(),c&&c.c(),a=T(),l=y("div"),vt(e.src,n="https://accounts.google.com/gsi/client")||h(e,"src",n),e.async=!0,e.defer=!0,h(l,"id","g_id_onload"),h(l,"data-client_id","869385602749-9elqfom3fsdr71en2iovlrcjkcv9l5of.apps.googleusercontent.com"),h(l,"data-callback","handleCredentialResponse")},m(p,m){_(document.head,e),E(p,r,m),j(i,p,m),E(p,s,m),~o&&d[o].m(p,m),E(p,a,m),E(p,l,m),u=!0},p(p,[m]){let C=o;o=g(p),o===C?~o&&d[o].p(p,m):(c&&(se(),k(d[C],1,1,()=>{d[C]=null}),oe()),~o?(c=d[o],c?c.p(p,m):(c=d[o]=f[o](p),c.c()),S(c,1),c.m(a.parentNode,a)):c=null)},i(p){u||(S(i.$$.fragment,p),S(c),u=!0)},o(p){k(i.$$.fragment,p),k(c),u=!1},d(p){P(e),p&&P(r),I(i,p),p&&P(s),~o&&d[o].d(p),p&&P(a),p&&P(l)}}}function $a(t){let n=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(n).split("").map(function(i){return"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(r)}function ec(t,e,n){let r,i,s;_e(t,pe,f=>n(0,r=f)),_e(t,cn,f=>n(1,i=f)),_e(t,Ne,f=>n(3,s=f));let o={video:!0,audio:!0};window.handleCredentialResponse=async f=>{let d=$a(f.credential),g=await Ce.login(d.sub,d.name,d.picture,d.email);pe.set(g)};let c;function a(){setTimeout(()=>window.google.accounts.id.renderButton(c,{theme:"white",size:"large",type:"standard",text:"continue_with"}),0)}const l=()=>{Ne.set(null)};function u(f){Qe[f?"unshift":"push"](()=>{c=f,n(2,c)})}return t.$$.update=()=>{t.$$.dirty&3&&i==="advisor"&&(!r||!r.isAdvisor)&&a()},[r,i,c,s,o,l,u]}class tc extends Q{constructor(e){super(),Y(this,e,ec,Xa,W,{})}}new tc({target:document.getElementById("app")});
