function ai(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function x(){}const Wt=t=>t;function Yn(t){return t()}function fn(){return Object.create(null)}function he(t){t.forEach(Yn)}function Xe(t){return typeof t=="function"}function q(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let ot;function Qn(t,e){return ot||(ot=document.createElement("a")),ot.href=e,t===ot.href}function ci(t){return Object.keys(t).length===0}function Xn(t,...e){if(t==null)return x;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function at(t){let e;return Xn(t,n=>e=n)(),e}function De(t,e,n){t.$$.on_destroy.push(Xn(e,n))}const $n=typeof window<"u";let Zt=$n?()=>window.performance.now():()=>Date.now(),Yt=$n?t=>requestAnimationFrame(t):x;const Fe=new Set;function er(t){Fe.forEach(e=>{e.c(t)||(Fe.delete(e),e.f())}),Fe.size!==0&&Yt(er)}function Qt(t){let e;return Fe.size===0&&Yt(er),{promise:new Promise(n=>{Fe.add(e={c:t,f:n})}),abort(){Fe.delete(e)}}}function y(t,e){t.appendChild(e)}function tr(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function li(t){const e=C("style");return ui(tr(t),e),e.sheet}function ui(t,e){return y(t.head||t,e),e.sheet}function E(t,e,n){t.insertBefore(e,n||null)}function T(t){t.parentNode&&t.parentNode.removeChild(t)}function $e(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function C(t){return document.createElement(t)}function re(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function J(t){return document.createTextNode(t)}function S(){return J(" ")}function nr(){return J("")}function ne(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function h(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function fi(t){return Array.from(t.childNodes)}function Ce(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function dn(t,e){t.value=e??""}function St(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function pn(t,e,n){t.classList[n?"add":"remove"](e)}function di(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,r,e),i}const Tt=new Map;let Rt=0;function pi(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function hi(t,e){const n={stylesheet:li(e),rules:{}};return Tt.set(t,n),n}function kt(t,e,n,r,i,s,o,a=0){const c=16.666/r;let l=`{
`;for(let _=0;_<=1;_+=c){const P=e+(n-e)*s(_);l+=_*100+`%{${o(P,1-P)}}
`}const u=l+`100% {${o(n,1-n)}}
}`,f=`__svelte_${pi(u)}_${a}`,p=tr(t),{stylesheet:g,rules:d}=Tt.get(p)||hi(p,t);d[f]||(d[f]=!0,g.insertRule(`@keyframes ${f} ${u}`,g.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${f} ${r}ms linear ${i}ms 1 both`,Rt+=1,f}function Et(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),i=n.length-r.length;i&&(t.style.animation=r.join(", "),Rt-=i,Rt||mi())}function mi(){Yt(()=>{Rt||(Tt.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&T(e)}),Tt.clear())})}let Ze;function We(t){Ze=t}function rr(){if(!Ze)throw new Error("Function called outside component initialization");return Ze}function ir(t){rr().$$.on_mount.push(t)}function Xt(t){rr().$$.on_destroy.push(t)}const Ke=[],Ye=[],ut=[],hn=[],gi=Promise.resolve();let Bt=!1;function yi(){Bt||(Bt=!0,gi.then(sr))}function ce(t){ut.push(t)}const jt=new Set;let ct=0;function sr(){const t=Ze;do{for(;ct<Ke.length;){const e=Ke[ct];ct++,We(e),_i(e.$$)}for(We(null),Ke.length=0,ct=0;Ye.length;)Ye.pop()();for(let e=0;e<ut.length;e+=1){const n=ut[e];jt.has(n)||(jt.add(n),n())}ut.length=0}while(Ke.length);for(;hn.length;)hn.pop()();Bt=!1,jt.clear(),We(t)}function _i(t){if(t.fragment!==null){t.update(),he(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ce)}}let Je;function $t(){return Je||(Je=Promise.resolve(),Je.then(()=>{Je=null})),Je}function Ae(t,e,n){t.dispatchEvent(di(`${e?"intro":"outro"}${n}`))}const ft=new Set;let ye;function le(){ye={r:0,c:[],p:ye}}function ue(){ye.r||he(ye.c),ye=ye.p}function R(t,e){t&&t.i&&(ft.delete(t),t.i(e))}function A(t,e,n,r){if(t&&t.o){if(ft.has(t))return;ft.add(t),ye.c.push(()=>{ft.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const en={duration:0};function Me(t,e,n){const r={direction:"in"};let i=e(t,n,r),s=!1,o,a,c=0;function l(){o&&Et(t,o)}function u(){const{delay:p=0,duration:g=300,easing:d=Wt,tick:m=x,css:_}=i||en;_&&(o=kt(t,0,1,g,p,d,_,c++)),m(0,1);const P=Zt()+p,D=P+g;a&&a.abort(),s=!0,ce(()=>Ae(t,!0,"start")),a=Qt(b=>{if(s){if(b>=D)return m(1,0),Ae(t,!0,"end"),l(),s=!1;if(b>=P){const O=d((b-P)/g);m(O,1-O)}}return s})}let f=!1;return{start(){f||(f=!0,Et(t),Xe(i)?(i=i(r),$t().then(u)):u())},invalidate(){f=!1},end(){s&&(l(),s=!1)}}}function je(t,e,n){const r={direction:"out"};let i=e(t,n,r),s=!0,o;const a=ye;a.r+=1;function c(){const{delay:l=0,duration:u=300,easing:f=Wt,tick:p=x,css:g}=i||en;g&&(o=kt(t,1,0,u,l,f,g));const d=Zt()+l,m=d+u;ce(()=>Ae(t,!1,"start")),Qt(_=>{if(s){if(_>=m)return p(0,1),Ae(t,!1,"end"),--a.r||he(a.c),!1;if(_>=d){const P=f((_-d)/u);p(1-P,P)}}return s})}return Xe(i)?$t().then(()=>{i=i(r),c()}):c(),{end(l){l&&i.tick&&i.tick(1,0),s&&(o&&Et(t,o),s=!1)}}}function Pt(t,e,n,r){const i={direction:"both"};let s=e(t,n,i),o=r?0:1,a=null,c=null,l=null;function u(){l&&Et(t,l)}function f(g,d){const m=g.b-o;return d*=Math.abs(m),{a:o,b:g.b,d:m,duration:d,start:g.start,end:g.start+d,group:g.group}}function p(g){const{delay:d=0,duration:m=300,easing:_=Wt,tick:P=x,css:D}=s||en,b={start:Zt()+d,b:g};g||(b.group=ye,ye.r+=1),a||c?c=b:(D&&(u(),l=kt(t,o,g,m,d,_,D)),g&&P(0,1),a=f(b,m),ce(()=>Ae(t,g,"start")),Qt(O=>{if(c&&O>c.start&&(a=f(c,m),c=null,Ae(t,a.b,"start"),D&&(u(),l=kt(t,o,a.b,a.duration,0,_,s.css))),a){if(O>=a.end)P(o=a.b,1-o),Ae(t,a.b,"end"),c||(a.b?u():--a.group.r||he(a.group.c)),a=null;else if(O>=a.start){const L=O-a.start;o=a.a+a.d*_(L/a.duration),P(o,1-o)}}return!!(a||c)}))}return{run(g){Xe(s)?$t().then(()=>{s=s(i),p(g)}):p(g)},end(){u(),a=c=null}}}function H(t){t&&t.c()}function U(t,e,n,r){const{fragment:i,after_update:s}=t.$$;i&&i.m(e,n),r||ce(()=>{const o=t.$$.on_mount.map(Yn).filter(Xe);t.$$.on_destroy?t.$$.on_destroy.push(...o):he(o),t.$$.on_mount=[]}),s.forEach(ce)}function w(t,e){const n=t.$$;n.fragment!==null&&(he(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ci(t,e){t.$$.dirty[0]===-1&&(Ke.push(t),yi(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function W(t,e,n,r,i,s,o,a=[-1]){const c=Ze;We(t);const l=t.$$={fragment:null,ctx:[],props:s,update:x,not_equal:i,bound:fn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:fn(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};o&&o(l.root);let u=!1;if(l.ctx=n?n(t,e.props||{},(f,p,...g)=>{const d=g.length?g[0]:p;return l.ctx&&i(l.ctx[f],l.ctx[f]=d)&&(!l.skip_bound&&l.bound[f]&&l.bound[f](d),u&&Ci(t,f)),p}):[],l.update(),u=!0,he(l.before_update),l.fragment=r?r(l.ctx):!1,e.target){if(e.hydrate){const f=fi(e.target);l.fragment&&l.fragment.l(f),f.forEach(T)}else l.fragment&&l.fragment.c();e.intro&&R(t.$$.fragment),U(t,e.target,e.anchor,e.customElement),sr()}We(c)}class Z{$destroy(){w(this,1),this.$destroy=x}$on(e,n){if(!Xe(n))return x;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!ci(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function or(t){const e=t-1;return e*e*e+1}function se(t,{delay:e=0,duration:n=400,easing:r=or,x:i=0,y:s=0,opacity:o=0}={}){const a=getComputedStyle(t),c=+a.opacity,l=a.transform==="none"?"":a.transform,u=c*(1-o);return{delay:e,duration:n,easing:r,css:(f,p)=>`
			transform: ${l} translate(${(1-f)*i}px, ${(1-f)*s}px);
			opacity: ${c-u*p}`}}function mn(t,{delay:e=0,duration:n=400,easing:r=or}={}){const i=getComputedStyle(t),s=+i.opacity,o=parseFloat(i.height),a=parseFloat(i.paddingTop),c=parseFloat(i.paddingBottom),l=parseFloat(i.marginTop),u=parseFloat(i.marginBottom),f=parseFloat(i.borderTopWidth),p=parseFloat(i.borderBottomWidth);return{delay:e,duration:n,easing:r,css:g=>`overflow: hidden;opacity: ${Math.min(g*20,1)*s};height: ${g*o}px;padding-top: ${g*a}px;padding-bottom: ${g*c}px;margin-top: ${g*l}px;margin-bottom: ${g*u}px;border-top-width: ${g*f}px;border-bottom-width: ${g*p}px;`}}function vi(t){let e,n;return{c(){e=re("svg"),n=re("path"),h(n,"d","M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"),h(n,"fill",t[2]),h(e,"width",t[0]),h(e,"height",t[1]),h(e,"viewBox",t[3])},m(r,i){E(r,e,i),y(e,n)},p(r,[i]){i&4&&h(n,"fill",r[2]),i&1&&h(e,"width",r[0]),i&2&&h(e,"height",r[1]),i&8&&h(e,"viewBox",r[3])},i:x,o:x,d(r){r&&T(e)}}}function bi(t,e,n){let{size:r="1em"}=e,{width:i=r}=e,{height:s=r}=e,{color:o="currentColor"}=e,{viewBox:a="0 0 24 24"}=e;return t.$$set=c=>{"size"in c&&n(4,r=c.size),"width"in c&&n(0,i=c.width),"height"in c&&n(1,s=c.height),"color"in c&&n(2,o=c.color),"viewBox"in c&&n(3,a=c.viewBox)},[i,s,o,a,r]}class Ee extends Z{constructor(e){super(),W(this,e,bi,vi,q,{size:4,width:0,height:1,color:2,viewBox:3})}}function Si(t){let e,n;return{c(){e=re("svg"),n=re("path"),h(n,"d","M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"),h(n,"fill",t[2]),h(e,"width",t[0]),h(e,"height",t[1]),h(e,"viewBox",t[3])},m(r,i){E(r,e,i),y(e,n)},p(r,[i]){i&4&&h(n,"fill",r[2]),i&1&&h(e,"width",r[0]),i&2&&h(e,"height",r[1]),i&8&&h(e,"viewBox",r[3])},i:x,o:x,d(r){r&&T(e)}}}function Ti(t,e,n){let{size:r="1em"}=e,{width:i=r}=e,{height:s=r}=e,{color:o="currentColor"}=e,{viewBox:a="0 0 24 24"}=e;return t.$$set=c=>{"size"in c&&n(4,r=c.size),"width"in c&&n(0,i=c.width),"height"in c&&n(1,s=c.height),"color"in c&&n(2,o=c.color),"viewBox"in c&&n(3,a=c.viewBox)},[i,s,o,a,r]}class Ri extends Z{constructor(e){super(),W(this,e,Ti,Si,q,{size:4,width:0,height:1,color:2,viewBox:3})}}function ki(t){let e,n;return{c(){e=re("svg"),n=re("path"),h(n,"d","M17,10.5V7A1,1 0 0,0 16,6H4A1,1 0 0,0 3,7V17A1,1 0 0,0 4,18H16A1,1 0 0,0 17,17V13.5L21,17.5V6.5L17,10.5Z"),h(n,"fill",t[2]),h(e,"width",t[0]),h(e,"height",t[1]),h(e,"viewBox",t[3])},m(r,i){E(r,e,i),y(e,n)},p(r,[i]){i&4&&h(n,"fill",r[2]),i&1&&h(e,"width",r[0]),i&2&&h(e,"height",r[1]),i&8&&h(e,"viewBox",r[3])},i:x,o:x,d(r){r&&T(e)}}}function Ei(t,e,n){let{size:r="1em"}=e,{width:i=r}=e,{height:s=r}=e,{color:o="currentColor"}=e,{viewBox:a="0 0 24 24"}=e;return t.$$set=c=>{"size"in c&&n(4,r=c.size),"width"in c&&n(0,i=c.width),"height"in c&&n(1,s=c.height),"color"in c&&n(2,o=c.color),"viewBox"in c&&n(3,a=c.viewBox)},[i,s,o,a,r]}class Pi extends Z{constructor(e){super(),W(this,e,Ei,ki,q,{size:4,width:0,height:1,color:2,viewBox:3})}}function Oi(t){let e,n;return{c(){e=re("svg"),n=re("path"),h(n,"d","M3.27,2L2,3.27L4.73,6H4A1,1 0 0,0 3,7V17A1,1 0 0,0 4,18H16C16.2,18 16.39,17.92 16.54,17.82L19.73,21L21,19.73M21,6.5L17,10.5V7A1,1 0 0,0 16,6H9.82L21,17.18V6.5Z"),h(n,"fill",t[2]),h(e,"width",t[0]),h(e,"height",t[1]),h(e,"viewBox",t[3])},m(r,i){E(r,e,i),y(e,n)},p(r,[i]){i&4&&h(n,"fill",r[2]),i&1&&h(e,"width",r[0]),i&2&&h(e,"height",r[1]),i&8&&h(e,"viewBox",r[3])},i:x,o:x,d(r){r&&T(e)}}}function xi(t,e,n){let{size:r="1em"}=e,{width:i=r}=e,{height:s=r}=e,{color:o="currentColor"}=e,{viewBox:a="0 0 24 24"}=e;return t.$$set=c=>{"size"in c&&n(4,r=c.size),"width"in c&&n(0,i=c.width),"height"in c&&n(1,s=c.height),"color"in c&&n(2,o=c.color),"viewBox"in c&&n(3,a=c.viewBox)},[i,s,o,a,r]}class Di extends Z{constructor(e){super(),W(this,e,xi,Oi,q,{size:4,width:0,height:1,color:2,viewBox:3})}}function Ai(t){let e,n,r,i,s,o,a,c,l,u,f,p,g,d,m;return{c(){e=C("div"),n=C("h3"),n.textContent="Here if you need them",r=S(),i=C("p"),i.innerHTML='<a href="https://sites.google.com/mrpk.org/musd-wellness-center/home?pli=1">MUSD Wellness Center</a>',s=S(),o=C("p"),o.innerHTML='NAMI Ventura County <a href="tel:8055006264">805-500-6264</a>',a=S(),c=C("p"),c.innerHTML='Trevor Lifeline (LGBTQ+ youth) <a href="tel:8664887386">1-866-488-7386</a>',l=S(),u=C("p"),u.innerHTML='National Suicide Prevention Lifeline: <a href="tel:8002738255">1-800-273-8255</a> or<br/><a href="sms:8059902972?&amp;body=HOME">text HOME to 741741</a>',f=S(),p=C("p"),p.innerHTML='CA Youth Crisis Hotline: <a href="tel:8008435200">1-800-843-5200</a>',g=S(),d=C("p"),d.textContent="For imminent danger, call 911",h(n,"class","svelte-1xzie1d"),h(i,"class","svelte-1xzie1d"),h(o,"class","svelte-1xzie1d"),h(c,"class","svelte-1xzie1d"),h(u,"class","svelte-1xzie1d"),h(p,"class","svelte-1xzie1d"),h(d,"class","svelte-1xzie1d"),h(e,"class","hotlines svelte-1xzie1d"),h(e,"style",m=t[0]?"bottom: 0;":"")},m(_,P){E(_,e,P),y(e,n),y(e,r),y(e,i),y(e,s),y(e,o),y(e,a),y(e,c),y(e,l),y(e,u),y(e,f),y(e,p),y(e,g),y(e,d)},p(_,[P]){P&1&&m!==(m=_[0]?"bottom: 0;":"")&&h(e,"style",m)},i:x,o:x,d(_){_&&T(e)}}}function Li(t,e,n){let{alignBottom:r=!1}=e;return t.$$set=i=>{"alignBottom"in i&&n(0,r=i.alignBottom)},[r]}class ar extends Z{constructor(e){super(),W(this,e,Li,Ai,q,{alignBottom:0})}}function gn(t){let e,n,r;return{c(){e=C("div"),e.innerHTML=`<h2 class="svelte-1hi1dez">Hmm... this is taking a while.</h2> 
        <p class="svelte-1hi1dez">Don&#39;t worry! Somone&#39;ll be with you in a moment.</p>`,h(e,"class","takingAWhile svelte-1hi1dez")},m(i,s){E(i,e,s),r=!0},i(i){r||(ce(()=>{n||(n=Pt(e,mn,{},!0)),n.run(1)}),r=!0)},o(i){n||(n=Pt(e,mn,{},!1)),n.run(0),r=!1},d(i){i&&T(e),i&&n&&n.end()}}}function Mi(t){let e,n,r,i,s=(t[0]/1e3).toFixed(1)+"",o,a,c,l,u,f,p,g,d=t[0]>6e4&&gn();return p=new ar({props:{alignBottom:!0}}),{c(){e=C("div"),n=C("h1"),n.textContent="Matching...",r=S(),i=C("span"),o=J(s),a=J("s elapsed"),c=S(),l=C("div"),l.innerHTML=`<div class="dot one svelte-1hi1dez"></div> 
        <div class="dot two svelte-1hi1dez"></div> 
        <div class="dot three svelte-1hi1dez"></div> 
        <div class="dot four svelte-1hi1dez"></div>`,u=S(),d&&d.c(),f=S(),H(p.$$.fragment),h(n,"class","svelte-1hi1dez"),h(i,"class","svelte-1hi1dez"),h(l,"class","circle svelte-1hi1dez"),h(e,"class","matchingAnim svelte-1hi1dez")},m(m,_){E(m,e,_),y(e,n),y(e,r),y(e,i),y(i,o),y(i,a),y(e,c),y(e,l),y(e,u),d&&d.m(e,null),y(e,f),U(p,e,null),g=!0},p(m,[_]){(!g||_&1)&&s!==(s=(m[0]/1e3).toFixed(1)+"")&&Ce(o,s),m[0]>6e4?d?_&1&&R(d,1):(d=gn(),d.c(),R(d,1),d.m(e,f)):d&&(le(),A(d,1,1,()=>{d=null}),ue())},i(m){g||(R(d),R(p.$$.fragment,m),g=!0)},o(m){A(d),A(p.$$.fragment,m),g=!1},d(m){m&&T(e),d&&d.d(),w(p)}}}function ji(t,e,n){let{startTime:r=Date.now()}=e,i=0,s=window.performance.now(),o;return function a(){o=requestAnimationFrame(a);const c=window.performance.now();n(0,i+=c-s),s=c}(),Xt(()=>{cancelAnimationFrame(o)}),t.$$set=a=>{"startTime"in a&&n(1,r=a.startTime)},[i,r]}class Ii extends Z{constructor(e){super(),W(this,e,ji,Mi,q,{startTime:1})}}const Be=[];function He(t,e=x){let n;const r=new Set;function i(a){if(q(t,a)&&(t=a,n)){const c=!Be.length;for(const l of r)l[1](),Be.push(l,t);if(c){for(let l=0;l<Be.length;l+=2)Be[l][0](Be[l+1]);Be.length=0}}}function s(a){i(a(t))}function o(a,c=x){const l=[a,c];return r.add(l),r.size===1&&(n=e(i)||x),a(t),()=>{r.delete(l),r.size===0&&(n(),n=null)}}return{set:i,update:s,subscribe:o}}let ke=He(null),ze=He(null),cr=He("client"),yn=He([]);function lr(t,e){return function(){return t.apply(e,arguments)}}const{toString:ur}=Object.prototype,{getPrototypeOf:tn}=Object,nn=(t=>e=>{const n=ur.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Se=t=>(t=t.toLowerCase(),e=>nn(e)===t),Dt=t=>e=>typeof e===t,{isArray:Ve}=Array,Qe=Dt("undefined");function Ni(t){return t!==null&&!Qe(t)&&t.constructor!==null&&!Qe(t.constructor)&&Le(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const fr=Se("ArrayBuffer");function Bi(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&fr(t.buffer),e}const Fi=Dt("string"),Le=Dt("function"),dr=Dt("number"),rn=t=>t!==null&&typeof t=="object",zi=t=>t===!0||t===!1,dt=t=>{if(nn(t)!=="object")return!1;const e=tn(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Ui=Se("Date"),wi=Se("File"),Hi=Se("Blob"),Vi=Se("FileList"),Gi=t=>rn(t)&&Le(t.pipe),Ji=t=>{const e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||ur.call(t)===e||Le(t.toString)&&t.toString()===e)},qi=Se("URLSearchParams"),Ki=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function et(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Ve(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function pr(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const hr=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),mr=t=>!Qe(t)&&t!==hr;function Ft(){const{caseless:t}=mr(this)&&this||{},e={},n=(r,i)=>{const s=t&&pr(e,i)||i;dt(e[s])&&dt(r)?e[s]=Ft(e[s],r):dt(r)?e[s]=Ft({},r):Ve(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&et(arguments[r],n);return e}const Wi=(t,e,n,{allOwnKeys:r}={})=>(et(e,(i,s)=>{n&&Le(i)?t[s]=lr(i,n):t[s]=i},{allOwnKeys:r}),t),Zi=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Yi=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Qi=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&tn(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Xi=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},$i=t=>{if(!t)return null;if(Ve(t))return t;let e=t.length;if(!dr(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},es=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&tn(Uint8Array)),ts=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},ns=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},rs=Se("HTMLFormElement"),is=t=>t.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),_n=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),ss=Se("RegExp"),gr=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};et(n,(i,s)=>{e(i,s,t)!==!1&&(r[s]=i)}),Object.defineProperties(t,r)},os=t=>{gr(t,(e,n)=>{if(Le(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Le(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},as=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Ve(t)?r(t):r(String(t).split(e)),n},cs=()=>{},ls=(t,e)=>(t=+t,Number.isFinite(t)?t:e),us=t=>{const e=new Array(10),n=(r,i)=>{if(rn(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Ve(r)?[]:{};return et(r,(o,a)=>{const c=n(o,i+1);!Qe(c)&&(s[a]=c)}),e[i]=void 0,s}}return r};return n(t,0)},v={isArray:Ve,isArrayBuffer:fr,isBuffer:Ni,isFormData:Ji,isArrayBufferView:Bi,isString:Fi,isNumber:dr,isBoolean:zi,isObject:rn,isPlainObject:dt,isUndefined:Qe,isDate:Ui,isFile:wi,isBlob:Hi,isRegExp:ss,isFunction:Le,isStream:Gi,isURLSearchParams:qi,isTypedArray:es,isFileList:Vi,forEach:et,merge:Ft,extend:Wi,trim:Ki,stripBOM:Zi,inherits:Yi,toFlatObject:Qi,kindOf:nn,kindOfTest:Se,endsWith:Xi,toArray:$i,forEachEntry:ts,matchAll:ns,isHTMLForm:rs,hasOwnProperty:_n,hasOwnProp:_n,reduceDescriptors:gr,freezeMethods:os,toObjectSet:as,toCamelCase:is,noop:cs,toFiniteNumber:ls,findKey:pr,global:hr,isContextDefined:mr,toJSONObject:us};function z(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}v.inherits(z,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:v.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const yr=z.prototype,_r={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{_r[t]={value:t}});Object.defineProperties(z,_r);Object.defineProperty(yr,"isAxiosError",{value:!0});z.from=(t,e,n,r,i,s)=>{const o=Object.create(yr);return v.toFlatObject(t,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),z.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};var fs=typeof self=="object"?self.FormData:window.FormData;const ds=fs;function zt(t){return v.isPlainObject(t)||v.isArray(t)}function Cr(t){return v.endsWith(t,"[]")?t.slice(0,-2):t}function Cn(t,e,n){return t?t.concat(e).map(function(i,s){return i=Cr(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function ps(t){return v.isArray(t)&&!t.some(zt)}const hs=v.toFlatObject(v,{},null,function(e){return/^is[A-Z]/.test(e)});function ms(t){return t&&v.isFunction(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator]}function At(t,e,n){if(!v.isObject(t))throw new TypeError("target must be an object");e=e||new(ds||FormData),n=v.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,_){return!v.isUndefined(_[m])});const r=n.metaTokens,i=n.visitor||u,s=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&ms(e);if(!v.isFunction(i))throw new TypeError("visitor must be a function");function l(d){if(d===null)return"";if(v.isDate(d))return d.toISOString();if(!c&&v.isBlob(d))throw new z("Blob is not supported. Use a Buffer instead.");return v.isArrayBuffer(d)||v.isTypedArray(d)?c&&typeof Blob=="function"?new Blob([d]):Buffer.from(d):d}function u(d,m,_){let P=d;if(d&&!_&&typeof d=="object"){if(v.endsWith(m,"{}"))m=r?m:m.slice(0,-2),d=JSON.stringify(d);else if(v.isArray(d)&&ps(d)||v.isFileList(d)||v.endsWith(m,"[]")&&(P=v.toArray(d)))return m=Cr(m),P.forEach(function(b,O){!(v.isUndefined(b)||b===null)&&e.append(o===!0?Cn([m],O,s):o===null?m:m+"[]",l(b))}),!1}return zt(d)?!0:(e.append(Cn(_,m,s),l(d)),!1)}const f=[],p=Object.assign(hs,{defaultVisitor:u,convertValue:l,isVisitable:zt});function g(d,m){if(!v.isUndefined(d)){if(f.indexOf(d)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(d),v.forEach(d,function(P,D){(!(v.isUndefined(P)||P===null)&&i.call(e,P,v.isString(D)?D.trim():D,m,p))===!0&&g(P,m?m.concat(D):[D])}),f.pop()}}if(!v.isObject(t))throw new TypeError("data must be an object");return g(t),e}function vn(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function sn(t,e){this._pairs=[],t&&At(t,this,e)}const vr=sn.prototype;vr.append=function(e,n){this._pairs.push([e,n])};vr.toString=function(e){const n=e?function(r){return e.call(this,r,vn)}:vn;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function gs(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function br(t,e,n){if(!e)return t;const r=n&&n.encode||gs,i=n&&n.serialize;let s;if(i?s=i(e,n):s=v.isURLSearchParams(e)?e.toString():new sn(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class ys{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){v.forEach(this.handlers,function(r){r!==null&&e(r)})}}const bn=ys,Sr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_s=typeof URLSearchParams<"u"?URLSearchParams:sn,Cs=FormData,vs=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),bs=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),_e={isBrowser:!0,classes:{URLSearchParams:_s,FormData:Cs,Blob},isStandardBrowserEnv:vs,isStandardBrowserWebWorkerEnv:bs,protocols:["http","https","file","blob","url","data"]};function Ss(t,e){return At(t,new _e.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return _e.isNode&&v.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function Ts(t){return v.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Rs(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function Tr(t){function e(n,r,i,s){let o=n[s++];const a=Number.isFinite(+o),c=s>=n.length;return o=!o&&v.isArray(i)?i.length:o,c?(v.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!v.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&v.isArray(i[o])&&(i[o]=Rs(i[o])),!a)}if(v.isFormData(t)&&v.isFunction(t.entries)){const n={};return v.forEachEntry(t,(r,i)=>{e(Ts(r),i,n,0)}),n}return null}const ks={"Content-Type":void 0};function Es(t,e,n){if(v.isString(t))try{return(e||JSON.parse)(t),v.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Lt={transitional:Sr,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=v.isObject(e);if(s&&v.isHTMLForm(e)&&(e=new FormData(e)),v.isFormData(e))return i&&i?JSON.stringify(Tr(e)):e;if(v.isArrayBuffer(e)||v.isBuffer(e)||v.isStream(e)||v.isFile(e)||v.isBlob(e))return e;if(v.isArrayBufferView(e))return e.buffer;if(v.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Ss(e,this.formSerializer).toString();if((a=v.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return At(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),Es(e)):e}],transformResponse:[function(e){const n=this.transitional||Lt.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&v.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?z.from(a,z.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_e.classes.FormData,Blob:_e.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};v.forEach(["delete","get","head"],function(e){Lt.headers[e]={}});v.forEach(["post","put","patch"],function(e){Lt.headers[e]=v.merge(ks)});const on=Lt,Ps=v.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Os=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&Ps[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Sn=Symbol("internals");function qe(t){return t&&String(t).trim().toLowerCase()}function pt(t){return t===!1||t==null?t:v.isArray(t)?t.map(pt):String(t)}function xs(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}function Ds(t){return/^[-_a-zA-Z]+$/.test(t.trim())}function Tn(t,e,n,r){if(v.isFunction(r))return r.call(this,e,n);if(v.isString(e)){if(v.isString(r))return e.indexOf(r)!==-1;if(v.isRegExp(r))return r.test(e)}}function As(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Ls(t,e){const n=v.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Mt{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,c,l){const u=qe(c);if(!u)throw new Error("header name must be a non-empty string");const f=v.findKey(i,u);(!f||i[f]===void 0||l===!0||l===void 0&&i[f]!==!1)&&(i[f||c]=pt(a))}const o=(a,c)=>v.forEach(a,(l,u)=>s(l,u,c));return v.isPlainObject(e)||e instanceof this.constructor?o(e,n):v.isString(e)&&(e=e.trim())&&!Ds(e)?o(Os(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=qe(e),e){const r=v.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return xs(i);if(v.isFunction(n))return n.call(this,i,r);if(v.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=qe(e),e){const r=v.findKey(this,e);return!!(r&&(!n||Tn(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=qe(o),o){const a=v.findKey(r,o);a&&(!n||Tn(r,r[a],a,n))&&(delete r[a],i=!0)}}return v.isArray(e)?e.forEach(s):s(e),i}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(e){const n=this,r={};return v.forEach(this,(i,s)=>{const o=v.findKey(r,s);if(o){n[o]=pt(i),delete n[s];return}const a=e?As(s):String(s).trim();a!==s&&delete n[s],n[a]=pt(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return v.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&v.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Sn]=this[Sn]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=qe(o);r[a]||(Ls(i,o),r[a]=!0)}return v.isArray(e)?e.forEach(s):s(e),this}}Mt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);v.freezeMethods(Mt.prototype);v.freezeMethods(Mt);const be=Mt;function It(t,e){const n=this||on,r=e||n,i=be.from(r.headers);let s=r.data;return v.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function Rr(t){return!!(t&&t.__CANCEL__)}function tt(t,e,n){z.call(this,t??"canceled",z.ERR_CANCELED,e,n),this.name="CanceledError"}v.inherits(tt,z,{__CANCEL__:!0});const Ms=null;function js(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new z("Request failed with status code "+n.status,[z.ERR_BAD_REQUEST,z.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Is=_e.isStandardBrowserEnv?function(){return{write:function(n,r,i,s,o,a){const c=[];c.push(n+"="+encodeURIComponent(r)),v.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),v.isString(s)&&c.push("path="+s),v.isString(o)&&c.push("domain="+o),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Ns(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Bs(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function kr(t,e){return t&&!Ns(e)?Bs(t,e):e}const Fs=_e.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=v.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function zs(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Us(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const l=Date.now(),u=r[s];o||(o=l),n[i]=c,r[i]=l;let f=s,p=0;for(;f!==i;)p+=n[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),l-o<e)return;const g=u&&l-u;return g?Math.round(p*1e3/g):void 0}}function Rn(t,e){let n=0;const r=Us(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,c=r(a),l=s<=o;n=s;const u={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:c||void 0,estimated:c&&o&&l?(o-s)/c:void 0,event:i};u[e?"download":"upload"]=!0,t(u)}}const ws=typeof XMLHttpRequest<"u",Hs=ws&&function(t){return new Promise(function(n,r){let i=t.data;const s=be.from(t.headers).normalize(),o=t.responseType;let a;function c(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}v.isFormData(i)&&(_e.isStandardBrowserEnv||_e.isStandardBrowserWebWorkerEnv)&&s.setContentType(!1);let l=new XMLHttpRequest;if(t.auth){const g=t.auth.username||"",d=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(g+":"+d))}const u=kr(t.baseURL,t.url);l.open(t.method.toUpperCase(),br(u,t.params,t.paramsSerializer),!0),l.timeout=t.timeout;function f(){if(!l)return;const g=be.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),m={data:!o||o==="text"||o==="json"?l.responseText:l.response,status:l.status,statusText:l.statusText,headers:g,config:t,request:l};js(function(P){n(P),c()},function(P){r(P),c()},m),l=null}if("onloadend"in l?l.onloadend=f:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(f)},l.onabort=function(){l&&(r(new z("Request aborted",z.ECONNABORTED,t,l)),l=null)},l.onerror=function(){r(new z("Network Error",z.ERR_NETWORK,t,l)),l=null},l.ontimeout=function(){let d=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const m=t.transitional||Sr;t.timeoutErrorMessage&&(d=t.timeoutErrorMessage),r(new z(d,m.clarifyTimeoutError?z.ETIMEDOUT:z.ECONNABORTED,t,l)),l=null},_e.isStandardBrowserEnv){const g=(t.withCredentials||Fs(u))&&t.xsrfCookieName&&Is.read(t.xsrfCookieName);g&&s.set(t.xsrfHeaderName,g)}i===void 0&&s.setContentType(null),"setRequestHeader"in l&&v.forEach(s.toJSON(),function(d,m){l.setRequestHeader(m,d)}),v.isUndefined(t.withCredentials)||(l.withCredentials=!!t.withCredentials),o&&o!=="json"&&(l.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&l.addEventListener("progress",Rn(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",Rn(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=g=>{l&&(r(!g||g.type?new tt(null,t,l):g),l.abort(),l=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const p=zs(u);if(p&&_e.protocols.indexOf(p)===-1){r(new z("Unsupported protocol "+p+":",z.ERR_BAD_REQUEST,t));return}l.send(i||null)})},ht={http:Ms,xhr:Hs};v.forEach(ht,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Vs={getAdapter:t=>{t=v.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let i=0;i<e&&(n=t[i],!(r=v.isString(n)?ht[n.toLowerCase()]:n));i++);if(!r)throw r===!1?new z(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(v.hasOwnProp(ht,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!v.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:ht};function Nt(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new tt(null,t)}function kn(t){return Nt(t),t.headers=be.from(t.headers),t.data=It.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Vs.getAdapter(t.adapter||on.adapter)(t).then(function(r){return Nt(t),r.data=It.call(t,t.transformResponse,r),r.headers=be.from(r.headers),r},function(r){return Rr(r)||(Nt(t),r&&r.response&&(r.response.data=It.call(t,t.transformResponse,r.response),r.response.headers=be.from(r.response.headers))),Promise.reject(r)})}const En=t=>t instanceof be?t.toJSON():t;function we(t,e){e=e||{};const n={};function r(l,u,f){return v.isPlainObject(l)&&v.isPlainObject(u)?v.merge.call({caseless:f},l,u):v.isPlainObject(u)?v.merge({},u):v.isArray(u)?u.slice():u}function i(l,u,f){if(v.isUndefined(u)){if(!v.isUndefined(l))return r(void 0,l,f)}else return r(l,u,f)}function s(l,u){if(!v.isUndefined(u))return r(void 0,u)}function o(l,u){if(v.isUndefined(u)){if(!v.isUndefined(l))return r(void 0,l)}else return r(void 0,u)}function a(l,u,f){if(f in e)return r(l,u);if(f in t)return r(void 0,l)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(l,u)=>i(En(l),En(u),!0)};return v.forEach(Object.keys(t).concat(Object.keys(e)),function(u){const f=c[u]||i,p=f(t[u],e[u],u);v.isUndefined(p)&&f!==a||(n[u]=p)}),n}const Er="1.2.2",an={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{an[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Pn={};an.transitional=function(e,n,r){function i(s,o){return"[Axios v"+Er+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new z(i(o," has been removed"+(n?" in "+n:"")),z.ERR_DEPRECATED);return n&&!Pn[o]&&(Pn[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function Gs(t,e,n){if(typeof t!="object")throw new z("options must be an object",z.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],c=a===void 0||o(a,s,t);if(c!==!0)throw new z("option "+s+" must be "+c,z.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new z("Unknown option "+s,z.ERR_BAD_OPTION)}}const Ut={assertOptions:Gs,validators:an},Te=Ut.validators;class Ot{constructor(e){this.defaults=e,this.interceptors={request:new bn,response:new bn}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=we(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Ut.assertOptions(r,{silentJSONParsing:Te.transitional(Te.boolean),forcedJSONParsing:Te.transitional(Te.boolean),clarifyTimeoutError:Te.transitional(Te.boolean)},!1),i!==void 0&&Ut.assertOptions(i,{encode:Te.function,serialize:Te.function},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o;o=s&&v.merge(s.common,s[n.method]),o&&v.forEach(["delete","get","head","post","put","patch","common"],d=>{delete s[d]}),n.headers=be.concat(o,s);const a=[];let c=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(c=c&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const l=[];this.interceptors.response.forEach(function(m){l.push(m.fulfilled,m.rejected)});let u,f=0,p;if(!c){const d=[kn.bind(this),void 0];for(d.unshift.apply(d,a),d.push.apply(d,l),p=d.length,u=Promise.resolve(n);f<p;)u=u.then(d[f++],d[f++]);return u}p=a.length;let g=n;for(f=0;f<p;){const d=a[f++],m=a[f++];try{g=d(g)}catch(_){m.call(this,_);break}}try{u=kn.call(this,g)}catch(d){return Promise.reject(d)}for(f=0,p=l.length;f<p;)u=u.then(l[f++],l[f++]);return u}getUri(e){e=we(this.defaults,e);const n=kr(e.baseURL,e.url);return br(n,e.params,e.paramsSerializer)}}v.forEach(["delete","get","head","options"],function(e){Ot.prototype[e]=function(n,r){return this.request(we(r||{},{method:e,url:n,data:(r||{}).data}))}});v.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(we(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Ot.prototype[e]=n(),Ot.prototype[e+"Form"]=n(!0)});const mt=Ot;class cn{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new tt(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new cn(function(i){e=i}),cancel:e}}}const Js=cn;function qs(t){return function(n){return t.apply(null,n)}}function Ks(t){return v.isObject(t)&&t.isAxiosError===!0}const wt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(wt).forEach(([t,e])=>{wt[e]=t});const Ws=wt;function Pr(t){const e=new mt(t),n=lr(mt.prototype.request,e);return v.extend(n,mt.prototype,e,{allOwnKeys:!0}),v.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return Pr(we(t,i))},n}const $=Pr(on);$.Axios=mt;$.CanceledError=tt;$.CancelToken=Js;$.isCancel=Rr;$.VERSION=Er;$.toFormData=At;$.AxiosError=z;$.Cancel=$.CanceledError;$.all=function(e){return Promise.all(e)};$.spread=qs;$.isAxiosError=Ks;$.mergeConfig=we;$.AxiosHeaders=be;$.formToJSON=t=>Tr(v.isHTMLForm(t)?new FormData(t):t);$.HttpStatusCode=Ws;$.default=$;const On=$,Re="https://peerconnect-backend.azurewebsites.net/api",Zs="wss://peerconnect-backend.azurewebsites.net";class Ys{constructor(){}async POST(e,n=null,r={}){let i={Accept:"application/json",...r},s=await On.post(e,n,{headers:i});if(s.status!==200)throw new Error(s.data.error);return s.data}async GET(e,n={}){let r={Accept:"application/json",...n},i=await On.get(e,{headers:r});if(i.status!==200)throw new Error(i.data.error);return i.data}async login(e,n,r,i){let s=await this.POST(`${Re}/google-sign-in`,{userID:e,name:n,pfp:r,email:i});return{...s.user,token:s.token}}async clientLogin(){return await this.POST(`${Re}/sign-in`)}async getUser(e){return await this.GET(`${Re}/fetch-user-by-id/${e}`)}async checkCallQueue(){let e=at(ke);if(!e)return null;let n=await this.POST(`${Re}/ping-queue`,{id:e.id}).catch(()=>null);if(!n)return!1;if(n.hasBeenChosen)return n.hasBeenChosenBy}async joinCallQueue(e,n){let r=at(ke);if(!r)return null;await this.POST(`${Re}/join-queue`,{attributes:e,id:r.id});let i=setInterval(async()=>{let s=await this.checkCallQueue();s===!1?await this.POST(`${Re}/join-queue`,{attributes:e,id:r.id}):s&&(clearInterval(i),n(s))},5e3);return i}async fetchClientList(){let e=at(ke);return!e||!e.token?[]:await this.GET(`${Re}/fetch-queue`,{Authorization:`Bearer ${e.token}`})}async acceptCall(e){let n=at(ke);if(!(!n||!n.token))return await this.POST(`${Re}/accept-user`,{id:e},{Authorization:`Bearer ${n.token}`})}}const Pe=new Ys;function Qs(t){let e,n;return{c(){e=re("svg"),n=re("path"),h(n,"d","M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"),h(n,"fill",t[2]),h(e,"width",t[0]),h(e,"height",t[1]),h(e,"viewBox",t[3])},m(r,i){E(r,e,i),y(e,n)},p(r,[i]){i&4&&h(n,"fill",r[2]),i&1&&h(e,"width",r[0]),i&2&&h(e,"height",r[1]),i&8&&h(e,"viewBox",r[3])},i:x,o:x,d(r){r&&T(e)}}}function Xs(t,e,n){let{size:r="1em"}=e,{width:i=r}=e,{height:s=r}=e,{color:o="currentColor"}=e,{viewBox:a="0 0 24 24"}=e;return t.$$set=c=>{"size"in c&&n(4,r=c.size),"width"in c&&n(0,i=c.width),"height"in c&&n(1,s=c.height),"color"in c&&n(2,o=c.color),"viewBox"in c&&n(3,a=c.viewBox)},[i,s,o,a,r]}class $s extends Z{constructor(e){super(),W(this,e,Xs,Qs,q,{size:4,width:0,height:1,color:2,viewBox:3})}}function xn(t){let e,n,r;return n=new $s({}),{c(){e=C("span"),H(n.$$.fragment),h(e,"class","svelte-9rwt4e")},m(i,s){E(i,e,s),U(n,e,null),r=!0},i(i){r||(R(n.$$.fragment,i),r=!0)},o(i){A(n.$$.fragment,i),r=!1},d(i){i&&T(e),w(n)}}}function eo(t){let e,n,r,i,s,o,a=t[1]&&xn();return{c(){e=C("button"),a&&a.c(),n=S(),r=J(t[0]),h(e,"class","filter svelte-9rwt4e"),pn(e,"selected",t[1])},m(c,l){E(c,e,l),a&&a.m(e,null),y(e,n),y(e,r),i=!0,s||(o=ne(e,"click",t[2]),s=!0)},p(c,[l]){c[1]?a?l&2&&R(a,1):(a=xn(),a.c(),R(a,1),a.m(e,n)):a&&(le(),A(a,1,1,()=>{a=null}),ue()),(!i||l&1)&&Ce(r,c[0]),(!i||l&2)&&pn(e,"selected",c[1])},i(c){i||(R(a),i=!0)},o(c){A(a),i=!1},d(c){c&&T(e),a&&a.d(),s=!1,o()}}}function to(t,e,n){let{name:r}=e,{category:i}=e,{filterStore:s}=e,o=!1,a={name:r,category:i};function c(){o?s.update(l=>{let u=l.indexOf(a);return u>-1&&l.splice(u,1),l}):s.update(l=>(l.push(a),l)),n(1,o=!o)}return t.$$set=l=>{"name"in l&&n(0,r=l.name),"category"in l&&n(3,i=l.category),"filterStore"in l&&n(4,s=l.filterStore)},[r,o,c,i,s]}class no extends Z{constructor(e){super(),W(this,e,to,eo,q,{name:0,category:3,filterStore:4})}}function Dn(t,e,n){const r=t.slice();return r[2]=e[n],r}function An(t,e,n){const r=t.slice();return r[5]=e[n],r}function ro(t){let e,n=t[2].displayName+"",r;return{c(){e=C("h4"),r=J(n)},m(i,s){E(i,e,s),y(e,r)},p:x,d(i){i&&T(e)}}}function Ln(t){let e,n;return e=new no({props:{category:t[2].name,name:t[5],filterStore:t[0]}}),{c(){H(e.$$.fragment)},m(r,i){U(e,r,i),n=!0},p(r,i){const s={};i&1&&(s.filterStore=r[0]),e.$set(s)},i(r){n||(R(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){w(e,r)}}}function Mn(t){let e,n,r,i,s=t[2].displayName&&ro(t),o=t[2].options,a=[];for(let l=0;l<o.length;l+=1)a[l]=Ln(An(t,o,l));const c=l=>A(a[l],1,1,()=>{a[l]=null});return{c(){s&&s.c(),e=S(),n=C("div");for(let l=0;l<a.length;l+=1)a[l].c();r=S(),h(n,"class","filterList svelte-1t9e0jg")},m(l,u){s&&s.m(l,u),E(l,e,u),E(l,n,u);for(let f=0;f<a.length;f+=1)a[f].m(n,null);y(n,r),i=!0},p(l,u){if(l[2].displayName&&s.p(l,u),u&3){o=l[2].options;let f;for(f=0;f<o.length;f+=1){const p=An(l,o,f);a[f]?(a[f].p(p,u),R(a[f],1)):(a[f]=Ln(p),a[f].c(),R(a[f],1),a[f].m(n,r))}for(le(),f=o.length;f<a.length;f+=1)c(f);ue()}},i(l){if(!i){for(let u=0;u<o.length;u+=1)R(a[u]);i=!0}},o(l){a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)A(a[u]);i=!1},d(l){s&&s.d(l),l&&T(e),l&&T(n),$e(a,l)}}}function io(t){let e,n,r,i,s=t[1],o=[];for(let c=0;c<s.length;c+=1)o[c]=Mn(Dn(t,s,c));const a=c=>A(o[c],1,1,()=>{o[c]=null});return{c(){e=C("div"),n=C("h3"),n.textContent="Select all that apply",r=S();for(let c=0;c<o.length;c+=1)o[c].c()},m(c,l){E(c,e,l),y(e,n),y(e,r);for(let u=0;u<o.length;u+=1)o[u].m(e,null);i=!0},p(c,[l]){if(l&3){s=c[1];let u;for(u=0;u<s.length;u+=1){const f=Dn(c,s,u);o[u]?(o[u].p(f,l),R(o[u],1)):(o[u]=Mn(f),o[u].c(),R(o[u],1),o[u].m(e,null))}for(le(),u=s.length;u<o.length;u+=1)a(u);ue()}},i(c){if(!i){for(let l=0;l<s.length;l+=1)R(o[l]);i=!0}},o(c){o=o.filter(Boolean);for(let l=0;l<o.length;l+=1)A(o[l]);i=!1},d(c){c&&T(e),$e(o,c)}}}function so(t,e,n){let r=[{displayName:null,name:"general",multiselect:!0,options:["Here to talk","Certified mentor"]},{name:"grade",displayName:"Grade",multiselect:!1,options:["9th","10th","11th","12th","Other"]},{name:"gender",displayName:"Gender",multiselect:!1,options:["Male","Female","Non-Binary","Other"]},{name:"interests",displayName:"Interests and Expertise",multiselect:!0,options:["Sports","Music","Drama","Career","College"]},{name:"academics",displayName:"Academics",multiselect:!0,options:["Math","Science","English","History"]}],{filterStore:i=He([])}=e;return t.$$set=s=>{"filterStore"in s&&n(0,i=s.filterStore)},[i,r]}class oo extends Z{constructor(e){super(),W(this,e,so,io,q,{filterStore:0})}}function jn(t){let e,n,r,i,s,o,a;return n=new Ri({}),{c(){e=C("button"),H(n.$$.fragment),r=J(`
        BACK`),h(e,"class","backBtn svelte-k11isd")},m(c,l){E(c,e,l),U(n,e,null),y(e,r),s=!0,o||(a=ne(e,"click",t[6]),o=!0)},p:x,i(c){s||(R(n.$$.fragment,c),ce(()=>{i||(i=Pt(e,se,{x:200,duration:200},!0)),i.run(1)}),s=!0)},o(c){A(n.$$.fragment,c),i||(i=Pt(e,se,{x:200,duration:200},!1)),i.run(0),s=!1},d(c){c&&T(e),w(n),c&&i&&i.end(),o=!1,a()}}}function ao(t){let e,n,r,i,s;return n=new ar({}),{c(){e=C("main"),H(n.$$.fragment),h(e,"class","step hotlines svelte-k11isd")},m(o,a){E(o,e,a),U(n,e,null),s=!0},p:x,i(o){s||(R(n.$$.fragment,o),ce(()=>{i&&i.end(1),r=Me(e,se,{x:200,duration:200}),r.start()}),s=!0)},o(o){A(n.$$.fragment,o),r&&r.invalidate(),i=je(e,se,{x:-200,duration:200}),s=!1},d(o){o&&T(e),w(n),o&&i&&i.end()}}}function co(t){let e,n,r,i,s,o,a,c,l,u,f,p,g,d,m,_,P,D,b,O,L,I,K,Q,M,V,F,ee,G,oe,ae,Oe;return f=new Ee({}),b=new Ee({}),F=new Ee({}),{c(){e=C("main"),n=C("h1"),n.textContent="What do you want to do?",r=S(),i=C("div"),s=C("button"),o=C("h2"),o.textContent="I want to talk to somebody.",a=S(),c=C("p"),c.textContent="You'll be matched with someone who's ready to listen.",l=S(),u=C("span"),H(f.$$.fragment),p=S(),g=C("button"),d=C("h2"),d.textContent="I need advice.",m=S(),_=C("p"),_.textContent="Just want to ask a question? You'll be matched with someone knowledgable.",P=S(),D=C("span"),H(b.$$.fragment),O=S(),L=C("button"),I=C("h2"),I.textContent="It's urgent.",K=S(),Q=C("p"),Q.textContent="Hotlines are available 24/7-- there's always someone available for you!",M=S(),V=C("span"),H(F.$$.fragment),h(n,"class","svelte-k11isd"),h(o,"class","svelte-k11isd"),h(c,"class","svelte-k11isd"),h(u,"class","arrow svelte-k11isd"),h(s,"class","option svelte-k11isd"),h(d,"class","svelte-k11isd"),h(_,"class","svelte-k11isd"),h(D,"class","arrow svelte-k11isd"),h(g,"class","option svelte-k11isd"),St(I,"color","red"),h(I,"class","svelte-k11isd"),h(Q,"class","svelte-k11isd"),h(V,"class","arrow svelte-k11isd"),h(L,"class","option svelte-k11isd"),h(i,"class","options svelte-k11isd"),h(e,"class","step step2 svelte-k11isd")},m(X,me){E(X,e,me),y(e,n),y(e,r),y(e,i),y(i,s),y(s,o),y(s,a),y(s,c),y(s,l),y(s,u),U(f,u,null),y(i,p),y(i,g),y(g,d),y(g,m),y(g,_),y(g,P),y(g,D),U(b,D,null),y(i,O),y(i,L),y(L,I),y(L,K),y(L,Q),y(L,M),y(L,V),U(F,V,null),oe=!0,ae||(Oe=[ne(s,"click",t[9]),ne(g,"click",t[10]),ne(L,"click",t[11])],ae=!0)},p:x,i(X){oe||(R(f.$$.fragment,X),R(b.$$.fragment,X),R(F.$$.fragment,X),ce(()=>{G&&G.end(1),ee=Me(e,se,{x:200,duration:200}),ee.start()}),oe=!0)},o(X){A(f.$$.fragment,X),A(b.$$.fragment,X),A(F.$$.fragment,X),ee&&ee.invalidate(),G=je(e,se,{x:-200,duration:200}),oe=!1},d(X){X&&T(e),w(f),w(b),w(F),X&&G&&G.end(),ae=!1,he(Oe)}}}function lo(t){let e,n,r,i,s,o,a,c,l,u,f,p,g,d,m,_,P,D,b,O,L,I,K,Q;return f=new Ee({}),b=new Ee({}),{c(){e=C("main"),n=C("h1"),n.textContent="Welcome!",r=S(),i=C("div"),s=C("button"),o=C("h2"),o.textContent="I need help.",a=S(),c=C("p"),c.textContent="Match yourself with someone to get advice, or just someone to talk to.",l=S(),u=C("span"),H(f.$$.fragment),p=S(),g=C("button"),d=C("h2"),d.textContent="I want to help.",m=S(),_=C("p"),_.textContent="Want to become a peer advisor and help those who need it?",P=S(),D=C("span"),H(b.$$.fragment),h(n,"class","svelte-k11isd"),h(o,"class","svelte-k11isd"),h(c,"class","svelte-k11isd"),h(u,"class","arrow svelte-k11isd"),h(s,"class","option svelte-k11isd"),h(d,"class","svelte-k11isd"),h(_,"class","svelte-k11isd"),h(D,"class","arrow svelte-k11isd"),h(g,"class","option svelte-k11isd"),h(i,"class","options svelte-k11isd"),h(e,"class","step step1 svelte-k11isd")},m(M,V){E(M,e,V),y(e,n),y(e,r),y(e,i),y(i,s),y(s,o),y(s,a),y(s,c),y(s,l),y(s,u),U(f,u,null),y(i,p),y(i,g),y(g,d),y(g,m),y(g,_),y(g,P),y(g,D),U(b,D,null),I=!0,K||(Q=[ne(s,"click",t[7]),ne(g,"click",t[8])],K=!0)},p:x,i(M){I||(R(f.$$.fragment,M),R(b.$$.fragment,M),ce(()=>{L&&L.end(1),O=Me(e,se,{x:200,duration:200}),O.start()}),I=!0)},o(M){A(f.$$.fragment,M),A(b.$$.fragment,M),O&&O.invalidate(),L=je(e,se,{x:-200,duration:200}),I=!1},d(M){M&&T(e),w(f),w(b),M&&L&&L.end(),K=!1,he(Q)}}}function uo(t){let e,n,r,i,s;return n=new Ii({}),{c(){e=C("main"),H(n.$$.fragment),h(e,"class","step matching svelte-k11isd"),St(e,"display",t[0]!==4?"none":"")},m(o,a){E(o,e,a),U(n,e,null),s=!0},p(o,a){a&1&&St(e,"display",o[0]!==4?"none":"")},i(o){s||(R(n.$$.fragment,o),ce(()=>{i&&i.end(1),r=Me(e,se,{x:200,duration:200}),r.start()}),s=!0)},o(o){A(n.$$.fragment,o),r&&r.invalidate(),i=je(e,se,{x:-200,duration:200}),s=!1},d(o){o&&T(e),w(n),o&&i&&i.end()}}}function fo(t){let e,n,r,i,s,o,a,c,l,u,f,p,g,d,m,_,P,D,b,O,L,I,K,Q,M,V,F,ee;return a=new Pi({}),p=new Ee({}),_=new Di({}),K=new Ee({}),{c(){e=C("main"),n=C("h1"),n.textContent="Camera OK?",r=S(),i=C("div"),s=C("button"),o=C("span"),H(a.$$.fragment),c=S(),l=C("h2"),l.textContent="Camera OK.",u=S(),f=C("span"),H(p.$$.fragment),g=S(),d=C("button"),m=C("span"),H(_.$$.fragment),P=S(),D=C("h2"),D.textContent="Camera NOT OK.",b=S(),O=C("p"),O.innerHTML="Don&#39;t feel comfortable with a camera? No problem.<br/>You&#39;ll still have the option to enable it later.",L=S(),I=C("span"),H(K.$$.fragment),h(n,"class","svelte-k11isd"),h(o,"class","icon svelte-k11isd"),h(l,"class","svelte-k11isd"),h(f,"class","arrow svelte-k11isd"),h(s,"class","option svelte-k11isd"),h(m,"class","icon svelte-k11isd"),h(D,"class","svelte-k11isd"),h(O,"class","svelte-k11isd"),h(I,"class","arrow svelte-k11isd"),h(d,"class","option svelte-k11isd"),h(i,"class","options svelte-k11isd"),h(e,"class","step step3 svelte-k11isd")},m(G,oe){E(G,e,oe),y(e,n),y(e,r),y(e,i),y(i,s),y(s,o),U(a,o,null),y(s,c),y(s,l),y(s,u),y(s,f),U(p,f,null),y(i,g),y(i,d),y(d,m),U(_,m,null),y(d,P),y(d,D),y(d,b),y(d,O),y(d,L),y(d,I),U(K,I,null),V=!0,F||(ee=[ne(s,"click",t[13]),ne(d,"click",t[14])],F=!0)},p:x,i(G){V||(R(a.$$.fragment,G),R(p.$$.fragment,G),R(_.$$.fragment,G),R(K.$$.fragment,G),ce(()=>{M&&M.end(1),Q=Me(e,se,{x:200,duration:200}),Q.start()}),V=!0)},o(G){A(a.$$.fragment,G),A(p.$$.fragment,G),A(_.$$.fragment,G),A(K.$$.fragment,G),Q&&Q.invalidate(),M=je(e,se,{x:-200,duration:200}),V=!1},d(G){G&&T(e),w(a),w(p),w(_),w(K),G&&M&&M.end(),F=!1,he(ee)}}}function po(t){let e,n,r,i,s,o,a,c,l,u,f,p,g,d;return r=new oo({props:{filterStore:t[1]}}),l=new Ee({}),{c(){e=C("main"),n=C("div"),H(r.$$.fragment),i=S(),s=C("button"),o=C("h2"),o.textContent="Next",a=S(),c=C("span"),H(l.$$.fragment),h(o,"class","svelte-k11isd"),h(c,"class","arrow svelte-k11isd"),h(s,"class","option svelte-k11isd"),h(n,"class","options svelte-k11isd"),h(e,"class","step filters svelte-k11isd")},m(m,_){E(m,e,_),y(e,n),U(r,n,null),y(n,i),y(n,s),y(s,o),y(s,a),y(s,c),U(l,c,null),p=!0,g||(d=ne(s,"click",t[12]),g=!0)},p:x,i(m){p||(R(r.$$.fragment,m),R(l.$$.fragment,m),ce(()=>{f&&f.end(1),u=Me(e,se,{x:200,duration:200}),u.start()}),p=!0)},o(m){A(r.$$.fragment,m),A(l.$$.fragment,m),u&&u.invalidate(),f=je(e,se,{x:-200,duration:200}),p=!1},d(m){m&&T(e),w(r),w(l),m&&f&&f.end(),g=!1,d()}}}function ho(t){let e,n,r,i,s,o,a,c,l=t[0]!==1&&jn(t);const u=[lo,co,ao],f=[];function p(_,P){return _[0]===1?0:_[0]===2?1:_[0]===2.2?2:-1}~(r=p(t))&&(i=f[r]=u[r](t));const g=[po,fo,uo],d=[];function m(_,P){return _[0]===2.4?0:_[0]===3?1:_[0]===4?2:-1}return~(o=m(t))&&(a=d[o]=g[o](t)),{c(){e=C("div"),l&&l.c(),n=S(),i&&i.c(),s=S(),a&&a.c(),h(e,"class","steps svelte-k11isd")},m(_,P){E(_,e,P),l&&l.m(e,null),y(e,n),~r&&f[r].m(e,null),y(e,s),~o&&d[o].m(e,null),c=!0},p(_,[P]){_[0]!==1?l?(l.p(_,P),P&1&&R(l,1)):(l=jn(_),l.c(),R(l,1),l.m(e,n)):l&&(le(),A(l,1,1,()=>{l=null}),ue());let D=r;r=p(_),r===D?~r&&f[r].p(_,P):(i&&(le(),A(f[D],1,1,()=>{f[D]=null}),ue()),~r?(i=f[r],i?i.p(_,P):(i=f[r]=u[r](_),i.c()),R(i,1),i.m(e,s)):i=null);let b=o;o=m(_),o===b?~o&&d[o].p(_,P):(a&&(le(),A(d[b],1,1,()=>{d[b]=null}),ue()),~o?(a=d[o],a?a.p(_,P):(a=d[o]=g[o](_),a.c()),R(a,1),a.m(e,null)):a=null)},i(_){c||(R(l),R(i),R(a),c=!0)},o(_){A(l),A(i),A(a),c=!1},d(_){_&&T(e),l&&l.d(),~r&&f[r].d(),~o&&d[o].d()}}}function mo(t,e,n){let r,i=1,s,o=He([]);De(t,o,O=>n(17,r=O));function a(O){n(0,i=2)}function c(O){n(0,i=3)}function l(O){n(0,i=4)}async function u(){let O=await Pe.clientLogin();ke.set(O),console.log("Joining queue"),n(5,s=await Pe.joinCallQueue(r,async L=>{console.log("Found one!");let I=await Pe.getUser(L);ze.set(I)}))}const f=()=>{n(0,i=Math.ceil(i-1))},p=()=>a(),g=()=>cr.set("advisor"),d=()=>c(),m=()=>{n(0,i=2.4)},_=()=>{n(0,i=2.2)},P=()=>n(0,i=3),D=()=>l(),b=()=>l();return t.$$.update=()=>{t.$$.dirty&33&&(i===4&&!s?u():i!==4&&s&&(clearInterval(s),n(5,s=null)))},[i,o,a,c,l,s,f,p,g,d,m,_,P,D,b]}class go extends Z{constructor(e){super(),W(this,e,mo,ho,q,{})}}function yo(t){let e;return{c(){e=C("header"),e.innerHTML='<h2 class="svelte-1o0fd4b">PeerConnect</h2>',h(e,"class","svelte-1o0fd4b")},m(n,r){E(n,e,r)},p:x,i:x,o:x,d(n){n&&T(e)}}}class _o extends Z{constructor(e){super(),W(this,e,null,yo,q,{})}}let Or=!0,xr=!0;function gt(t,e,n){const r=t.match(e);return r&&r.length>=n&&parseInt(r[n],10)}function Ie(t,e,n){if(!t.RTCPeerConnection)return;const r=t.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(o,a){if(o!==e)return i.apply(this,arguments);const c=l=>{const u=n(l);u&&(a.handleEvent?a.handleEvent(u):a(u))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(a,c),i.apply(this,[o,c])};const s=r.removeEventListener;r.removeEventListener=function(o,a){if(o!==e||!this._eventMap||!this._eventMap[e])return s.apply(this,arguments);if(!this._eventMap[e].has(a))return s.apply(this,arguments);const c=this._eventMap[e].get(a);return this._eventMap[e].delete(a),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,s.apply(this,[o,c])},Object.defineProperty(r,"on"+e,{get(){return this["_on"+e]},set(o){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),o&&this.addEventListener(e,this["_on"+e]=o)},enumerable:!0,configurable:!0})}function Co(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(Or=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function vo(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(xr=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function Dr(){if(typeof window=="object"){if(Or)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function ln(t,e){xr&&console.warn(t+" is deprecated, please use "+e+" instead.")}function bo(t){const e={browser:null,version:null};if(typeof t>"u"||!t.navigator)return e.browser="Not a browser.",e;const{navigator:n}=t;if(n.mozGetUserMedia)e.browser="firefox",e.version=gt(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=gt(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=gt(n.userAgent,/AppleWebKit\/(\d+)\./,1),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype;else return e.browser="Not a supported browser.",e;return e}function In(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ar(t){return In(t)?Object.keys(t).reduce(function(e,n){const r=In(t[n]),i=r?Ar(t[n]):t[n],s=r&&!Object.keys(i).length;return i===void 0||s?e:Object.assign(e,{[n]:i})},{}):t}function Ht(t,e,n){!e||n.has(e.id)||(n.set(e.id,e),Object.keys(e).forEach(r=>{r.endsWith("Id")?Ht(t,t.get(e[r]),n):r.endsWith("Ids")&&e[r].forEach(i=>{Ht(t,t.get(i),n)})}))}function Nn(t,e,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(e===null)return i;const s=[];return t.forEach(o=>{o.type==="track"&&o.trackIdentifier===e.id&&s.push(o)}),s.forEach(o=>{t.forEach(a=>{a.type===r&&a.trackId===o.id&&Ht(t,a,i)})}),i}const Bn=Dr;function Lr(t,e){const n=t&&t.navigator;if(!n.mediaDevices)return;const r=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;const c={};return Object.keys(a).forEach(l=>{if(l==="require"||l==="advanced"||l==="mediaSource")return;const u=typeof a[l]=="object"?a[l]:{ideal:a[l]};u.exact!==void 0&&typeof u.exact=="number"&&(u.min=u.max=u.exact);const f=function(p,g){return p?p+g.charAt(0).toUpperCase()+g.slice(1):g==="deviceId"?"sourceId":g};if(u.ideal!==void 0){c.optional=c.optional||[];let p={};typeof u.ideal=="number"?(p[f("min",l)]=u.ideal,c.optional.push(p),p={},p[f("max",l)]=u.ideal,c.optional.push(p)):(p[f("",l)]=u.ideal,c.optional.push(p))}u.exact!==void 0&&typeof u.exact!="number"?(c.mandatory=c.mandatory||{},c.mandatory[f("",l)]=u.exact):["min","max"].forEach(p=>{u[p]!==void 0&&(c.mandatory=c.mandatory||{},c.mandatory[f(p,l)]=u[p])})}),a.advanced&&(c.optional=(c.optional||[]).concat(a.advanced)),c},i=function(a,c){if(e.version>=61)return c(a);if(a=JSON.parse(JSON.stringify(a)),a&&typeof a.audio=="object"){const l=function(u,f,p){f in u&&!(p in u)&&(u[p]=u[f],delete u[f])};a=JSON.parse(JSON.stringify(a)),l(a.audio,"autoGainControl","googAutoGainControl"),l(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=r(a.audio)}if(a&&typeof a.video=="object"){let l=a.video.facingMode;l=l&&(typeof l=="object"?l:{ideal:l});const u=e.version<66;if(l&&(l.exact==="user"||l.exact==="environment"||l.ideal==="user"||l.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!u)){delete a.video.facingMode;let f;if(l.exact==="environment"||l.ideal==="environment"?f=["back","rear"]:(l.exact==="user"||l.ideal==="user")&&(f=["front"]),f)return n.mediaDevices.enumerateDevices().then(p=>{p=p.filter(d=>d.kind==="videoinput");let g=p.find(d=>f.some(m=>d.label.toLowerCase().includes(m)));return!g&&p.length&&f.includes("back")&&(g=p[p.length-1]),g&&(a.video.deviceId=l.exact?{exact:g.deviceId}:{ideal:g.deviceId}),a.video=r(a.video),Bn("chrome: "+JSON.stringify(a)),c(a)})}a.video=r(a.video)}return Bn("chrome: "+JSON.stringify(a)),c(a)},s=function(a){return e.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},o=function(a,c,l){i(a,u=>{n.webkitGetUserMedia(u,c,f=>{l&&l(s(f))})})};if(n.getUserMedia=o.bind(n),n.mediaDevices.getUserMedia){const a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(c){return i(c,l=>a(l).then(u=>{if(l.audio&&!u.getAudioTracks().length||l.video&&!u.getVideoTracks().length)throw u.getTracks().forEach(f=>{f.stop()}),new DOMException("","NotFoundError");return u},u=>Promise.reject(s(u))))}}}function So(t,e){if(!(t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices)&&t.navigator.mediaDevices){if(typeof e!="function"){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}t.navigator.mediaDevices.getDisplayMedia=function(r){return e(r).then(i=>{const s=r.video&&r.video.width,o=r.video&&r.video.height,a=r.video&&r.video.frameRate;return r.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:i,maxFrameRate:a||3}},s&&(r.video.mandatory.maxWidth=s),o&&(r.video.mandatory.maxHeight=o),t.navigator.mediaDevices.getUserMedia(r)})}}}function Mr(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function jr(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",i=>{let s;t.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(a=>a.track&&a.track.id===i.track.id):s={track:i.track};const o=new Event("track");o.track=i.track,o.receiver=s,o.transceiver={receiver:s},o.streams=[r.stream],this.dispatchEvent(o)}),r.stream.getTracks().forEach(i=>{let s;t.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(a=>a.track&&a.track.id===i.id):s={track:i};const o=new Event("track");o.track=i,o.receiver=s,o.transceiver={receiver:s},o.streams=[r.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else Ie(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function Ir(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(i,s){return{track:s,get dtmf(){return this._dtmf===void 0&&(s.kind==="audio"?this._dtmf=i.createDTMFSender(s):this._dtmf=null),this._dtmf},_pc:i}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(a,c){let l=i.apply(this,arguments);return l||(l=e(this,a),this._senders.push(l)),l};const s=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(a){s.apply(this,arguments);const c=this._senders.indexOf(a);c!==-1&&this._senders.splice(c,1)}}const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(s){this._senders=this._senders||[],n.apply(this,[s]),s.getTracks().forEach(o=>{this._senders.push(e(this,o))})};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(s){this._senders=this._senders||[],r.apply(this,[s]),s.getTracks().forEach(o=>{const a=this._senders.find(c=>c.track===o);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const r=e.apply(this,[]);return r.forEach(i=>i._pc=this),r},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function Nr(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[r,i,s]=arguments;if(arguments.length>0&&typeof r=="function")return e.apply(this,arguments);if(e.length===0&&(arguments.length===0||typeof r!="function"))return e.apply(this,[]);const o=function(c){const l={};return c.result().forEach(f=>{const p={id:f.id,timestamp:f.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[f.type]||f.type};f.names().forEach(g=>{p[g]=f.stat(g)}),l[p.id]=p}),l},a=function(c){return new Map(Object.keys(c).map(l=>[l,c[l]]))};if(arguments.length>=2){const c=function(l){i(a(o(l)))};return e.apply(this,[c,r])}return new Promise((c,l)=>{e.apply(this,[function(u){c(a(o(u)))},l])}).then(i,s)}}function Br(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const n=t.RTCPeerConnection.prototype.getSenders;n&&(t.RTCPeerConnection.prototype.getSenders=function(){const s=n.apply(this,[]);return s.forEach(o=>o._pc=this),s});const r=t.RTCPeerConnection.prototype.addTrack;r&&(t.RTCPeerConnection.prototype.addTrack=function(){const s=r.apply(this,arguments);return s._pc=this,s}),t.RTCRtpSender.prototype.getStats=function(){const s=this;return this._pc.getStats().then(o=>Nn(o,s.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const n=t.RTCPeerConnection.prototype.getReceivers;n&&(t.RTCPeerConnection.prototype.getReceivers=function(){const i=n.apply(this,[]);return i.forEach(s=>s._pc=this),i}),Ie(t,"track",r=>(r.receiver._pc=r.srcElement,r)),t.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(s=>Nn(s,i.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const r=arguments[0];let i,s,o;return this.getSenders().forEach(a=>{a.track===r&&(i?o=!0:i=a)}),this.getReceivers().forEach(a=>(a.track===r&&(s?o=!0:s=a),a.track===r)),o||i&&s?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():s?s.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function Fr(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(o,a){if(!a)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const c=e.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(c)===-1&&this._shimmedLocalStreams[a.id].push(c):this._shimmedLocalStreams[a.id]=[a,c],c};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(l=>{if(this.getSenders().find(f=>f.track===l))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();n.apply(this,arguments);const c=this.getSenders().filter(l=>a.indexOf(l)===-1);this._shimmedLocalStreams[o.id]=[o].concat(c)};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],r.apply(this,arguments)};const i=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const c=this._shimmedLocalStreams[a].indexOf(o);c!==-1&&this._shimmedLocalStreams[a].splice(c,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),i.apply(this,arguments)}}function zr(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return Fr(t);const n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const u=n.apply(this);return this._reverseStreams=this._reverseStreams||{},u.map(f=>this._reverseStreams[f.id])};const r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(u){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},u.getTracks().forEach(f=>{if(this.getSenders().find(g=>g.track===f))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[u.id]){const f=new t.MediaStream(u.getTracks());this._streams[u.id]=f,this._reverseStreams[f.id]=u,u=f}r.apply(this,[u])};const i=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(u){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[u.id]||u]),delete this._reverseStreams[this._streams[u.id]?this._streams[u.id].id:u.id],delete this._streams[u.id]},t.RTCPeerConnection.prototype.addTrack=function(u,f){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const p=[].slice.call(arguments,1);if(p.length!==1||!p[0].getTracks().find(m=>m===u))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(m=>m.track===u))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const d=this._streams[f.id];if(d)d.addTrack(u),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const m=new t.MediaStream([u]);this._streams[f.id]=m,this._reverseStreams[m.id]=f,this.addStream(m)}return this.getSenders().find(m=>m.track===u)};function s(l,u){let f=u.sdp;return Object.keys(l._reverseStreams||[]).forEach(p=>{const g=l._reverseStreams[p],d=l._streams[g.id];f=f.replace(new RegExp(d.id,"g"),g.id)}),new RTCSessionDescription({type:u.type,sdp:f})}function o(l,u){let f=u.sdp;return Object.keys(l._reverseStreams||[]).forEach(p=>{const g=l._reverseStreams[p],d=l._streams[g.id];f=f.replace(new RegExp(g.id,"g"),d.id)}),new RTCSessionDescription({type:u.type,sdp:f})}["createOffer","createAnswer"].forEach(function(l){const u=t.RTCPeerConnection.prototype[l],f={[l](){const p=arguments;return arguments.length&&typeof arguments[0]=="function"?u.apply(this,[d=>{const m=s(this,d);p[0].apply(null,[m])},d=>{p[1]&&p[1].apply(null,d)},arguments[2]]):u.apply(this,arguments).then(d=>s(this,d))}};t.RTCPeerConnection.prototype[l]=f[l]});const a=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?a.apply(this,arguments):(arguments[0]=o(this,arguments[0]),a.apply(this,arguments))};const c=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const l=c.get.apply(this);return l.type===""?l:s(this,l)}}),t.RTCPeerConnection.prototype.removeTrack=function(u){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!u._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(u._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let p;Object.keys(this._streams).forEach(g=>{this._streams[g].getTracks().find(m=>u.track===m)&&(p=this._streams[g])}),p&&(p.getTracks().length===1?this.removeStream(this._reverseStreams[p.id]):p.removeTrack(u.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Vt(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=t.RTCPeerConnection.prototype[n],i={[n](){return arguments[0]=new(n==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};t.RTCPeerConnection.prototype[n]=i[n]})}function Ur(t,e){Ie(t,"negotiationneeded",n=>{const r=n.target;if(!((e.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}const Fn=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:Ur,shimAddTrackRemoveTrack:zr,shimAddTrackRemoveTrackWithNative:Fr,shimGetDisplayMedia:So,shimGetSendersWithDtmf:Ir,shimGetStats:Nr,shimGetUserMedia:Lr,shimMediaStream:Mr,shimOnTrack:jr,shimPeerConnection:Vt,shimSenderReceiverGetStats:Br},Symbol.toStringTag,{value:"Module"}));function wr(t,e){const n=t&&t.navigator,r=t&&t.MediaStreamTrack;if(n.getUserMedia=function(i,s,o){ln("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(i).then(s,o)},!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const i=function(o,a,c){a in o&&!(c in o)&&(o[c]=o[a],delete o[a])},s=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(o){return typeof o=="object"&&typeof o.audio=="object"&&(o=JSON.parse(JSON.stringify(o)),i(o.audio,"autoGainControl","mozAutoGainControl"),i(o.audio,"noiseSuppression","mozNoiseSuppression")),s(o)},r&&r.prototype.getSettings){const o=r.prototype.getSettings;r.prototype.getSettings=function(){const a=o.apply(this,arguments);return i(a,"mozAutoGainControl","autoGainControl"),i(a,"mozNoiseSuppression","noiseSuppression"),a}}if(r&&r.prototype.applyConstraints){const o=r.prototype.applyConstraints;r.prototype.applyConstraints=function(a){return this.kind==="audio"&&typeof a=="object"&&(a=JSON.parse(JSON.stringify(a)),i(a,"autoGainControl","mozAutoGainControl"),i(a,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[a])}}}}function To(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return r.video===!0?r.video={mediaSource:e}:r.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(r)})}function Hr(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Gt(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const s=t.RTCPeerConnection.prototype[i],o={[i](){return arguments[0]=new(i==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};t.RTCPeerConnection.prototype[i]=o[i]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[s,o,a]=arguments;return r.apply(this,[s||null]).then(c=>{if(e.version<53&&!o)try{c.forEach(l=>{l.type=n[l.type]||l.type})}catch(l){if(l.name!=="TypeError")throw l;c.forEach((u,f)=>{c.set(f,Object.assign({},u,{type:n[u.type]||u.type}))})}return c}).then(o,a)}}function Vr(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const i=e.apply(this,[]);return i.forEach(s=>s._pc=this),i});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const i=n.apply(this,arguments);return i._pc=this,i}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Gr(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const r=e.apply(this,[]);return r.forEach(i=>i._pc=this),r}),Ie(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Jr(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){ln("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function qr(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function Kr(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const i=r.length>0;i&&r.forEach(o=>{if("rid"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const s=e.apply(this,arguments);if(i){const{sender:o}=s,a=o.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=r,o.sendEncodings=r,this.setParametersPromises.push(o.setParameters(a).then(()=>{delete o.sendEncodings}).catch(()=>{delete o.sendEncodings})))}return s})}function Wr(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const r=e.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function Zr(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function Yr(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const zn=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:Kr,shimCreateAnswer:Yr,shimCreateOffer:Zr,shimGetDisplayMedia:To,shimGetParameters:Wr,shimGetUserMedia:wr,shimOnTrack:Hr,shimPeerConnection:Gt,shimRTCDataChannel:qr,shimReceiverGetStats:Gr,shimRemoveStream:Jr,shimSenderGetStats:Vr},Symbol.toStringTag,{value:"Module"}));function Qr(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(i=>e.call(this,i,r)),r.getVideoTracks().forEach(i=>e.call(this,i,r))},t.RTCPeerConnection.prototype.addTrack=function(r,...i){return i&&i.forEach(s=>{this._localStreams?this._localStreams.includes(s)||this._localStreams.push(s):this._localStreams=[s]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const i=n.getTracks();this.getSenders().forEach(s=>{i.includes(s.track)&&this.removeTrack(s)})})}}function Xr(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const s=new Event("addstream");s.stream=i,this.dispatchEvent(s)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(s=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(s)>=0)return;r._remoteStreams.push(s);const o=new Event("addstream");o.stream=s,r.dispatchEvent(o)})}),e.apply(r,arguments)}}}function $r(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,n=e.createOffer,r=e.createAnswer,i=e.setLocalDescription,s=e.setRemoteDescription,o=e.addIceCandidate;e.createOffer=function(l,u){const f=arguments.length>=2?arguments[2]:arguments[0],p=n.apply(this,[f]);return u?(p.then(l,u),Promise.resolve()):p},e.createAnswer=function(l,u){const f=arguments.length>=2?arguments[2]:arguments[0],p=r.apply(this,[f]);return u?(p.then(l,u),Promise.resolve()):p};let a=function(c,l,u){const f=i.apply(this,[c]);return u?(f.then(l,u),Promise.resolve()):f};e.setLocalDescription=a,a=function(c,l,u){const f=s.apply(this,[c]);return u?(f.then(l,u),Promise.resolve()):f},e.setRemoteDescription=a,a=function(c,l,u){const f=o.apply(this,[c]);return u?(f.then(l,u),Promise.resolve()):f},e.addIceCandidate=a}function ei(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const n=e.mediaDevices,r=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=i=>r(ti(i))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=function(r,i,s){e.mediaDevices.getUserMedia(r).then(i,s)}.bind(e))}function ti(t){return t&&t.video!==void 0?Object.assign({},t,{video:Ar(t.video)}):t}function ni(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(r,i){if(r&&r.iceServers){const s=[];for(let o=0;o<r.iceServers.length;o++){let a=r.iceServers[o];!a.hasOwnProperty("urls")&&a.hasOwnProperty("url")?(ln("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,s.push(a)):s.push(r.iceServers[o])}r.iceServers=s}return new e(r,i)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function ri(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function ii(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const i=this.getTransceivers().find(o=>o.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const s=this.getTransceivers().find(o=>o.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):r.offerToReceiveVideo===!0&&!s&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function si(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}const Un=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:si,shimCallbacksAPI:$r,shimConstraints:ti,shimCreateOfferLegacy:ii,shimGetUserMedia:ei,shimLocalStreamsAPI:Qr,shimRTCIceServerUrls:ni,shimRemoteStreamsAPI:Xr,shimTrackEventTransceiver:ri},Symbol.toStringTag,{value:"Module"}));var xt={},Ro={get exports(){return xt},set exports(t){xt=t}};(function(t){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)},e.localCName=e.generateIdentifier(),e.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},e.splitSections=function(n){return n.split(`
m=`).map((i,s)=>(s>0?"m="+i:i).trim()+`\r
`)},e.getDescription=function(n){const r=e.splitSections(n);return r&&r[0]},e.getMediaSections=function(n){const r=e.splitSections(n);return r.shift(),r},e.matchPrefix=function(n,r){return e.splitLines(n).filter(i=>i.indexOf(r)===0)},e.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const i={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let s=8;s<r.length;s+=2)switch(r[s]){case"raddr":i.relatedAddress=r[s+1];break;case"rport":i.relatedPort=parseInt(r[s+1],10);break;case"tcptype":i.tcpType=r[s+1];break;case"ufrag":i.ufrag=r[s+1],i.usernameFragment=r[s+1];break;default:i[r[s]]===void 0&&(i[r[s]]=r[s+1]);break}return i},e.writeCandidate=function(n){const r=[];r.push(n.foundation);const i=n.component;i==="rtp"?r.push(1):i==="rtcp"?r.push(2):r.push(i),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const s=n.type;return r.push("typ"),r.push(s),s!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},e.parseIceOptions=function(n){return n.substr(14).split(" ")},e.parseRtpMap=function(n){let r=n.substr(9).split(" ");const i={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),i.name=r[0],i.clockRate=parseInt(r[1],10),i.channels=r.length===3?parseInt(r[2],10):1,i.numChannels=i.channels,i},e.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const i=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(i!==1?"/"+i:"")+`\r
`},e.parseExtmap=function(n){const r=n.substr(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1]}},e.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+`\r
`},e.parseFmtp=function(n){const r={};let i;const s=n.substr(n.indexOf(" ")+1).split(";");for(let o=0;o<s.length;o++)i=s[o].trim().split("="),r[i[0].trim()]=i[1];return r},e.writeFmtp=function(n){let r="",i=n.payloadType;if(n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const s=[];Object.keys(n.parameters).forEach(o=>{n.parameters[o]!==void 0?s.push(o+"="+n.parameters[o]):s.push(o)}),r+="a=fmtp:"+i+" "+s.join(";")+`\r
`}return r},e.parseRtcpFb=function(n){const r=n.substr(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},e.writeRtcpFb=function(n){let r="",i=n.payloadType;return n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(s=>{r+="a=rtcp-fb:"+i+" "+s.type+(s.parameter&&s.parameter.length?" "+s.parameter:"")+`\r
`}),r},e.parseSsrcMedia=function(n){const r=n.indexOf(" "),i={ssrc:parseInt(n.substr(7,r-7),10)},s=n.indexOf(":",r);return s>-1?(i.attribute=n.substr(r+1,s-r-1),i.value=n.substr(s+1)):i.attribute=n.substr(r+1),i},e.parseSsrcGroup=function(n){const r=n.substr(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(i=>parseInt(i,10))}},e.getMid=function(n){const r=e.matchPrefix(n,"a=mid:")[0];if(r)return r.substr(6)},e.parseFingerprint=function(n){const r=n.substr(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},e.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:e.matchPrefix(n+r,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(n,r){let i="a=setup:"+r+`\r
`;return n.fingerprints.forEach(s=>{i+="a=fingerprint:"+s.algorithm+" "+s.value+`\r
`}),i},e.parseCryptoLine=function(n){const r=n.substr(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},e.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?e.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substr(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},e.getCryptoParameters=function(n,r){return e.matchPrefix(n+r,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(n,r){const i=e.matchPrefix(n+r,"a=ice-ufrag:")[0],s=e.matchPrefix(n+r,"a=ice-pwd:")[0];return i&&s?{usernameFragment:i.substr(12),password:s.substr(10)}:null},e.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},e.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},s=e.splitLines(n)[0].split(" ");for(let o=3;o<s.length;o++){const a=s[o],c=e.matchPrefix(n,"a=rtpmap:"+a+" ")[0];if(c){const l=e.parseRtpMap(c),u=e.matchPrefix(n,"a=fmtp:"+a+" ");switch(l.parameters=u.length?e.parseFmtp(u[0]):{},l.rtcpFeedback=e.matchPrefix(n,"a=rtcp-fb:"+a+" ").map(e.parseRtcpFb),r.codecs.push(l),l.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(l.name.toUpperCase());break}}}return e.matchPrefix(n,"a=extmap:").forEach(o=>{r.headerExtensions.push(e.parseExtmap(o))}),r},e.writeRtpDescription=function(n,r){let i="";i+="m="+n+" ",i+=r.codecs.length>0?"9":"0",i+=" UDP/TLS/RTP/SAVPF ",i+=r.codecs.map(o=>o.preferredPayloadType!==void 0?o.preferredPayloadType:o.payloadType).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(o=>{i+=e.writeRtpMap(o),i+=e.writeFmtp(o),i+=e.writeRtcpFb(o)});let s=0;return r.codecs.forEach(o=>{o.maxptime>s&&(s=o.maxptime)}),s>0&&(i+="a=maxptime:"+s+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(o=>{i+=e.writeExtmap(o)}),i},e.parseRtpEncodingParameters=function(n){const r=[],i=e.parseRtpParameters(n),s=i.fecMechanisms.indexOf("RED")!==-1,o=i.fecMechanisms.indexOf("ULPFEC")!==-1,a=e.matchPrefix(n,"a=ssrc:").map(p=>e.parseSsrcMedia(p)).filter(p=>p.attribute==="cname"),c=a.length>0&&a[0].ssrc;let l;const u=e.matchPrefix(n,"a=ssrc-group:FID").map(p=>p.substr(17).split(" ").map(d=>parseInt(d,10)));u.length>0&&u[0].length>1&&u[0][0]===c&&(l=u[0][1]),i.codecs.forEach(p=>{if(p.name.toUpperCase()==="RTX"&&p.parameters.apt){let g={ssrc:c,codecPayloadType:parseInt(p.parameters.apt,10)};c&&l&&(g.rtx={ssrc:l}),r.push(g),s&&(g=JSON.parse(JSON.stringify(g)),g.fec={ssrc:c,mechanism:o?"red+ulpfec":"red"},r.push(g))}}),r.length===0&&c&&r.push({ssrc:c});let f=e.matchPrefix(n,"b=");return f.length&&(f[0].indexOf("b=TIAS:")===0?f=parseInt(f[0].substr(7),10):f[0].indexOf("b=AS:")===0?f=parseInt(f[0].substr(5),10)*1e3*.95-50*40*8:f=void 0,r.forEach(p=>{p.maxBitrate=f})),r},e.parseRtcpParameters=function(n){const r={},i=e.matchPrefix(n,"a=ssrc:").map(a=>e.parseSsrcMedia(a)).filter(a=>a.attribute==="cname")[0];i&&(r.cname=i.value,r.ssrc=i.ssrc);const s=e.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=s.length>0,r.compound=s.length===0;const o=e.matchPrefix(n,"a=rtcp-mux");return r.mux=o.length>0,r},e.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},e.parseMsid=function(n){let r;const i=e.matchPrefix(n,"a=msid:");if(i.length===1)return r=i[0].substr(7).split(" "),{stream:r[0],track:r[1]};const s=e.matchPrefix(n,"a=ssrc:").map(o=>e.parseSsrcMedia(o)).filter(o=>o.attribute==="msid");if(s.length>0)return r=s[0].value.split(" "),{stream:r[0],track:r[1]}},e.parseSctpDescription=function(n){const r=e.parseMLine(n),i=e.matchPrefix(n,"a=max-message-size:");let s;i.length>0&&(s=parseInt(i[0].substr(19),10)),isNaN(s)&&(s=65536);const o=e.matchPrefix(n,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substr(12),10),protocol:r.fmt,maxMessageSize:s};const a=e.matchPrefix(n,"a=sctpmap:");if(a.length>0){const c=a[0].substr(10).split(" ");return{port:parseInt(c[0],10),protocol:c[1],maxMessageSize:s}}},e.writeSctpDescription=function(n,r){let i=[];return n.protocol!=="DTLS/SCTP"?i=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:i=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&i.push("a=max-message-size:"+r.maxMessageSize+`\r
`),i.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,21)},e.writeSessionBoilerplate=function(n,r,i){let s;const o=r!==void 0?r:2;return n?s=n:s=e.generateSessionId(),`v=0\r
o=`+(i||"thisisadapterortc")+" "+s+" "+o+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(n,r){const i=e.splitLines(n);for(let s=0;s<i.length;s++)switch(i[s]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[s].substr(2)}return r?e.getDirection(r):"sendrecv"},e.getKind=function(n){return e.splitLines(n)[0].split(" ")[0].substr(2)},e.isRejected=function(n){return n.split(" ",2)[1]==="0"},e.parseMLine=function(n){const i=e.splitLines(n)[0].substr(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},e.parseOLine=function(n){const i=e.matchPrefix(n,"o=")[0].substr(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},e.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=e.splitLines(n);for(let i=0;i<r.length;i++)if(r[i].length<2||r[i].charAt(1)!=="=")return!1;return!0},t.exports=e})(Ro);const Ue=xt,ko=ai({__proto__:null,default:Ue},[xt]);function yt(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substr(2)),r.candidate&&r.candidate.length){const i=new e(r),s=Ue.parseCandidate(r.candidate),o=Object.assign(i,s);return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new e(r)},t.RTCIceCandidate.prototype=e.prototype,Ie(t,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new t.RTCIceCandidate(n.candidate),writable:"false"}),n))}function Jt(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||Ie(t,"icecandidate",e=>{if(e.candidate){const n=Ue.parseCandidate(e.candidate.candidate);n.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return e})}function _t(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(a){if(!a||!a.sdp)return!1;const c=Ue.splitSections(a.sdp);return c.shift(),c.some(l=>{const u=Ue.parseMLine(l);return u&&u.kind==="application"&&u.protocol.indexOf("SCTP")!==-1})},r=function(a){const c=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(c===null||c.length<2)return-1;const l=parseInt(c[1],10);return l!==l?-1:l},i=function(a){let c=65536;return e.browser==="firefox"&&(e.version<57?a===-1?c=16384:c=2147483637:e.version<60?c=e.version===57?65535:65536:c=2147483637),c},s=function(a,c){let l=65536;e.browser==="firefox"&&e.version===57&&(l=65535);const u=Ue.matchPrefix(a.sdp,"a=max-message-size:");return u.length>0?l=parseInt(u[0].substr(19),10):e.browser==="firefox"&&c!==-1&&(l=2147483637),l},o=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:c}=this.getConfiguration();c==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const c=r(arguments[0]),l=i(c),u=s(arguments[0],c);let f;l===0&&u===0?f=Number.POSITIVE_INFINITY:l===0||u===0?f=Math.max(l,u):f=Math.min(l,u);const p={};Object.defineProperty(p,"maxMessageSize",{get(){return f}}),this._sctp=p}return o.apply(this,arguments)}}function Ct(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(r,i){const s=r.send;r.send=function(){const a=arguments[0],c=a.length||a.size||a.byteLength;if(r.readyState==="open"&&i.sctp&&c>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return s.apply(r,arguments)}}const n=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const i=n.apply(this,arguments);return e(i,this),i},Ie(t,"datachannel",r=>(e(r.channel,r.target),r))}function qt(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=e[n];e[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const s=i.target;if(s._lastConnectionState!==s.connectionState){s._lastConnectionState=s.connectionState;const o=new Event("connectionstatechange",i);s.dispatchEvent(o)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function Kt(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e.version>=605)return;const n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const s=i.sdp.split(`
`).filter(o=>o.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&i instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:i.type,sdp:s}):i.sdp=s}return n.apply(this,arguments)}}function vt(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function bt(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let i=arguments[0]||{};if(typeof i!="object"||i.type&&i.sdp)return n.apply(this,arguments);if(i={type:i.type,sdp:i.sdp},!i.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":i.type="offer";break;default:i.type="answer";break}return i.sdp||i.type!=="offer"&&i.type!=="answer"?n.apply(this,[i]):(i.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(o=>n.apply(this,[o]))})}const Eo=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Kt,shimAddIceCandidateNullOrEmpty:vt,shimConnectionState:qt,shimMaxMessageSize:_t,shimParameterlessSetLocalDescription:bt,shimRTCIceCandidate:yt,shimRTCIceCandidateRelayProtocol:Jt,shimSendThrowTypeError:Ct},Symbol.toStringTag,{value:"Module"}));function Po({window:t}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=Dr,r=bo(t),i={browserDetails:r,commonShim:Eo,extractVersion:gt,disableLog:Co,disableWarnings:vo,sdp:ko};switch(r.browser){case"chrome":if(!Fn||!Vt||!e.shimChrome)return n("Chrome shim is not included in this adapter release."),i;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),i;n("adapter.js shimming chrome."),i.browserShim=Fn,vt(t,r),bt(t),Lr(t,r),Mr(t),Vt(t,r),jr(t),zr(t,r),Ir(t),Nr(t),Br(t),Ur(t,r),yt(t),Jt(t),qt(t),_t(t,r),Ct(t),Kt(t,r);break;case"firefox":if(!zn||!Gt||!e.shimFirefox)return n("Firefox shim is not included in this adapter release."),i;n("adapter.js shimming firefox."),i.browserShim=zn,vt(t,r),bt(t),wr(t,r),Gt(t,r),Hr(t),Jr(t),Vr(t),Gr(t),qr(t),Kr(t),Wr(t),Zr(t),Yr(t),yt(t),qt(t),_t(t,r),Ct(t);break;case"safari":if(!Un||!e.shimSafari)return n("Safari shim is not included in this adapter release."),i;n("adapter.js shimming safari."),i.browserShim=Un,vt(t,r),bt(t),ni(t),ii(t),$r(t),Qr(t),Xr(t),ri(t),ei(t),si(t),yt(t),Jt(t),_t(t,r),Ct(t),Kt(t,r);break;default:n("Unsupported browser!");break}return i}Po({window:typeof window>"u"?void 0:window});const Oo=""+new URL("call-f22f1bb3.svg",import.meta.url).href;function xo(t){let e,n,r,i,s,o,a,c,l,u;return{c(){e=C("p"),e.textContent="Sit tight! We're connecting you...",n=S(),r=C("img"),s=S(),o=C("div"),a=S(),c=C("div"),l=S(),u=C("div"),h(e,"class","callText svelte-10490zr"),Qn(r.src,i=Oo)||h(r,"src",i),h(r,"class","calling svelte-10490zr"),h(r,"width","20%"),h(r,"height","20%"),h(o,"class","callDot one svelte-10490zr"),h(c,"class","callDot two svelte-10490zr"),h(u,"class","callDot three svelte-10490zr")},m(f,p){E(f,e,p),E(f,n,p),E(f,r,p),E(f,s,p),E(f,o,p),E(f,a,p),E(f,c,p),E(f,l,p),E(f,u,p)},p:x,i:x,o:x,d(f){f&&T(e),f&&T(n),f&&T(r),f&&T(s),f&&T(o),f&&T(a),f&&T(c),f&&T(l),f&&T(u)}}}class Do extends Z{constructor(e){super(),W(this,e,null,xo,q,{})}}function wn(t,e,n){const r=t.slice();return r[44]=e[n],r}function Hn(t){let e,n=t[0].name+"",r;return{c(){e=C("span"),r=J(n),h(e,"class","svelte-w5h1s0")},m(i,s){E(i,e,s),y(e,r)},p(i,s){s[0]&1&&n!==(n=i[0].name+"")&&Ce(r,n)},d(i){i&&T(e)}}}function Ao(t){let e,n;return e=new Do({}),{c(){H(e.$$.fragment)},m(r,i){U(e,r,i),n=!0},i(r){n||(R(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){w(e,r)}}}function Lo(t){let e;return{c(){e=C("span"),e.textContent="Video Disabled",h(e,"class","videoDisabled svelte-w5h1s0")},m(n,r){E(n,e,r)},i:x,o:x,d(n){n&&T(e)}}}function Vn(t){let e,n=t[1].name+"",r;return{c(){e=C("span"),r=J(n),h(e,"class","svelte-w5h1s0")},m(i,s){E(i,e,s),y(e,r)},p(i,s){s[0]&2&&n!==(n=i[1].name+"")&&Ce(r,n)},d(i){i&&T(e)}}}function Mo(t){let e;return{c(){e=J("Enable video")},m(n,r){E(n,e,r)},d(n){n&&T(e)}}}function jo(t){let e;return{c(){e=J("Disable video")},m(n,r){E(n,e,r)},d(n){n&&T(e)}}}function Io(t){let e;return{c(){e=J("Enable audio")},m(n,r){E(n,e,r)},d(n){n&&T(e)}}}function No(t){let e;return{c(){e=J("Disable audio")},m(n,r){E(n,e,r)},d(n){n&&T(e)}}}function Gn(t){let e,n,r=t[44].time.toLocaleTimeString()+"",i,s,o=t[44].text+"",a;return{c(){e=C("div"),n=C("span"),i=J(r),s=S(),a=J(o),h(n,"class","svelte-w5h1s0"),h(e,"class","svelte-w5h1s0")},m(c,l){E(c,e,l),y(e,n),y(n,i),y(e,s),y(e,a)},p(c,l){l[0]&32&&r!==(r=c[44].time.toLocaleTimeString()+"")&&Ce(i,r),l[0]&32&&o!==(o=c[44].text+"")&&Ce(a,o)},d(c){c&&T(e)}}}function Bo(t){let e,n,r,i,s=!t[0].name.includes("default-name-"),o,a,c,l,u,f,p,g,d,m,_,P,D,b,O,L,I,K,Q,M,V,F,ee,G,oe,ae,Oe,X,me,Ge,nt,B=s&&Hn(t);const ve=[Lo,Ao],fe=[];function rt(N,de){return N[6]?0:1}u=rt(t),f=fe[u]=ve[u](t);let ie=t[1].name&&Vn(t);function it(N,de){return N[2]?jo:Mo}let Ne=it(t),ge=Ne(t);function st(N,de){return N[3]?No:Io}let k=st(t),j=k(t),Y=t[5],te=[];for(let N=0;N<Y.length;N+=1)te[N]=Gn(wn(t,Y,N));return{c(){e=C("main"),n=C("div"),r=C("span"),r.textContent="Video Disabled",i=S(),B&&B.c(),o=S(),a=C("video"),c=S(),l=C("div"),f.c(),p=S(),ie&&ie.c(),g=S(),d=C("video"),m=S(),_=C("div"),P=C("button"),ge.c(),D=S(),b=C("button"),O=J("Hang up"),I=S(),K=C("button"),j.c(),Q=S(),M=C("div"),V=C("h2"),V.textContent="Chat",F=S(),ee=C("div");for(let N=0;N<te.length;N+=1)te[N].c();G=S(),oe=C("div"),ae=C("input"),Oe=S(),X=C("button"),X.textContent="send",h(r,"class","videoDisabled svelte-w5h1s0"),a.autoplay=!0,a.muted=!0,h(a,"class","svelte-w5h1s0"),h(n,"class","myWindow svelte-w5h1s0"),d.autoplay=!0,h(d,"class","svelte-w5h1s0"),St(b,"background-color","red"),b.disabled=L=!t[4],h(_,"class","videoActions svelte-w5h1s0"),h(l,"class","theirWindow svelte-w5h1s0"),h(V,"class","svelte-w5h1s0"),h(ee,"class","chatScrollable svelte-w5h1s0"),h(ae,"placeholder","Send a message..."),h(ae,"type","text"),h(ae,"class","svelte-w5h1s0"),h(oe,"class","chatInputBox svelte-w5h1s0"),h(M,"class","chat svelte-w5h1s0"),h(e,"class","videoCall svelte-w5h1s0")},m(N,de){E(N,e,de),y(e,n),y(n,r),y(n,i),B&&B.m(n,null),y(n,o),y(n,a),t[14](a),y(e,c),y(e,l),fe[u].m(l,null),y(l,p),ie&&ie.m(l,null),y(l,g),y(l,d),t[15](d),y(l,m),y(l,_),y(_,P),ge.m(P,null),y(_,D),y(_,b),y(b,O),y(_,I),y(_,K),j.m(K,null),y(e,Q),y(e,M),y(M,V),y(M,F),y(M,ee);for(let xe=0;xe<te.length;xe+=1)te[xe].m(ee,null);y(M,G),y(M,oe),y(oe,ae),dn(ae,t[9]),y(oe,Oe),y(oe,X),me=!0,Ge||(nt=[ne(P,"click",t[16]),ne(b,"click",t[11]),ne(K,"click",t[17]),ne(ae,"input",t[18]),ne(X,"click",t[19])],Ge=!0)},p(N,de){de[0]&1&&(s=!N[0].name.includes("default-name-")),s?B?B.p(N,de):(B=Hn(N),B.c(),B.m(n,o)):B&&(B.d(1),B=null);let xe=u;if(u=rt(N),u!==xe&&(le(),A(fe[xe],1,1,()=>{fe[xe]=null}),ue(),f=fe[u],f||(f=fe[u]=ve[u](N),f.c()),R(f,1),f.m(l,p)),N[1].name?ie?ie.p(N,de):(ie=Vn(N),ie.c(),ie.m(l,g)):ie&&(ie.d(1),ie=null),Ne!==(Ne=it(N))&&(ge.d(1),ge=Ne(N),ge&&(ge.c(),ge.m(P,null))),(!me||de[0]&16&&L!==(L=!N[4]))&&(b.disabled=L),k!==(k=st(N))&&(j.d(1),j=k(N),j&&(j.c(),j.m(K,null))),de[0]&32){Y=N[5];let pe;for(pe=0;pe<Y.length;pe+=1){const un=wn(N,Y,pe);te[pe]?te[pe].p(un,de):(te[pe]=Gn(un),te[pe].c(),te[pe].m(ee,null))}for(;pe<te.length;pe+=1)te[pe].d(1);te.length=Y.length}de[0]&512&&ae.value!==N[9]&&dn(ae,N[9])},i(N){me||(R(f),me=!0)},o(N){A(f),me=!1},d(N){N&&T(e),B&&B.d(),t[14](null),fe[u].d(),ie&&ie.d(),t[15](null),ge.d(),j.d(),$e(te,N),Ge=!1,he(nt)}}}function Fo(t){}async function lt(t,e){if(!t&&!e)return null;let n={audio:t,video:e?{aspectRatio:{ideal:.5625,max:1}}:!1};return await navigator.mediaDevices.getUserMedia(n)}function zo(t,e,n){let{userData:r}=e,{targetData:i}=e,{defaults:s={video:!0,audio:!0}}=e,{onHangup:o}=e,a=!1,c=s.video,l=s.audio,u=[],f,p,g=r.id,d=i.id,m=null;function _(k){var j=JSON.stringify(k);p.send(j)}function P(){_({name:r.id,date:Date.now(),id:f,type:"username"})}ir(()=>{D(),setTimeout(()=>{m||F()},3e4)}),Xt(()=>{m&&m.close(),p&&p.close()});function D(){p=new WebSocket(Zs,"json"),p.onopen=function(k){n(4,a=!0),lt(l,c).then(j=>n(7,B.srcObject=j,B))},p.onerror=function(k){console.dir(k)},p.onmessage=function(k){let j=JSON.parse(k.data),Y={time:new Date(j.date),text:""};switch(j.type){case"id":f=j.id,P();break;case"username":break;case"message":Y.text=`${j.name===r.id?r.name.includes("default-name-")?"You":r.name:i.name||"Them"}: ${j.text}`;break;case"rejectusername":g=j.name,Y.text="Your username has been set to "+g+"because the name you chose is in use.";break;case"userlist":V(j);break;case"video-offer":ae(j);break;case"video-answer":Oe(j);break;case"new-ice-candidate":X(j);break;case"hang-up":ee();break;default:console.error("Unknown message received.",j)}Y.text.length&&n(5,u=[...u,Y])}}function b(k){var j={text:k,type:"message",id:f,date:Date.now()};_(j)}async function O(){n(6,m=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"}]})),n(6,m.onicecandidate=K,m),n(6,m.oniceconnectionstatechange=Q,m),n(6,m.onicegatheringstatechange=Fo,m),n(6,m.onsignalingstatechange=M,m),n(6,m.onnegotiationneeded=L,m),n(6,m.ontrack=I,m)}async function L(){try{const k=await m.createOffer();if(m.signalingState!="stable")return;await m.setLocalDescription(k),_({name:g,target:d,type:"video-offer",sdp:m.localDescription})}catch(k){reportError(k)}}function I(k){try{ve&&n(8,ve.srcObject=k.streams[0].active?k.streams[0]:null,ve)}catch{console.warn("Can't set video right now...")}n(4,a=!0)}function K(k){k.candidate&&_({type:"new-ice-candidate",target:d,candidate:k.candidate})}function Q(k){switch(m.iceConnectionState){case"failed":case"closed":case"disconnected":F();break}}function M(k){switch(m.signalingState){case"closed":F();break}}function V(k){k.users.includes(d)&&oe(d)}function F(){m&&(n(6,m.ontrack=null,m),n(6,m.onnicecandidate=null,m),n(6,m.oniceconnectionstatechange=null,m),n(6,m.onsignalingstatechange=null,m),n(6,m.onicegatheringstatechange=null,m),n(6,m.onnotificationneeded=null,m),m.getTransceivers().forEach(k=>k.stop()),m.close(),n(6,m=null)),B.srcObject&&(B.srcObject.getTracks().forEach(k=>{k.stop()}),n(7,B.srcObject=null,B)),o(),n(4,a=!1),d=null}function ee(k){F()}function G(){_({name:g,target:d,type:"hang-up"}),F()}async function oe(k){if(m)m.close(),n(6,m=null);else{var j=k;if(j===g){alert("I'm afraid I can't let you talk to yourself. That would be weird.");return}if(d=j,O(),console.log(m),B)try{n(7,B.srcObject=await lt(l,c),B),B.srcObject.getTracks().forEach(Y=>m.addTransceiver(Y,{streams:[B.srcObject]}))}catch(Y){me(Y);return}}}async function ae(k){d=k.name,m||O();var j=new RTCSessionDescription(k.sdp);if(m.signalingState!="stable"){await Promise.all([m.setLocalDescription({type:"rollback"}),m.setRemoteDescription(j)]);return}else await m.setRemoteDescription(j);if(!B.srcObject){let Y=await lt(l,c);B&&n(7,B.srcObject=Y,B);try{Y&&Y.getTracks().forEach(te=>m.addTransceiver(te,{streams:[Y]}))}catch(te){me(te)}}await m.setLocalDescription(await m.createAnswer()),_({name:g,target:d,type:"video-answer",sdp:m.localDescription})}async function Oe(k){var j=new RTCSessionDescription(k.sdp);await m.setRemoteDescription(j).catch(reportError)}async function X(k){var j=new RTCIceCandidate(k.candidate);try{await m.addIceCandidate(j)}catch(Y){reportError(Y)}}function me(k){switch(k.name){case"NotFoundError":alert("Unable to open your call because no camera and/or microphonewere found.");break;case"SecurityError":case"PermissionDeniedError":break;default:throw k}console.log(k),F()}function Ge(){lt(l,c).then(k=>{console.log(m.getTransceivers()),m.getTransceivers().forEach(j=>{j.mid!==null&&j.sender.track&&(j.sender.track.stop(),j.stop())}),n(7,B.srcObject=k,B),k&&k.getTracks().forEach(j=>{j.enabled=!0,m.addTransceiver(j,{streams:[k]})})}).catch(me)}const nt=()=>B&&m;let B,ve,fe;function rt(k){Ye[k?"unshift":"push"](()=>{B=k,n(7,B),n(2,c),n(3,l)})}function ie(k){Ye[k?"unshift":"push"](()=>{ve=k,n(8,ve)})}const it=()=>n(2,c=!c),Ne=()=>n(3,l=!l);function ge(){fe=this.value,n(9,fe)}const st=()=>{b(fe),n(9,fe="")};return t.$$set=k=>{"userData"in k&&n(0,r=k.userData),"targetData"in k&&n(1,i=k.targetData),"defaults"in k&&n(12,s=k.defaults),"onHangup"in k&&n(13,o=k.onHangup)},t.$$.update=()=>{t.$$.dirty[0]&12&&nt()&&(c||n(7,B.srcObject=null,B),Ge())},[r,i,c,l,a,u,m,B,ve,fe,b,G,s,o,rt,ie,it,Ne,ge,st]}class oi extends Z{constructor(e){super(),W(this,e,zo,Bo,q,{userData:0,targetData:1,defaults:12,onHangup:13},null,[-1,-1])}}function Uo(t){let e,n;return{c(){e=re("svg"),n=re("path"),h(n,"d","M6.62,10.79C8.06,13.62 10.38,15.94 13.21,17.38L15.41,15.18C15.69,14.9 16.08,14.82 16.43,14.93C17.55,15.3 18.75,15.5 20,15.5A1,1 0 0,1 21,16.5V20A1,1 0 0,1 20,21A17,17 0 0,1 3,4A1,1 0 0,1 4,3H7.5A1,1 0 0,1 8.5,4C8.5,5.25 8.7,6.45 9.07,7.57C9.18,7.92 9.1,8.31 8.82,8.59L6.62,10.79Z"),h(n,"fill",t[2]),h(e,"width",t[0]),h(e,"height",t[1]),h(e,"viewBox",t[3])},m(r,i){E(r,e,i),y(e,n)},p(r,[i]){i&4&&h(n,"fill",r[2]),i&1&&h(e,"width",r[0]),i&2&&h(e,"height",r[1]),i&8&&h(e,"viewBox",r[3])},i:x,o:x,d(r){r&&T(e)}}}function wo(t,e,n){let{size:r="1em"}=e,{width:i=r}=e,{height:s=r}=e,{color:o="currentColor"}=e,{viewBox:a="0 0 24 24"}=e;return t.$$set=c=>{"size"in c&&n(4,r=c.size),"width"in c&&n(0,i=c.width),"height"in c&&n(1,s=c.height),"color"in c&&n(2,o=c.color),"viewBox"in c&&n(3,a=c.viewBox)},[i,s,o,a,r]}class Ho extends Z{constructor(e){super(),W(this,e,wo,Uo,q,{size:4,width:0,height:1,color:2,viewBox:3})}}function Vo(t){let e,n;return{c(){e=re("svg"),n=re("path"),h(n,"d","M12,9C10.4,9 8.85,9.25 7.4,9.72V12.82C7.4,13.22 7.17,13.56 6.84,13.72C5.86,14.21 4.97,14.84 4.17,15.57C4,15.75 3.75,15.86 3.5,15.86C3.2,15.86 2.95,15.74 2.77,15.56L0.29,13.08C0.11,12.9 0,12.65 0,12.38C0,12.1 0.11,11.85 0.29,11.67C3.34,8.77 7.46,7 12,7C16.54,7 20.66,8.77 23.71,11.67C23.89,11.85 24,12.1 24,12.38C24,12.65 23.89,12.9 23.71,13.08L21.23,15.56C21.05,15.74 20.8,15.86 20.5,15.86C20.25,15.86 20,15.75 19.82,15.57C19.03,14.84 18.14,14.21 17.16,13.72C16.83,13.56 16.6,13.22 16.6,12.82V9.72C15.15,9.25 13.6,9 12,9Z"),h(n,"fill",t[2]),h(e,"width",t[0]),h(e,"height",t[1]),h(e,"viewBox",t[3])},m(r,i){E(r,e,i),y(e,n)},p(r,[i]){i&4&&h(n,"fill",r[2]),i&1&&h(e,"width",r[0]),i&2&&h(e,"height",r[1]),i&8&&h(e,"viewBox",r[3])},i:x,o:x,d(r){r&&T(e)}}}function Go(t,e,n){let{size:r="1em"}=e,{width:i=r}=e,{height:s=r}=e,{color:o="currentColor"}=e,{viewBox:a="0 0 24 24"}=e;return t.$$set=c=>{"size"in c&&n(4,r=c.size),"width"in c&&n(0,i=c.width),"height"in c&&n(1,s=c.height),"color"in c&&n(2,o=c.color),"viewBox"in c&&n(3,a=c.viewBox)},[i,s,o,a,r]}class Jo extends Z{constructor(e){super(),W(this,e,Go,Vo,q,{size:4,width:0,height:1,color:2,viewBox:3})}}function qo(t){let e,n;return{c(){e=re("svg"),n=re("path"),h(n,"d","M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z"),h(n,"fill",t[2]),h(e,"width",t[0]),h(e,"height",t[1]),h(e,"viewBox",t[3])},m(r,i){E(r,e,i),y(e,n)},p(r,[i]){i&4&&h(n,"fill",r[2]),i&1&&h(e,"width",r[0]),i&2&&h(e,"height",r[1]),i&8&&h(e,"viewBox",r[3])},i:x,o:x,d(r){r&&T(e)}}}function Ko(t,e,n){let{size:r="1em"}=e,{width:i=r}=e,{height:s=r}=e,{color:o="currentColor"}=e,{viewBox:a="0 0 24 24"}=e;return t.$$set=c=>{"size"in c&&n(4,r=c.size),"width"in c&&n(0,i=c.width),"height"in c&&n(1,s=c.height),"color"in c&&n(2,o=c.color),"viewBox"in c&&n(3,a=c.viewBox)},[i,s,o,a,r]}class Wo extends Z{constructor(e){super(),W(this,e,Ko,qo,q,{size:4,width:0,height:1,color:2,viewBox:3})}}function Zo(t){let e,n;return{c(){e=re("svg"),n=re("path"),h(n,"d","M18.73,18C15.4,21.69 9.71,22 6,18.64C2.33,15.31 2.04,9.62 5.37,5.93C6.9,4.25 9,3.2 11.27,3C7.96,6.7 8.27,12.39 12,15.71C13.63,17.19 15.78,18 18,18C18.25,18 18.5,18 18.73,18Z"),h(n,"fill",t[2]),h(e,"width",t[0]),h(e,"height",t[1]),h(e,"viewBox",t[3])},m(r,i){E(r,e,i),y(e,n)},p(r,[i]){i&4&&h(n,"fill",r[2]),i&1&&h(e,"width",r[0]),i&2&&h(e,"height",r[1]),i&8&&h(e,"viewBox",r[3])},i:x,o:x,d(r){r&&T(e)}}}function Yo(t,e,n){let{size:r="1em"}=e,{width:i=r}=e,{height:s=r}=e,{color:o="currentColor"}=e,{viewBox:a="0 0 24 24"}=e;return t.$$set=c=>{"size"in c&&n(4,r=c.size),"width"in c&&n(0,i=c.width),"height"in c&&n(1,s=c.height),"color"in c&&n(2,o=c.color),"viewBox"in c&&n(3,a=c.viewBox)},[i,s,o,a,r]}class Qo extends Z{constructor(e){super(),W(this,e,Yo,Zo,q,{size:4,width:0,height:1,color:2,viewBox:3})}}function Xo(t){let e,n,r,i,s,o,a,c;return a=new Qo({}),{c(){e=C("div"),n=C("h2"),n.textContent="No clients",r=S(),i=C("p"),i.textContent="When someone calls, they'll show up here.",s=S(),o=C("span"),H(a.$$.fragment),h(n,"class","svelte-712ti"),h(i,"class","svelte-712ti"),h(o,"class","svelte-712ti"),h(e,"class","noClients svelte-712ti")},m(l,u){E(l,e,u),y(e,n),y(e,r),y(e,i),y(e,s),y(e,o),U(a,o,null),c=!0},p:x,i(l){c||(R(a.$$.fragment,l),c=!0)},o(l){A(a.$$.fragment,l),c=!1},d(l){l&&T(e),w(a)}}}class $o extends Z{constructor(e){super(),W(this,e,null,Xo,q,{})}}function Jn(t,e,n){const r=t.slice();return r[11]=e[n],r}function qn(t,e,n){const r=t.slice();return r[14]=e[n],r}function ea(t){let e,n=t[11].similarity+"",r,i,s=t[11].similarityMax+"",o;return{c(){e=J("Similarity "),r=J(n),i=J("%/"),o=J(s)},m(a,c){E(a,e,c),E(a,r,c),E(a,i,c),E(a,o,c)},p(a,c){c&10&&n!==(n=a[11].similarity+"")&&Ce(r,n),c&10&&s!==(s=a[11].similarityMax+"")&&Ce(o,s)},d(a){a&&T(e),a&&T(r),a&&T(i),a&&T(o)}}}function ta(t){let e;return{c(){e=J("Unsure of match")},m(n,r){E(n,e,r)},p:x,d(n){n&&T(e)}}}function Kn(t){let e,n=t[14].name+"",r,i;return{c(){e=C("div"),r=J(n),i=S(),h(e,"class","attribute svelte-6ys5wm")},m(s,o){E(s,e,o),y(e,r),y(e,i)},p(s,o){o&10&&n!==(n=s[14].name+"")&&Ce(r,n)},d(s){s&&T(e)}}}function Wn(t){let e,n,r,i,s,o,a,c,l,u,f,p,g,d,m,_,P;function D(M,V){return M[11].similarityMax===0?ta:ea}let b=D(t),O=b(t),L=t[11].attributes,I=[];for(let M=0;M<L.length;M+=1)I[M]=Kn(qn(t,L,M));f=new Ho({});function K(){return t[8](t[11])}d=new Jo({});function Q(){return t[9](t[11])}return{c(){e=C("div"),n=C("h3"),r=J(`Client
                    `),i=C("br"),s=S(),o=C("span"),O.c(),a=S(),c=C("div");for(let M=0;M<I.length;M+=1)I[M].c();l=S(),u=C("button"),H(f.$$.fragment),p=S(),g=C("button"),H(d.$$.fragment),h(o,"class","svelte-6ys5wm"),h(c,"class","attributes svelte-6ys5wm"),h(u,"class","acceptCall svelte-6ys5wm"),h(g,"class","dismissCall svelte-6ys5wm"),h(e,"class","client svelte-6ys5wm")},m(M,V){E(M,e,V),y(e,n),y(n,r),y(n,i),y(n,s),y(n,o),O.m(o,null),y(e,a),y(e,c);for(let F=0;F<I.length;F+=1)I[F].m(c,null);y(e,l),y(e,u),U(f,u,null),y(e,p),y(e,g),U(d,g,null),m=!0,_||(P=[ne(u,"click",K),ne(g,"click",Q)],_=!0)},p(M,V){if(t=M,b===(b=D(t))&&O?O.p(t,V):(O.d(1),O=b(t),O&&(O.c(),O.m(o,null))),V&10){L=t[11].attributes;let F;for(F=0;F<L.length;F+=1){const ee=qn(t,L,F);I[F]?I[F].p(ee,V):(I[F]=Kn(ee),I[F].c(),I[F].m(c,null))}for(;F<I.length;F+=1)I[F].d(1);I.length=L.length}},i(M){m||(R(f.$$.fragment,M),R(d.$$.fragment,M),m=!0)},o(M){A(f.$$.fragment,M),A(d.$$.fragment,M),m=!1},d(M){M&&T(e),O.d(),$e(I,M),w(f),w(d),_=!1,he(P)}}}function Zn(t){let e,n;return e=new $o({}),{c(){H(e.$$.fragment)},m(r,i){U(e,r,i),n=!0},i(r){n||(R(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){w(e,r)}}}function na(t){let e,n,r,i,s,o,a,c,l,u=t[2]?"Refresh":"Refreshed",f,p,g,d,m=t[1].filter(t[7]),_=[];for(let b=0;b<m.length;b+=1)_[b]=Wn(Jn(t,m,b));const P=b=>A(_[b],1,1,()=>{_[b]=null});let D=t[1].length==0&&Zn();return c=new Wo({}),{c(){e=C("div"),n=C("h2"),n.textContent=`On call since ${t[4].toLocaleTimeString()}`,r=S(),i=C("div");for(let b=0;b<_.length;b+=1)_[b].c();s=S(),D&&D.c(),o=S(),a=C("button"),H(c.$$.fragment),l=S(),f=J(u),h(a,"class","refreshList svelte-6ys5wm"),a.disabled=t[2],h(i,"class","clientList svelte-6ys5wm"),h(e,"class","callScreen svelte-6ys5wm")},m(b,O){E(b,e,O),y(e,n),y(e,r),y(e,i);for(let L=0;L<_.length;L+=1)_[L].m(i,null);y(i,s),D&&D.m(i,null),y(i,o),y(i,a),U(c,a,null),y(a,l),y(a,f),p=!0,g||(d=ne(a,"click",t[5]),g=!0)},p(b,[O]){if(O&75){m=b[1].filter(b[7]);let L;for(L=0;L<m.length;L+=1){const I=Jn(b,m,L);_[L]?(_[L].p(I,O),R(_[L],1)):(_[L]=Wn(I),_[L].c(),R(_[L],1),_[L].m(i,s))}for(le(),L=m.length;L<_.length;L+=1)P(L);ue()}b[1].length==0?D?O&2&&R(D,1):(D=Zn(),D.c(),R(D,1),D.m(i,o)):D&&(le(),A(D,1,1,()=>{D=null}),ue()),(!p||O&4)&&u!==(u=b[2]?"Refresh":"Refreshed")&&Ce(f,u),(!p||O&4)&&(a.disabled=b[2])},i(b){if(!p){for(let O=0;O<m.length;O+=1)R(_[O]);R(D),R(c.$$.fragment,b),p=!0}},o(b){_=_.filter(Boolean);for(let O=0;O<_.length;O+=1)A(_[O]);A(D),A(c.$$.fragment,b),p=!1},d(b){b&&T(e),$e(_,b),D&&D.d(),w(c),g=!1,d()}}}function ra(t,e,n){let r;De(t,yn,d=>n(3,r=d));let{onCalling:i=d=>{}}=e,s=[],o,a=new Date,c=!1;ir(()=>{o=setInterval(async()=>{n(1,s=await Pe.fetchClientList())},1e4),Pe.fetchClientList().then(d=>n(1,s=d))});function l(){n(2,c=!1),Pe.fetchClientList().then(d=>n(1,s=d)),setTimeout(()=>n(2,c=!0),5e3)}Xt(()=>{clearInterval(o)});function u(d){yn.update(m=>[...m,d])}const f=d=>!r.includes(d),p=d=>{i(d.id),u(d.id)},g=d=>u(d.id);return t.$$set=d=>{"onCalling"in d&&n(0,i=d.onCalling)},[i,s,c,r,a,l,u,f,p,g]}class ia extends Z{constructor(e){super(),W(this,e,ra,na,q,{onCalling:0})}}function sa(t){let e;return{c(){e=C("aside"),e.innerHTML="<h2>Edit your profile</h2>",h(e,"class","editProfile svelte-9sijrn")},m(n,r){E(n,e,r)},p:x,i:x,o:x,d(n){n&&T(e)}}}class oa extends Z{constructor(e){super(),W(this,e,null,sa,q,{})}}function aa(t){let e;return{c(){e=C("aside"),e.innerHTML="<h2>Guidebook</h2>",h(e,"class","guidebook svelte-1f58b53")},m(n,r){E(n,e,r)},p:x,i:x,o:x,d(n){n&&T(e)}}}class ca extends Z{constructor(e){super(),W(this,e,null,aa,q,{})}}function la(t){let e;return{c(){e=C("main"),e.textContent="Log in with your Google account to continue.",h(e,"class","login")},m(n,r){E(n,e,r)},p:x,i:x,o:x,d(n){n&&T(e)}}}function ua(t){let e,n,r,i,s,o,a,c;n=new oa({});const l=[da,fa],u=[];function f(p,g){return p[0]?0:1}return i=f(t),s=u[i]=l[i](t),a=new ca({}),{c(){e=C("main"),H(n.$$.fragment),r=S(),s.c(),o=S(),H(a.$$.fragment),h(e,"class","advisorDashboard svelte-1w89r7w")},m(p,g){E(p,e,g),U(n,e,null),y(e,r),u[i].m(e,null),y(e,o),U(a,e,null),c=!0},p(p,g){let d=i;i=f(p),i===d?u[i].p(p,g):(le(),A(u[d],1,1,()=>{u[d]=null}),ue(),s=u[i],s?s.p(p,g):(s=u[i]=l[i](p),s.c()),R(s,1),s.m(e,o))},i(p){c||(R(n.$$.fragment,p),R(s),R(a.$$.fragment,p),c=!0)},o(p){A(n.$$.fragment,p),A(s),A(a.$$.fragment,p),c=!1},d(p){p&&T(e),w(n),u[i].d(),w(a)}}}function fa(t){let e,n;return e=new ia({props:{onCalling:t[3]}}),{c(){H(e.$$.fragment)},m(r,i){U(e,r,i),n=!0},p:x,i(r){n||(R(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){w(e,r)}}}function da(t){let e,n;return e=new oi({props:{userData:t[1],targetData:t[2],onHangup:t[4],defaults:{video:ha,audio:ma}}}),{c(){H(e.$$.fragment)},m(r,i){U(e,r,i),n=!0},p(r,i){const s={};i&2&&(s.userData=r[1]),i&4&&(s.targetData=r[2]),i&1&&(s.onHangup=r[4]),e.$set(s)},i(r){n||(R(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){w(e,r)}}}function pa(t){let e,n,r,i;const s=[ua,la],o=[];function a(c,l){return c[1]?0:1}return e=a(t),n=o[e]=s[e](t),{c(){n.c(),r=nr()},m(c,l){o[e].m(c,l),E(c,r,l),i=!0},p(c,[l]){let u=e;e=a(c),e===u?o[e].p(c,l):(le(),A(o[u],1,1,()=>{o[u]=null}),ue(),n=o[e],n?n.p(c,l):(n=o[e]=s[e](c),n.c()),R(n,1),n.m(r.parentNode,r))},i(c){i||(R(n),i=!0)},o(c){A(n),i=!1},d(c){o[e].d(c),c&&T(r)}}}let ha=!0,ma=!0;function ga(t,e,n){let r,i;De(t,ke,c=>n(1,r=c)),De(t,ze,c=>n(2,i=c));let s=!1;async function o(c){await Pe.acceptCall(c),ze.set({id:c}),n(0,s=!0)}return[s,r,i,o,()=>{n(0,s=!1),ze.set(null)}]}class ya extends Z{constructor(e){super(),W(this,e,ga,pa,q,{})}}function _a(t){let e,n,r,i,s,o,a;return{c(){e=C("div"),n=C("p"),n.textContent="Sign in with Google to continue.",r=S(),i=C("div"),h(i,"class","g_id_signin svelte-xly9v9"),h(i,"data-type","standard"),h(i,"data-size","large"),h(i,"data-theme","outline"),h(i,"data-text","sign_in_with"),h(i,"data-shape","rectangular"),h(i,"data-logo_alignment","left"),h(e,"class","googleSignIn svelte-xly9v9")},m(c,l){E(c,e,l),y(e,n),y(e,r),y(e,i),t[6](i),a=!0},p:x,i(c){a||(ce(()=>{o&&o.end(1),s=Me(e,se,{x:200,duration:200}),s.start()}),a=!0)},o(c){s&&s.invalidate(),o=je(e,se,{x:-200,duration:200}),a=!1},d(c){c&&T(e),t[6](null),c&&o&&o.end()}}}function Ca(t){let e,n;return e=new ya({}),{c(){H(e.$$.fragment)},m(r,i){U(e,r,i),n=!0},p:x,i(r){n||(R(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){w(e,r)}}}function va(t){let e,n,r,i;const s=[Sa,ba],o=[];function a(c,l){return c[3]?1:0}return e=a(t),n=o[e]=s[e](t),{c(){n.c(),r=nr()},m(c,l){o[e].m(c,l),E(c,r,l),i=!0},p(c,l){let u=e;e=a(c),e===u?o[e].p(c,l):(le(),A(o[u],1,1,()=>{o[u]=null}),ue(),n=o[e],n?n.p(c,l):(n=o[e]=s[e](c),n.c()),R(n,1),n.m(r.parentNode,r))},i(c){i||(R(n),i=!0)},o(c){A(n),i=!1},d(c){o[e].d(c),c&&T(r)}}}function ba(t){let e,n;return e=new oi({props:{userData:t[0],targetData:t[3],onHangup:t[5],defaults:t[4]}}),{c(){H(e.$$.fragment)},m(r,i){U(e,r,i),n=!0},p(r,i){const s={};i&1&&(s.userData=r[0]),i&8&&(s.targetData=r[3]),e.$set(s)},i(r){n||(R(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){w(e,r)}}}function Sa(t){let e,n;return e=new go({}),{c(){H(e.$$.fragment)},m(r,i){U(e,r,i),n=!0},p:x,i(r){n||(R(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){w(e,r)}}}function Ta(t){let e,n,r,i,s,o,a,c,l,u;i=new _o({});const f=[va,Ca,_a],p=[];function g(d,m){return d[1]==="client"?0:d[1]==="advisor"&&d[0]&&d[0].isAdvisor?1:d[1]==="advisor"?2:-1}return~(o=g(t))&&(a=p[o]=f[o](t)),{c(){e=C("script"),r=S(),H(i.$$.fragment),s=S(),a&&a.c(),c=S(),l=C("div"),Qn(e.src,n="https://accounts.google.com/gsi/client")||h(e,"src",n),e.async=!0,e.defer=!0,h(l,"id","g_id_onload"),h(l,"data-client_id","869385602749-9elqfom3fsdr71en2iovlrcjkcv9l5of.apps.googleusercontent.com"),h(l,"data-callback","handleCredentialResponse")},m(d,m){y(document.head,e),E(d,r,m),U(i,d,m),E(d,s,m),~o&&p[o].m(d,m),E(d,c,m),E(d,l,m),u=!0},p(d,[m]){let _=o;o=g(d),o===_?~o&&p[o].p(d,m):(a&&(le(),A(p[_],1,1,()=>{p[_]=null}),ue()),~o?(a=p[o],a?a.p(d,m):(a=p[o]=f[o](d),a.c()),R(a,1),a.m(c.parentNode,c)):a=null)},i(d){u||(R(i.$$.fragment,d),R(a),u=!0)},o(d){A(i.$$.fragment,d),A(a),u=!1},d(d){T(e),d&&T(r),w(i,d),d&&T(s),~o&&p[o].d(d),d&&T(c),d&&T(l)}}}function Ra(t){let n=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(n).split("").map(function(i){return"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(r)}function ka(t,e,n){let r,i,s;De(t,ke,f=>n(0,r=f)),De(t,cr,f=>n(1,i=f)),De(t,ze,f=>n(3,s=f));let o={video:!0,audio:!0};window.handleCredentialResponse=async f=>{let p=Ra(f.credential),g=await Pe.login(p.sub,p.name,p.picture,p.email);ke.set(g)};let a;function c(){setTimeout(()=>window.google.accounts.id.renderButton(a,{theme:"white",size:"large",type:"standard",text:"continue_with"}),0)}const l=()=>{ze.set(null)};function u(f){Ye[f?"unshift":"push"](()=>{a=f,n(2,a)})}return t.$$.update=()=>{t.$$.dirty&3&&i==="advisor"&&(!r||!r.isAdvisor)&&c()},[r,i,a,s,o,l,u]}class Ea extends Z{constructor(e){super(),W(this,e,ka,Ta,q,{})}}new Ea({target:document.getElementById("app")});
